<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zig Documentation</title>
    <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTMgMTQwIj48ZyBmaWxsPSIjRjdBNDFEIj48Zz48cG9seWdvbiBwb2ludHM9IjQ2LDIyIDI4LDQ0IDE5LDMwIi8+PHBvbHlnb24gcG9pbnRzPSI0NiwyMiAzMywzMyAyOCw0NCAyMiw0NCAyMiw5NSAzMSw5NSAyMCwxMDAgMTIsMTE3IDAsMTE3IDAsMjIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMzEsOTUgMTIsMTE3IDQsMTA2Ii8+PC9nPjxnPjxwb2x5Z29uIHBvaW50cz0iNTYsMjIgNjIsMzYgMzcsNDQiLz48cG9seWdvbiBwb2ludHM9IjU2LDIyIDExMSwyMiAxMTEsNDQgMzcsNDQgNTYsMzIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTE2LDk1IDk3LDExNyA5MCwxMDQiLz48cG9seWdvbiBwb2ludHM9IjExNiw5NSAxMDAsMTA0IDk3LDExNyA0MiwxMTcgNDIsOTUiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTUwLDAgNTIsMTE3IDMsMTQwIDEwMSwyMiIvPjwvZz48Zz48cG9seWdvbiBwb2ludHM9IjE0MSwyMiAxNDAsNDAgMTIyLDQ1Ii8+PHBvbHlnb24gcG9pbnRzPSIxNTMsMjIgMTUzLDExNyAxMDYsMTE3IDEyMCwxMDUgMTI1LDk1IDEzMSw5NSAxMzEsNDUgMTIyLDQ1IDEzMiwzNiAxNDEsMjIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTI1LDk1IDEzMCwxMTAgMTA2LDExNyIvPjwvZz48L2c+PC9zdmc+">
    <style type="text/css">
      *, *::before, *::after {
        box-sizing: border-box;
      }
      body {
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        font-size: 16px;
        color: #000000;
      }
      .hidden {
        display: none;
      }
      table {
        width: 100%;
      }
      a {
        color: #2A6286;
      }
      details summary {
        cursor: pointer;
      }
      pre {
        font-family: "Source Code Pro",monospace;
        font-size: 1rem;
        background-color: #F5F5F5;
        padding: 1rem;
        margin: 0;
        overflow-x: auto;
      }
      :not(pre) > code {
        white-space: break-spaces;
      }
      code, code a {
        font-family: "Source Code Pro", monospace;
        font-size: 0.9rem;
      }
      code a {
        color: #000000;
      }
      .listFields > div, .listParams > div {
        margin-bottom: 1rem;
      }
      .declHeader a {
        font-size: 0.7rem;
        padding-left: 1rem;
      }
      .declHeader .declHeaderIdentifier {
        padding-left: 0.75rem;
      }
      .fieldDocs {
        border: 1px solid #F5F5F5;
        border-top: 0px;
        padding: 1px 1rem;
      }

      #logo {
        width: 8rem;
        padding: 0.5rem 1rem;
      }

      #navWrap {
        width: -moz-available;
        width: -webkit-fill-available;
        width: stretch;
        margin-left: 11rem;
      }

      #search {
        width: 100%;
      }

      nav {
        width: 10rem;
        float: left;
      }
      nav h2 {
        font-size: 1.2rem;
        text-decoration: underline;
        margin: 0;
        padding: 0.5rem 0;
        text-align: center;
      }
      nav p {
        margin: 0;
        padding: 0;
        text-align: center;
      }
      section {
        clear: both;
        padding-top: 1rem;
      }
      section .declHeader {
        font-size: 1.3rem;
        border-bottom: 1px dashed;
        margin: 0 0;
      }
      section .sectionHeader {
        font-size: 1.3rem;
        margin: 0.5rem 0;
        padding: 0;
        border-bottom: 1px solid;
      }
      #listNav {
        list-style-type: none;
        margin: 0.5rem 0 0 0;
        padding: 0;
        overflow: hidden;
        background-color: #f1f1f1;
      }
      #listNav li {
        float:left;
      }
      #listNav li a {
        display: block;
        color: #000;
        text-align: center;
        padding: .5rem .8rem;
        text-decoration: none;
      }
      #listNav li a:hover {
        background-color: #555;
        color: #fff;
      }
      #listNav li a.active {
        background-color: #FFBB4D;
        color: #000;
      }
      .sectSource {
        margin-bottom: 2rem;
      }

      #helpDialog {
        width: 21rem;
        height: 21rem;
        position: fixed;
        top: 0;
        left: 0;
        background-color: #333;
        color: #fff;
        border: 1px solid #fff;
      }
      #helpDialog h1 {
        text-align: center;
        font-size: 1.5rem;
      }
      #helpDialog dt, #helpDialog dd {
        display: inline;
        margin: 0 0.2rem;
      }
      kbd {
        color: #000;
        background-color: #fafbfc;
        border-color: #d1d5da;
        border-bottom-color: #c6cbd1;
        box-shadow-color: #c6cbd1;
        display: inline-block;
        padding: 0.3rem 0.2rem;
        font: 1.2rem monospace;
        line-height: 0.8rem;
        vertical-align: middle;
        border: solid 1px;
        border-radius: 3px;
        box-shadow: inset 0 -1px 0;
        cursor: default;
      }

      #errors {
        background-color: #faa;
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        max-height: min(20rem, 50vh);
        padding: 0.5rem;
        overflow: auto;
      }
      #errors h1 {
        font-size: 1.5rem;
      }
      #errors pre {
        background-color: #fcc;
      }
      
      .decl .decl {
        padding-left: 1rem;
        border-left: 4px solid;
        border-color: #555;
      }

      .listSearchResults li.selected {
        background-color: #93e196;
      }

      .tableFnErrors dt {
        font-weight: bold;
      }

      dl > div {
          padding: 0.5rem;
          border: 1px solid #c0c0c0;
          margin-top: 0.5rem;
      }

      td, th {
        text-align: unset;
        vertical-align: top;
        margin: 0;
        padding: 0.5rem;
        max-width: 20rem;
        text-overflow: ellipsis;
        overflow-x: hidden;
      }

      ul.columns {
        column-width: 20rem;
      }

      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #0086b3;
      }
      .tok-comment {
          color: #777;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #008080;
      }
      .tok-number {
          color: #008080;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }

      @media (prefers-color-scheme: dark) {
        body {
          background-color: #111;
          color: #bbb;
        }
        pre {
          background-color: #222;
          color: #ccc;
        }
        a {
          color: #88f;
        }
        code a {
          color: #ccc;
        }
        .fieldDocs {
          border-color:#2A2A2A;
        }
        #listNav {
          background-color: #333;
        }
        #listNav li a {
          color: #fff;
        }
        #listNav li a:hover {
          background-color: #555;
          color: #fff;
        }
        #listNav li a.active {
          background-color: #FFBB4D;
          color: #000;
        }
        .listSearchResults li.selected {
          background-color: #000;
        }
        .listSearchResults li.selected a {
          color: #fff;
        }
        #errors {
          background-color: #800;
          color: #fff;
        }
        #errors pre {
          background-color: #a00;
          color: #fff;
        }
        dl > div {
          border-color: #373737;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #B1A0F8;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
      }
    </style>
  </head>
  <body>
    <nav>
      <a class="logo" href="#">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 140">
        <g fill="#F7A41D">
          <g>
            <polygon points="46,22 28,44 19,30"/>
            <polygon points="46,22 33,33 28,44 22,44 22,95 31,95 20,100 12,117 0,117 0,22" shape-rendering="crispEdges"/>
            <polygon points="31,95 12,117 4,106"/>
          </g>
          <g>
            <polygon points="56,22 62,36 37,44"/>
            <polygon points="56,22 111,22 111,44 37,44 56,32" shape-rendering="crispEdges"/>
            <polygon points="116,95 97,117 90,104"/>
            <polygon points="116,95 100,104 97,117 42,117 42,95" shape-rendering="crispEdges"/>
            <polygon points="150,0 52,117 3,140 101,22"/>
          </g>
          <g>
            <polygon points="141,22 140,40 122,45"/>
            <polygon points="153,22 153,117 106,117 120,105 125,95 131,95 131,45 122,45 132,36 141,22" shape-rendering="crispEdges"/>
            <polygon points="125,95 130,110 106,117"/>
          </g>
        </g>
        <style>
        #text { fill: #121212 }
        @media (prefers-color-scheme: dark) { #text { fill: #f2f2f2 } }
        </style>
        <g id="text">
          <g>
            <polygon points="260,22 260,37 229,40 177,40 177,22" shape-rendering="crispEdges"/>
            <polygon points="260,37 207,99 207,103 176,103 229,40 229,37"/>
            <polygon points="261,99 261,117 176,117 176,103 206,99" shape-rendering="crispEdges"/>
          </g>
          <rect x="272" y="22" shape-rendering="crispEdges" width="22" height="95"/>
          <g>
            <polygon points="394,67 394,106 376,106 376,81 360,70 346,67" shape-rendering="crispEdges"/>
            <polygon points="360,68 376,81 346,67"/>
            <path d="M394,106c-10.2,7.3-24,12-37.7,12c-29,0-51.1-20.8-51.1-48.3c0-27.3,22.5-48.1,52-48.1    c14.3,0,29.2,5.5,38.9,14l-13,15c-7.1-6.3-16.8-10-25.9-10c-17,0-30.2,12.9-30.2,29.5c0,16.8,13.3,29.6,30.3,29.6    c5.7,0,12.8-2.3,19-5.5L394,106z"/>
          </g>
        </g>
        </svg>
      </a>
    </nav>
    <div id="navWrap">
      <input disabled type="search" id="search" autocomplete="off" spellcheck="false" placeholder="`s` to search, `?` to see more options">
      <div id="sectNav"><ul id="listNav"><li><a href="#" class="">std</a></li><li><a href="std.math.html" class="active">math</a></li></ul></div>
    </div>
    <section><div class="decl"><h1 id="std.math" class="declHeader"><span class="declHeaderCategory">struct</span><span class="declHeaderIdentifier">std.math</span><a href="#src.zig-std.math">[src]</a></h1><div class="sectNamespaces"><h2 class="sectionHeader">Namespaces</h2><ul class="listNamespaces columns"><li><a href="std.math.complex.html">std.math.complex</a></li><li><a href="std.math.big.html">std.math.big</a></li></ul></div><div class="sectContainers"><h2 class="sectionHeader">Container Types</h2><ul class="listContainers columns"><li><a href="std.math.Order.html">std.math.Order</a></li><li><a href="std.math.CompareOperator.html">std.math.CompareOperator</a></li><li><a href="std.math.F80.html">std.math.F80</a></li></ul></div><div class="sectTypes"><h2 class="sectionHeader">Types</h2><div class="listTypes"><div class="decl"><h2 id="std.math.frexp.Frexp" class="declHeader"><span class="declHeaderCategory">Type Function</span><span class="declHeaderIdentifier">Frexp</span><a href="#src.zig-std.math.frexp.Frexp">[src]</a></h2><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectFields"><h3 class="sectionHeader">Fields</h3><div class="listFields"><div><pre><code>significand: T</code></pre></div><div><pre><code>exponent: <span class="tok-type">i32</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.frexp.Frexp">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">Frexp</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">type</span> {
    <span class="tok-kw">return</span> <span class="tok-kw">struct</span> {
        significand: T,
        exponent: <span class="tok-type">i32</span>,
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.modf.Modf" class="declHeader"><span class="declHeaderCategory">Type Function</span><span class="declHeaderIdentifier">Modf</span><a href="#src.zig-std.math.modf.Modf">[src]</a></h2><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectFields"><h3 class="sectionHeader">Fields</h3><div class="listFields"><div><pre><code>fpart: T</code></pre></div><div><pre><code>ipart: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.modf.Modf">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">Modf</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">type</span> {
    <span class="tok-kw">return</span> <span class="tok-kw">struct</span> {
        fpart: T,
        ipart: T,
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.complex.Complex" class="declHeader"><span class="declHeaderCategory">Type Function</span><span class="declHeaderIdentifier">Complex</span><a href="#src.zig-std.math.complex.Complex">[src]</a></h2><div class="tldDocs"><p>A complex number consisting of a real an imaginary part. T must be a floating-point value.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectFields"><h3 class="sectionHeader">Fields</h3><div class="listFields"><div><pre><code>re: T</code></pre><div class="fieldDocs"><p>Real part.</p>
</div></div><div><pre><code>im: T</code></pre><div class="fieldDocs"><p>Imaginary part.</p>
</div></div></div></div><div class="sectFns"><h3 class="sectionHeader">Functions</h3><div class="listFns"><div class="decl"><h3 id="std.math.complex.Complex.init" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">init</span><a href="#src.zig-std.math.complex.Complex.init">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">init</span>(re: T, im: T) <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div class="tldDocs"><p>Create a new Complex number from the given real and imaginary parts.</p>
</div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>re: T</code></pre></div><div><pre><code>im: T</code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.init">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">init</span>(re: T, im: T) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
    <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
        .re = re,
        .im = im,
    };
}</code></pre></details></div></div><div class="decl"><h3 id="std.math.complex.Complex.add" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">add</span><a href="#src.zig-std.math.complex.Complex.add">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">add</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div class="tldDocs"><p>Returns the sum of two complex numbers.</p>
</div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div><pre><code>other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.add">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">add</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
    <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
        .re = self.re + other.re,
        .im = self.im + other.im,
    };
}</code></pre></details></div></div><div class="decl"><h3 id="std.math.complex.Complex.sub" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">sub</span><a href="#src.zig-std.math.complex.Complex.sub">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">sub</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div class="tldDocs"><p>Returns the subtraction of two complex numbers.</p>
</div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div><pre><code>other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.sub">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">sub</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
    <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
        .re = self.re - other.re,
        .im = self.im - other.im,
    };
}</code></pre></details></div></div><div class="decl"><h3 id="std.math.complex.Complex.mul" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">mul</span><a href="#src.zig-std.math.complex.Complex.mul">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mul</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div class="tldDocs"><p>Returns the product of two complex numbers.</p>
</div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div><pre><code>other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.mul">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mul</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
    <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
        .re = self.re * other.re - self.im * other.im,
        .im = self.im * other.re + self.re * other.im,
    };
}</code></pre></details></div></div><div class="decl"><h3 id="std.math.complex.Complex.div" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">div</span><a href="#src.zig-std.math.complex.Complex.div">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">div</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div class="tldDocs"><p>Returns the quotient of two complex numbers.</p>
</div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div><pre><code>other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.div">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">div</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
    <span class="tok-kw">const</span> re_num = self.re * other.re + self.im * other.im;
    <span class="tok-kw">const</span> im_num = self.im * other.re - self.re * other.im;
    <span class="tok-kw">const</span> den = other.re * other.re + other.im * other.im;

    <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
        .re = re_num / den,
        .im = im_num / den,
    };
}</code></pre></details></div></div><div class="decl"><h3 id="std.math.complex.Complex.conjugate" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">conjugate</span><a href="#src.zig-std.math.complex.Complex.conjugate">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">conjugate</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div class="tldDocs"><p>Returns the complex conjugate of a number.</p>
</div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.conjugate">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">conjugate</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
    <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
        .re = self.re,
        .im = -self.im,
    };
}</code></pre></details></div></div><div class="decl"><h3 id="std.math.complex.Complex.neg" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">neg</span><a href="#src.zig-std.math.complex.Complex.neg">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">neg</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div class="tldDocs"><p>Returns the negation of a complex number.</p>
</div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.neg">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">neg</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
    <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
        .re = -self.re,
        .im = -self.im,
    };
}</code></pre></details></div></div><div class="decl"><h3 id="std.math.complex.Complex.mulbyi" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">mulbyi</span><a href="#src.zig-std.math.complex.Complex.mulbyi">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mulbyi</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div class="tldDocs"><p>Returns the product of complex number and i=sqrt(-1)</p>
</div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.mulbyi">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mulbyi</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
    <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
        .re = -self.im,
        .im = self.re,
    };
}</code></pre></details></div></div><div class="decl"><h3 id="std.math.complex.Complex.reciprocal" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">reciprocal</span><a href="#src.zig-std.math.complex.Complex.reciprocal">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">reciprocal</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div><div class="tldDocs"><p>Returns the reciprocal of a complex number.</p>
</div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.reciprocal">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">reciprocal</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
    <span class="tok-kw">const</span> m = self.re * self.re + self.im * self.im;
    <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
        .re = self.re / m,
        .im = -self.im / m,
    };
}</code></pre></details></div></div><div class="decl"><h3 id="std.math.complex.Complex.magnitude" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">magnitude</span><a href="#src.zig-std.math.complex.Complex.magnitude">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">magnitude</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) T</code></pre></div><div class="tldDocs"><p>Returns the magnitude of a complex number.</p>
</div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.magnitude">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">magnitude</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) T {
    <span class="tok-kw">return</span> <span class="tok-builtin">@sqrt</span>(self.re * self.re + self.im * self.im);
}</code></pre></details></div></div><div class="decl"><h3 id="std.math.complex.Complex.squaredMagnitude" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">squaredMagnitude</span><a href="#src.zig-std.math.complex.Complex.squaredMagnitude">[src]</a></h3><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">squaredMagnitude</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) T</code></pre></div><div class="sectParams"><h4 class="sectionHeader">Parameters</h4><div class="listParams"><div><pre><code>self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a></code></pre></div></div></div><div class="sectSource"><h4 class="sectionHeader" id="src.zig-std.math.complex.Complex.squaredMagnitude">Source Code</h4><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">squaredMagnitude</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) T {
    <span class="tok-kw">return</span> self.re * self.re + self.im * self.im;
}</code></pre></details></div></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.complex.Complex">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">Complex</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">type</span> {
    <span class="tok-kw">return</span> <span class="tok-kw">struct</span> {
        <span class="tok-kw">const</span> Self = <span class="tok-builtin">@This</span>();

        <span class="tok-comment">/// Real part.</span>
        re: T,

        <span class="tok-comment">/// Imaginary part.</span>
        im: T,

        <span class="tok-comment">/// Create a new Complex number from the given real and imaginary parts.</span>
        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">init</span>(re: T, im: T) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
            <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
                .re = re,
                .im = im,
            };
        }

        <span class="tok-comment">/// Returns the sum of two complex numbers.</span>
        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">add</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
            <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
                .re = self.re + other.re,
                .im = self.im + other.im,
            };
        }

        <span class="tok-comment">/// Returns the subtraction of two complex numbers.</span>
        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">sub</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
            <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
                .re = self.re - other.re,
                .im = self.im - other.im,
            };
        }

        <span class="tok-comment">/// Returns the product of two complex numbers.</span>
        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mul</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
            <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
                .re = self.re * other.re - self.im * other.im,
                .im = self.im * other.re + self.re * other.im,
            };
        }

        <span class="tok-comment">/// Returns the quotient of two complex numbers.</span>
        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">div</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>, other: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
            <span class="tok-kw">const</span> re_num = self.re * other.re + self.im * other.im;
            <span class="tok-kw">const</span> im_num = self.im * other.re - self.re * other.im;
            <span class="tok-kw">const</span> den = other.re * other.re + other.im * other.im;

            <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
                .re = re_num / den,
                .im = im_num / den,
            };
        }

        <span class="tok-comment">/// Returns the complex conjugate of a number.</span>
        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">conjugate</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
            <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
                .re = self.re,
                .im = -self.im,
            };
        }

        <span class="tok-comment">/// Returns the negation of a complex number.</span>
        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">neg</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
            <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
                .re = -self.re,
                .im = -self.im,
            };
        }

        <span class="tok-comment">/// Returns the product of complex number and i=sqrt(-1)</span>
        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mulbyi</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
            <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
                .re = -self.im,
                .im = self.re,
            };
        }

        <span class="tok-comment">/// Returns the reciprocal of a complex number.</span>
        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">reciprocal</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) <a href="std.math.complex.html#std.math.complex.Complex">Self</a> {
            <span class="tok-kw">const</span> m = self.re * self.re + self.im * self.im;
            <span class="tok-kw">return</span> <a href="std.math.complex.html#std.math.complex.Complex">Self</a>{
                .re = self.re / m,
                .im = -self.im / m,
            };
        }

        <span class="tok-comment">/// Returns the magnitude of a complex number.</span>
        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">magnitude</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) T {
            <span class="tok-kw">return</span> <span class="tok-builtin">@sqrt</span>(self.re * self.re + self.im * self.im);
        }

        <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">squaredMagnitude</span>(self: <a href="std.math.complex.html#std.math.complex.Complex">Self</a>) T {
            <span class="tok-kw">return</span> self.re * self.re + self.im * self.im;
        }
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.Min" class="declHeader"><span class="declHeaderCategory">Type Function</span><span class="declHeaderIdentifier">Min</span><a href="#src.zig-std.math.Min">[src]</a></h2><div class="tldDocs"><p>Given two types, returns the smallest one which is capable of holding the
full range of the minimum value.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>A: <span class="tok-type">type</span></code></pre></div><div><pre><code>B: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.Min">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">Min</span>(<span class="tok-kw">comptime</span> A: <span class="tok-type">type</span>, <span class="tok-kw">comptime</span> B: <span class="tok-type">type</span>) <span class="tok-type">type</span> {
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(A)) {
        .int =&gt; |a_info| <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(B)) {
            .int =&gt; |b_info| <span class="tok-kw">if</span> (a_info.signedness == .unsigned <span class="tok-kw">and</span> b_info.signedness == .unsigned) {
                <span class="tok-kw">if</span> (a_info.bits &lt; b_info.bits) {
                    <span class="tok-kw">return</span> A;
                } <span class="tok-kw">else</span> {
                    <span class="tok-kw">return</span> B;
                }
            },
            <span class="tok-kw">else</span> =&gt; {},
        },
        <span class="tok-kw">else</span> =&gt; {},
    }
    <span class="tok-kw">return</span> <span class="tok-builtin">@TypeOf</span>(<span class="tok-builtin">@as</span>(A, <span class="tok-number">0</span>) + <span class="tok-builtin">@as</span>(B, <span class="tok-number">0</span>));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.Log2Int" class="declHeader"><span class="declHeaderCategory">Type Function</span><span class="declHeaderIdentifier">Log2Int</span><a href="#src.zig-std.math.Log2Int">[src]</a></h2><div class="tldDocs"><p>Returns an unsigned int type that can hold the number of bits in T - 1.
Suitable for 0-based bit indices of T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.Log2Int">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">Log2Int</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">type</span> {<span class="tok-comment">
    // comptime ceil log2
    </span><span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> <span class="tok-type">comptime_int</span>;
    <span class="tok-kw">const</span> bits: <span class="tok-type">u16</span> = <span class="tok-builtin">@typeInfo</span>(T).int.bits;
    <span class="tok-kw">const</span> log2_bits = <span class="tok-number">16</span> - <span class="tok-builtin">@clz</span>(bits - <span class="tok-number">1</span>);
    <span class="tok-kw">return</span> <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, log2_bits);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.Log2IntCeil" class="declHeader"><span class="declHeaderCategory">Type Function</span><span class="declHeaderIdentifier">Log2IntCeil</span><a href="#src.zig-std.math.Log2IntCeil">[src]</a></h2><div class="tldDocs"><p>Returns an unsigned int type that can hold the number of bits in T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.Log2IntCeil">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">Log2IntCeil</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">type</span> {<span class="tok-comment">
    // comptime ceil log2
    </span><span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> <span class="tok-type">comptime_int</span>;
    <span class="tok-kw">const</span> bits: <span class="tok-type">u16</span> = <span class="tok-builtin">@typeInfo</span>(T).int.bits;
    <span class="tok-kw">const</span> log2_bits = <span class="tok-number">16</span> - <span class="tok-builtin">@clz</span>(bits);
    <span class="tok-kw">return</span> <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, log2_bits);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.IntFittingRange" class="declHeader"><span class="declHeaderCategory">Type Function</span><span class="declHeaderIdentifier">IntFittingRange</span><a href="#src.zig-std.math.IntFittingRange">[src]</a></h2><div class="tldDocs"><p>Returns the smallest integer type that can hold both from and to.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>from: <span class="tok-type">comptime_int</span></code></pre></div><div><pre><code>to: <span class="tok-type">comptime_int</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> IntFittingRange {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">0</span>) == <span class="tok-type">u0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">1</span>) == <span class="tok-type">u1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">2</span>) == <span class="tok-type">u2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">3</span>) == <span class="tok-type">u2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">4</span>) == <span class="tok-type">u3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">7</span>) == <span class="tok-type">u3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">8</span>) == <span class="tok-type">u4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">9</span>) == <span class="tok-type">u4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">15</span>) == <span class="tok-type">u4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">16</span>) == <span class="tok-type">u5</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">17</span>) == <span class="tok-type">u5</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">4095</span>) == <span class="tok-type">u12</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">2000</span>, <span class="tok-number">4095</span>) == <span class="tok-type">u12</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">4096</span>) == <span class="tok-type">u13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">2000</span>, <span class="tok-number">4096</span>) == <span class="tok-type">u13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">4097</span>) == <span class="tok-type">u13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">2000</span>, <span class="tok-number">4097</span>) == <span class="tok-type">u13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">123456789123456798123456789</span>) == <span class="tok-type">u87</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">123456789123456798123456789123456789123456798123456789</span>) == <span class="tok-type">u177</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, -<span class="tok-number">1</span>) == <span class="tok-type">i1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">0</span>) == <span class="tok-type">i1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">1</span>) == <span class="tok-type">i2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">2</span>, -<span class="tok-number">2</span>) == <span class="tok-type">i2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">2</span>, -<span class="tok-number">1</span>) == <span class="tok-type">i2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">2</span>, <span class="tok-number">0</span>) == <span class="tok-type">i2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">2</span>, <span class="tok-number">1</span>) == <span class="tok-type">i2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">2</span>, <span class="tok-number">2</span>) == <span class="tok-type">i3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">2</span>) == <span class="tok-type">i3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">3</span>) == <span class="tok-type">i3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">4</span>) == <span class="tok-type">i4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">7</span>) == <span class="tok-type">i4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">8</span>) == <span class="tok-type">i5</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">9</span>) == <span class="tok-type">i5</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">15</span>) == <span class="tok-type">i5</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">16</span>) == <span class="tok-type">i6</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">17</span>) == <span class="tok-type">i6</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">4095</span>) == <span class="tok-type">i13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">4096</span>, <span class="tok-number">4095</span>) == <span class="tok-type">i13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">4096</span>) == <span class="tok-type">i14</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">4097</span>, <span class="tok-number">4095</span>) == <span class="tok-type">i14</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">4097</span>) == <span class="tok-type">i14</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">123456789123456798123456789</span>) == <span class="tok-type">i88</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">123456789123456798123456789123456789123456798123456789</span>) == <span class="tok-type">i178</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.IntFittingRange">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">IntFittingRange</span>(<span class="tok-kw">comptime</span> from: <span class="tok-type">comptime_int</span>, <span class="tok-kw">comptime</span> to: <span class="tok-type">comptime_int</span>) <span class="tok-type">type</span> {
    <a href="std.debug.html#std.debug.assert">assert</a>(from &lt;= to);
    <span class="tok-kw">if</span> (from == <span class="tok-number">0</span> <span class="tok-kw">and</span> to == <span class="tok-number">0</span>) {
        <span class="tok-kw">return</span> <span class="tok-type">u0</span>;
    }
    <span class="tok-kw">const</span> signedness: <a href="std.html">std</a>.<a href="std.builtin.html">builtin</a>.<a href="std.builtin.Signedness.html">Signedness</a> = <span class="tok-kw">if</span> (from &lt; <span class="tok-number">0</span>) .signed <span class="tok-kw">else</span> .unsigned;
    <span class="tok-kw">const</span> largest_positive_integer = <span class="tok-builtin">@max</span>(<span class="tok-kw">if</span> (from &lt; <span class="tok-number">0</span>) (-from) - <span class="tok-number">1</span> <span class="tok-kw">else</span> from, to);<span class="tok-comment"> // two's complement
    </span><span class="tok-kw">const</span> base = <a href="std.math.log2.html#std.math.log2.log2">log2</a>(largest_positive_integer);
    <span class="tok-kw">const</span> upper = (<span class="tok-number">1</span> &lt;&lt; base) - <span class="tok-number">1</span>;
    <span class="tok-kw">var</span> magnitude_bits = <span class="tok-kw">if</span> (upper &gt;= largest_positive_integer) base <span class="tok-kw">else</span> base + <span class="tok-number">1</span>;
    <span class="tok-kw">if</span> (signedness == .signed) {
        magnitude_bits += <span class="tok-number">1</span>;
    }
    <span class="tok-kw">return</span> <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(signedness, magnitude_bits);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.ByteAlignedInt" class="declHeader"><span class="declHeaderCategory">Type Function</span><span class="declHeaderIdentifier">ByteAlignedInt</span><a href="#src.zig-std.math.ByteAlignedInt">[src]</a></h2><div class="tldDocs"><p>Aligns the given integer type bit width to a width divisible by 8.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> ByteAlignedInt {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">u0</span>) == <span class="tok-type">u0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">i0</span>) == <span class="tok-type">i0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">u3</span>) == <span class="tok-type">u8</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">u8</span>) == <span class="tok-type">u8</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">i111</span>) == <span class="tok-type">i112</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">u129</span>) == <span class="tok-type">u136</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.ByteAlignedInt">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ByteAlignedInt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">type</span> {
    <span class="tok-kw">const</span> info = <span class="tok-builtin">@typeInfo</span>(T).int;
    <span class="tok-kw">const</span> bits = (info.bits + <span class="tok-number">7</span>) / <span class="tok-number">8</span> * <span class="tok-number">8</span>;
    <span class="tok-kw">const</span> extended_type = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(info.signedness, bits);
    <span class="tok-kw">return</span> extended_type;
}</code></pre></details></div></div></div></div><div class="sectValues"><h2 class="sectionHeader">Values</h2><div class="listValues"><div class="decl"><h2 id="std.math.e" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">e</span><a href="#src.zig-std.math.e">[src]</a></h2><div class="tldDocs"><p>Euler's number (e)</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.e">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> e = <span class="tok-number">2.71828182845904523536028747135266249775724709369995</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.pi" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">pi</span><a href="#src.zig-std.math.pi">[src]</a></h2><div class="tldDocs"><p>Archimedes' constant ()</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.pi">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> pi = <span class="tok-number">3.14159265358979323846264338327950288419716939937510</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.phi" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">phi</span><a href="#src.zig-std.math.phi">[src]</a></h2><div class="tldDocs"><p>Phi or Golden ratio constant () = (1 + sqrt(5))/2</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.phi">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> phi = <span class="tok-number">1.6180339887498948482045868343656381177203091798057628621</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.tau" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">tau</span><a href="#src.zig-std.math.tau">[src]</a></h2><div class="tldDocs"><p>Circle constant ()</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.tau">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> tau = <span class="tok-number">2</span> * <a href="std.math.html#std.math.pi">pi</a></code></pre></details></div></div><div class="decl"><h2 id="std.math.log2e" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">log2e</span><a href="#src.zig-std.math.log2e">[src]</a></h2><div class="tldDocs"><p>log2(e)</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.log2e">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> log2e = <span class="tok-number">1.442695040888963407359924681001892137</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.log10e" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">log10e</span><a href="#src.zig-std.math.log10e">[src]</a></h2><div class="tldDocs"><p>log10(e)</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.log10e">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> log10e = <span class="tok-number">0.434294481903251827651128918916605082</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.ln2" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">ln2</span><a href="#src.zig-std.math.ln2">[src]</a></h2><div class="tldDocs"><p>ln(2)</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.ln2">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> ln2 = <span class="tok-number">0.693147180559945309417232121458176568</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.ln10" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">ln10</span><a href="#src.zig-std.math.ln10">[src]</a></h2><div class="tldDocs"><p>ln(10)</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.ln10">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> ln10 = <span class="tok-number">2.302585092994045684017991454684364208</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.two_sqrtpi" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">two_sqrtpi</span><a href="#src.zig-std.math.two_sqrtpi">[src]</a></h2><div class="tldDocs"><p>2/sqrt()</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.two_sqrtpi">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> two_sqrtpi = <span class="tok-number">1.128379167095512573896158903121545172</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.sqrt2" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">sqrt2</span><a href="#src.zig-std.math.sqrt2">[src]</a></h2><div class="tldDocs"><p>sqrt(2)</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.sqrt2">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> sqrt2 = <span class="tok-number">1.414213562373095048801688724209698079</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.sqrt1_2" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">sqrt1_2</span><a href="#src.zig-std.math.sqrt1_2">[src]</a></h2><div class="tldDocs"><p>1/sqrt(2)</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.sqrt1_2">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> sqrt1_2 = <span class="tok-number">0.707106781186547524400844362104849039</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.rad_per_deg" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">rad_per_deg</span><a href="#src.zig-std.math.rad_per_deg">[src]</a></h2><div class="tldDocs"><p>pi/180.0</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.rad_per_deg">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> rad_per_deg = <span class="tok-number">0.0174532925199432957692369076848861271344287188854172545609719144</span></code></pre></details></div></div><div class="decl"><h2 id="std.math.deg_per_rad" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">deg_per_rad</span><a href="#src.zig-std.math.deg_per_rad">[src]</a></h2><div class="tldDocs"><p>180.0/pi</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.deg_per_rad">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> deg_per_rad = <span class="tok-number">57.295779513082320876798154814105170332405472466564321549160243861</span></code></pre></details></div></div></div></div><div class="sectErrSets"><h2 class="sectionHeader">Error Sets</h2><div class="listErrSets"><div class="decl"><h2 id="std.math.AlignCastError" class="declHeader"><span class="declHeaderCategory">Error Set</span><span class="declHeaderIdentifier">AlignCastError</span><a href="#src.zig-std.math.AlignCastError">[src]</a></h2><div class="sectFnErrors"><h3 class="sectionHeader">Errors</h3><div class="fnErrorsAnyError"><p><span class="tok-type">anyerror</span> means the error set is known only at runtime.</p></div><div class="tableFnErrors"><dl class="listFnErrors"><div><dt>UnalignedMemory</dt></div></dl></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.AlignCastError">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> AlignCastError = <span class="tok-kw">error</span>{UnalignedMemory}</code></pre></details></div></div></div></div><div class="sectFns"><h2 class="sectionHeader">Functions</h2><div class="listFns"><div class="decl"><h2 id="std.math.float.floatExponentBits" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floatExponentBits</span><a href="#src.zig-std.math.float.floatExponentBits">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatExponentBits</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span></code></pre></div><div class="tldDocs"><p>Returns the number of bits in the exponent of floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.floatExponentBits">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatExponentBits</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span> {
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .float);

    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T).float.bits) {
        <span class="tok-number">16</span> =&gt; <span class="tok-number">5</span>,
        <span class="tok-number">32</span> =&gt; <span class="tok-number">8</span>,
        <span class="tok-number">64</span> =&gt; <span class="tok-number">11</span>,
        <span class="tok-number">80</span> =&gt; <span class="tok-number">15</span>,
        <span class="tok-number">128</span> =&gt; <span class="tok-number">15</span>,
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;unknown floating point type &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.floatMantissaBits" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floatMantissaBits</span><a href="#src.zig-std.math.float.floatMantissaBits">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatMantissaBits</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span></code></pre></div><div class="tldDocs"><p>Returns the number of bits in the mantissa of floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.floatMantissaBits">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatMantissaBits</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span> {
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .float);

    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T).float.bits) {
        <span class="tok-number">16</span> =&gt; <span class="tok-number">10</span>,
        <span class="tok-number">32</span> =&gt; <span class="tok-number">23</span>,
        <span class="tok-number">64</span> =&gt; <span class="tok-number">52</span>,
        <span class="tok-number">80</span> =&gt; <span class="tok-number">64</span>,
        <span class="tok-number">128</span> =&gt; <span class="tok-number">112</span>,
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;unknown floating point type &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.floatFractionalBits" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floatFractionalBits</span><a href="#src.zig-std.math.float.floatFractionalBits">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatFractionalBits</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span></code></pre></div><div class="tldDocs"><p>Returns the number of fractional bits in the mantissa of floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.floatFractionalBits">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatFractionalBits</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span> {
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .float);<span class="tok-comment">

    // standard IEEE floats have an implicit 0.m or 1.m integer part
    // f80 is special and has an explicitly stored bit in the MSB
    // this function corresponds to `MANT_DIG - 1' from C
    </span><span class="tok-kw">return</span> <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T).float.bits) {
        <span class="tok-number">16</span> =&gt; <span class="tok-number">10</span>,
        <span class="tok-number">32</span> =&gt; <span class="tok-number">23</span>,
        <span class="tok-number">64</span> =&gt; <span class="tok-number">52</span>,
        <span class="tok-number">80</span> =&gt; <span class="tok-number">63</span>,
        <span class="tok-number">128</span> =&gt; <span class="tok-number">112</span>,
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;unknown floating point type &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.floatExponentMin" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floatExponentMin</span><a href="#src.zig-std.math.float.floatExponentMin">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatExponentMin</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span></code></pre></div><div class="tldDocs"><p>Returns the minimum exponent that can represent
a normalised value in floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.floatExponentMin">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatExponentMin</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span> {
    <span class="tok-kw">return</span> -<a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>(T) + <span class="tok-number">1</span>;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.floatExponentMax" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floatExponentMax</span><a href="#src.zig-std.math.float.floatExponentMax">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatExponentMax</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span></code></pre></div><div class="tldDocs"><p>Returns the maximum exponent that can represent
a normalised value in floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.floatExponentMax">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatExponentMax</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span> {
    <span class="tok-kw">return</span> (<span class="tok-number">1</span> &lt;&lt; (<a href="std.math.float.html#std.math.float.floatExponentBits">floatExponentBits</a>(T) - <span class="tok-number">1</span>)) - <span class="tok-number">1</span>;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.floatTrueMin" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floatTrueMin</span><a href="#src.zig-std.math.float.floatTrueMin">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatTrueMin</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T</code></pre></div><div class="tldDocs"><p>Returns the smallest subnormal number representable in floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.floatTrueMin">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatTrueMin</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T {
    <span class="tok-kw">return</span> <a href="std.math.float.html#std.math.float.reconstructFloat">reconstructFloat</a>(T, <a href="std.math.float.html#std.math.float.floatExponentMin">floatExponentMin</a>(T) - <span class="tok-number">1</span>, <span class="tok-number">1</span>);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.floatMin" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floatMin</span><a href="#src.zig-std.math.float.floatMin">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatMin</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T</code></pre></div><div class="tldDocs"><p>Returns the smallest normal number representable in floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.floatMin">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatMin</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T {
    <span class="tok-kw">return</span> <a href="std.math.float.html#std.math.float.reconstructFloat">reconstructFloat</a>(T, <a href="std.math.float.html#std.math.float.floatExponentMin">floatExponentMin</a>(T), <a href="std.math.float.html#std.math.float.mantissaOne">mantissaOne</a>(T));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.floatMax" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floatMax</span><a href="#src.zig-std.math.float.floatMax">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatMax</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T</code></pre></div><div class="tldDocs"><p>Returns the largest normal number representable in floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.floatMax">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatMax</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T {
    <span class="tok-kw">const</span> all1s_mantissa = (<span class="tok-number">1</span> &lt;&lt; <a href="std.math.float.html#std.math.float.floatMantissaBits">floatMantissaBits</a>(T)) - <span class="tok-number">1</span>;
    <span class="tok-kw">return</span> <a href="std.math.float.html#std.math.float.reconstructFloat">reconstructFloat</a>(T, <a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>(T), all1s_mantissa);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.floatEps" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floatEps</span><a href="#src.zig-std.math.float.floatEps">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatEps</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T</code></pre></div><div class="tldDocs"><p>Returns the machine epsilon of floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.floatEps">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatEps</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T {
    <span class="tok-kw">return</span> <a href="std.math.float.html#std.math.float.reconstructFloat">reconstructFloat</a>(T, -<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T), <a href="std.math.float.html#std.math.float.mantissaOne">mantissaOne</a>(T));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.floatEpsAt" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floatEpsAt</span><a href="#src.zig-std.math.float.floatEpsAt">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatEpsAt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) T</code></pre></div><div class="tldDocs"><p>Returns the local epsilon of floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.floatEpsAt">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floatEpsAt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) T {
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .float =&gt; |F| {
            <span class="tok-kw">const</span> U: <span class="tok-type">type</span> = <span class="tok-builtin">@Type</span>(.{ .int = .{ .signedness = .unsigned, .bits = F.bits } });
            <span class="tok-kw">const</span> u: U = <span class="tok-builtin">@bitCast</span>(x);
            <span class="tok-kw">const</span> y: T = <span class="tok-builtin">@bitCast</span>(u ^ <span class="tok-number">1</span>);
            <span class="tok-kw">return</span> <span class="tok-builtin">@abs</span>(x - y);
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;floatEpsAt only supports floats&quot;</span>),
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.inf" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">inf</span><a href="#src.zig-std.math.float.inf">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">inf</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T</code></pre></div><div class="tldDocs"><p>Returns the value inf for floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> inf {
    <span class="tok-kw">const</span> inf_u16: <span class="tok-type">u16</span> = <span class="tok-number">0x7C00</span>;
    <span class="tok-kw">const</span> inf_u32: <span class="tok-type">u32</span> = <span class="tok-number">0x7F800000</span>;
    <span class="tok-kw">const</span> inf_u64: <span class="tok-type">u64</span> = <span class="tok-number">0x7FF0000000000000</span>;
    <span class="tok-kw">const</span> inf_u80: <span class="tok-type">u80</span> = <span class="tok-number">0x7FFF8000000000000000</span>;
    <span class="tok-kw">const</span> inf_u128: <span class="tok-type">u128</span> = <span class="tok-number">0x7FFF0000000000000000000000000000</span>;
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(inf_u16, <span class="tok-builtin">@as</span>(<span class="tok-type">u16</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.inf">inf</a>(<span class="tok-type">f16</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(inf_u32, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.inf">inf</a>(<span class="tok-type">f32</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(inf_u64, <span class="tok-builtin">@as</span>(<span class="tok-type">u64</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.inf">inf</a>(<span class="tok-type">f64</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(inf_u80, <span class="tok-builtin">@as</span>(<span class="tok-type">u80</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.inf">inf</a>(<span class="tok-type">f80</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(inf_u128, <span class="tok-builtin">@as</span>(<span class="tok-type">u128</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.inf">inf</a>(<span class="tok-type">f128</span>))));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.inf">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">inf</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T {
    <span class="tok-kw">return</span> <a href="std.math.float.html#std.math.float.reconstructFloat">reconstructFloat</a>(T, <a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>(T) + <span class="tok-number">1</span>, <a href="std.math.float.html#std.math.float.mantissaOne">mantissaOne</a>(T));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.nan" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">nan</span><a href="#src.zig-std.math.float.nan">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">nan</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T</code></pre></div><div class="tldDocs"><p>Returns the canonical quiet NaN representation for floating point type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> nan {
    <span class="tok-kw">const</span> qnan_u16: <span class="tok-type">u16</span> = <span class="tok-number">0x7E00</span>;
    <span class="tok-kw">const</span> qnan_u32: <span class="tok-type">u32</span> = <span class="tok-number">0x7FC00000</span>;
    <span class="tok-kw">const</span> qnan_u64: <span class="tok-type">u64</span> = <span class="tok-number">0x7FF8000000000000</span>;
    <span class="tok-kw">const</span> qnan_u80: <span class="tok-type">u80</span> = <span class="tok-number">0x7FFFC000000000000000</span>;
    <span class="tok-kw">const</span> qnan_u128: <span class="tok-type">u128</span> = <span class="tok-number">0x7FFF8000000000000000000000000000</span>;
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(qnan_u16, <span class="tok-builtin">@as</span>(<span class="tok-type">u16</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.nan">nan</a>(<span class="tok-type">f16</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(qnan_u32, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.nan">nan</a>(<span class="tok-type">f32</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(qnan_u64, <span class="tok-builtin">@as</span>(<span class="tok-type">u64</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.nan">nan</a>(<span class="tok-type">f64</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(qnan_u80, <span class="tok-builtin">@as</span>(<span class="tok-type">u80</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.nan">nan</a>(<span class="tok-type">f80</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(qnan_u128, <span class="tok-builtin">@as</span>(<span class="tok-type">u128</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.nan">nan</a>(<span class="tok-type">f128</span>))));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.nan">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">nan</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T {
    <span class="tok-kw">return</span> <a href="std.math.float.html#std.math.float.reconstructFloat">reconstructFloat</a>(
        T,
        <a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>(T) + <span class="tok-number">1</span>,
        <a href="std.math.float.html#std.math.float.mantissaOne">mantissaOne</a>(T) | <span class="tok-number">1</span> &lt;&lt; (<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T) - <span class="tok-number">1</span>),
    );
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.float.snan" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">snan</span><a href="#src.zig-std.math.float.snan">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">snan</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T</code></pre></div><div class="tldDocs"><p>Returns a signalling NaN representation for floating point type T.</p>
<p>TODO: LLVM is known to miscompile on some architectures to quiet NaN -
this is tracked by <a href="https://github.com/ziglang/zig/issues/14366">https://github.com/ziglang/zig/issues/14366</a></p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> snan {
    <span class="tok-kw">const</span> snan_u16: <span class="tok-type">u16</span> = <span class="tok-number">0x7D00</span>;
    <span class="tok-kw">const</span> snan_u32: <span class="tok-type">u32</span> = <span class="tok-number">0x7FA00000</span>;
    <span class="tok-kw">const</span> snan_u64: <span class="tok-type">u64</span> = <span class="tok-number">0x7FF4000000000000</span>;
    <span class="tok-kw">const</span> snan_u80: <span class="tok-type">u80</span> = <span class="tok-number">0x7FFFA000000000000000</span>;
    <span class="tok-kw">const</span> snan_u128: <span class="tok-type">u128</span> = <span class="tok-number">0x7FFF4000000000000000000000000000</span>;
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(snan_u16, <span class="tok-builtin">@as</span>(<span class="tok-type">u16</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.snan">snan</a>(<span class="tok-type">f16</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(snan_u32, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.snan">snan</a>(<span class="tok-type">f32</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(snan_u64, <span class="tok-builtin">@as</span>(<span class="tok-type">u64</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.snan">snan</a>(<span class="tok-type">f64</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(snan_u80, <span class="tok-builtin">@as</span>(<span class="tok-type">u80</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.snan">snan</a>(<span class="tok-type">f80</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(snan_u128, <span class="tok-builtin">@as</span>(<span class="tok-type">u128</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.float.html#std.math.float.snan">snan</a>(<span class="tok-type">f128</span>))));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.float.snan">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">snan</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) T {
    <span class="tok-kw">return</span> <a href="std.math.float.html#std.math.float.reconstructFloat">reconstructFloat</a>(
        T,
        <a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>(T) + <span class="tok-number">1</span>,
        <a href="std.math.float.html#std.math.float.mantissaOne">mantissaOne</a>(T) | <span class="tok-number">1</span> &lt;&lt; (<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T) - <span class="tok-number">2</span>),
    );
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.approxEqAbs" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">approxEqAbs</span><a href="#src.zig-std.math.approxEqAbs">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">approxEqAbs</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T, tolerance: T) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Performs an approximate comparison of two floating point values <code>x</code> and <code>y</code>.
Returns true if the absolute difference between them is less or equal than
the specified tolerance.</p>
<p>The <code>tolerance</code> parameter is the absolute tolerance used when determining if
the two numbers are close enough; a good value for this parameter is a small
multiple of <code>floatEps(T)</code>.</p>
<p>Note that this function is recommended for comparing small numbers
around zero; using <code><a href="std.math.html#std.math.approxEqRel">approxEqRel</a></code> is suggested otherwise.</p>
<p>NaN values are never considered equal to any value.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div><div><pre><code>y: T</code></pre></div><div><pre><code>tolerance: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> approxEqAbs {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">const</span> eps_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.floatEps">floatEps</a>(T);
        <span class="tok-kw">const</span> min_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T);

        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, <span class="tok-number">0.0</span>, <span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, -<span class="tok-number">0.0</span>, -<span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, <span class="tok-number">0.0</span>, -<span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, <span class="tok-number">1.0</span> + <span class="tok-number">2</span> * eps_value, <span class="tok-number">1.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, <span class="tok-number">1.0</span> + <span class="tok-number">1</span> * eps_value, <span class="tok-number">1.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, min_value, <span class="tok-number">0.0</span>, eps_value * <span class="tok-number">2</span>));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, -min_value, <span class="tok-number">0.0</span>, eps_value * <span class="tok-number">2</span>));
    }

    <span class="tok-kw">comptime</span> {<span class="tok-comment">
        // `comptime_float` is guaranteed to have the same precision and operations of
        // the largest other floating point type, which is f128 but it doesn't have a
        // defined layout so we can't rely on `@bitCast` to construct the smallest
        // possible epsilon value like we do in the tests above. In the same vein, we
        // also can't represent a max/min, `NaN` or `Inf` values.
        </span><span class="tok-kw">const</span> eps_value = <span class="tok-number">1e-4</span>;

        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">0.0</span>, <span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">comptime_float</span>, -<span class="tok-number">0.0</span>, -<span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">0.0</span>, -<span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">1.0</span> + <span class="tok-number">2</span> * eps_value, <span class="tok-number">1.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">1.0</span> + <span class="tok-number">1</span> * eps_value, <span class="tok-number">1.0</span>, eps_value));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.approxEqAbs">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">approxEqAbs</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T, tolerance: T) <span class="tok-type">bool</span> {
    <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .float <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(T) == .<span class="tok-type">comptime_float</span>);
    <a href="std.debug.html#std.debug.assert">assert</a>(tolerance &gt;= <span class="tok-number">0</span>);<span class="tok-comment">

    // Fast path for equal values (and signed zeros and infinites).
    </span><span class="tok-kw">if</span> (x == y)
        <span class="tok-kw">return</span> <span class="tok-null">true</span>;

    <span class="tok-kw">if</span> (<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(x) <span class="tok-kw">or</span> <a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(y))
        <span class="tok-kw">return</span> <span class="tok-null">false</span>;

    <span class="tok-kw">return</span> <span class="tok-builtin">@abs</span>(x - y) &lt;= tolerance;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.approxEqRel" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">approxEqRel</span><a href="#src.zig-std.math.approxEqRel">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">approxEqRel</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T, tolerance: T) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Performs an approximate comparison of two floating point values <code>x</code> and <code>y</code>.
Returns true if the absolute difference between them is less or equal than
<code>max(|x|, |y|) * tolerance</code>, where <code>tolerance</code> is a positive number greater
than zero.</p>
<p>The <code>tolerance</code> parameter is the relative tolerance used when determining if
the two numbers are close enough; a good value for this parameter is usually
<code>sqrt(floatEps(T))</code>, meaning that the two numbers are considered equal if at
least half of the digits are equal.</p>
<p>Note that for comparisons of small numbers around zero this function won't
give meaningful results, use <code><a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a></code> instead.</p>
<p>NaN values are never considered equal to any value.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div><div><pre><code>y: T</code></pre></div><div><pre><code>tolerance: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> approxEqRel {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">const</span> eps_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.floatEps">floatEps</a>(T);
        <span class="tok-kw">const</span> sqrt_eps_value = <span class="tok-kw">comptime</span> <a href="std.math.sqrt.html#std.math.sqrt.sqrt">sqrt</a>(eps_value);
        <span class="tok-kw">const</span> nan_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.nan">nan</a>(T);
        <span class="tok-kw">const</span> inf_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.inf">inf</a>(T);
        <span class="tok-kw">const</span> min_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T);

        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, <span class="tok-number">1.0</span>, <span class="tok-number">0.0</span>, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, <span class="tok-number">1.0</span>, nan_value, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, nan_value, nan_value, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, inf_value, inf_value, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, min_value, min_value, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, -min_value, -min_value, sqrt_eps_value));
    }

    <span class="tok-kw">comptime</span> {<span class="tok-comment">
        // `comptime_float` is guaranteed to have the same precision and operations of
        // the largest other floating point type, which is f128 but it doesn't have a
        // defined layout so we can't rely on `@bitCast` to construct the smallest
        // possible epsilon value like we do in the tests above. In the same vein, we
        // also can't represent a max/min, `NaN` or `Inf` values.
        </span><span class="tok-kw">const</span> eps_value = <span class="tok-number">1e-4</span>;
        <span class="tok-kw">const</span> sqrt_eps_value = <a href="std.math.sqrt.html#std.math.sqrt.sqrt">sqrt</a>(eps_value);

        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">1.0</span>, <span class="tok-number">0.0</span>, sqrt_eps_value));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.approxEqRel">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">approxEqRel</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T, tolerance: T) <span class="tok-type">bool</span> {
    <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .float <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(T) == .<span class="tok-type">comptime_float</span>);
    <a href="std.debug.html#std.debug.assert">assert</a>(tolerance &gt; <span class="tok-number">0</span>);<span class="tok-comment">

    // Fast path for equal values (and signed zeros and infinites).
    </span><span class="tok-kw">if</span> (x == y)
        <span class="tok-kw">return</span> <span class="tok-null">true</span>;

    <span class="tok-kw">if</span> (<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(x) <span class="tok-kw">or</span> <a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(y))
        <span class="tok-kw">return</span> <span class="tok-null">false</span>;

    <span class="tok-kw">return</span> <span class="tok-builtin">@abs</span>(x - y) &lt;= <span class="tok-builtin">@max</span>(<span class="tok-builtin">@abs</span>(x), <span class="tok-builtin">@abs</span>(y)) * tolerance;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.raiseInvalid" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">raiseInvalid</span><a href="#src.zig-std.math.raiseInvalid">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseInvalid</span>() <span class="tok-type">void</span></code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.raiseInvalid">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseInvalid</span>() <span class="tok-type">void</span> {<span class="tok-comment">
    // Raise INVALID fpu exception
</span>}</code></pre></details></div></div><div class="decl"><h2 id="std.math.raiseUnderflow" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">raiseUnderflow</span><a href="#src.zig-std.math.raiseUnderflow">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseUnderflow</span>() <span class="tok-type">void</span></code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.raiseUnderflow">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseUnderflow</span>() <span class="tok-type">void</span> {<span class="tok-comment">
    // Raise UNDERFLOW fpu exception
</span>}</code></pre></details></div></div><div class="decl"><h2 id="std.math.raiseOverflow" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">raiseOverflow</span><a href="#src.zig-std.math.raiseOverflow">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseOverflow</span>() <span class="tok-type">void</span></code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.raiseOverflow">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseOverflow</span>() <span class="tok-type">void</span> {<span class="tok-comment">
    // Raise OVERFLOW fpu exception
</span>}</code></pre></details></div></div><div class="decl"><h2 id="std.math.raiseInexact" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">raiseInexact</span><a href="#src.zig-std.math.raiseInexact">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseInexact</span>() <span class="tok-type">void</span></code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.raiseInexact">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseInexact</span>() <span class="tok-type">void</span> {<span class="tok-comment">
    // Raise INEXACT fpu exception
</span>}</code></pre></details></div></div><div class="decl"><h2 id="std.math.raiseDivByZero" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">raiseDivByZero</span><a href="#src.zig-std.math.raiseDivByZero">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseDivByZero</span>() <span class="tok-type">void</span></code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.raiseDivByZero">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseDivByZero</span>() <span class="tok-type">void</span> {<span class="tok-comment">
    // Raise INEXACT fpu exception
</span>}</code></pre></details></div></div><div class="decl"><h2 id="std.math.isnan.isNan" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">isNan</span><a href="#src.zig-std.math.isnan.isNan">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isNan</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> isNan {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span>, <span class="tok-type">c_longdouble</span> }) |T| {
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.snan">snan</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(<span class="tok-builtin">@as</span>(T, <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T))));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.isnan.isNan">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isNan</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">return</span> x != x;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.isnan.isSignalNan" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">isSignalNan</span><a href="#src.zig-std.math.isnan.isSignalNan">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isSignalNan</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>TODO: LLVM is known to miscompile on some architectures to quiet NaN -
this is tracked by <a href="https://github.com/ziglang/zig/issues/14366">https://github.com/ziglang/zig/issues/14366</a></p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> isSignalNan {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span>, <span class="tok-type">c_longdouble</span> }) |T| {<span class="tok-comment">
        // TODO: Signalling NaN values get converted to quiet NaN values in
        //       some cases where they shouldn't such that this can fail.
        //       See https://github.com/ziglang/zig/issues/14366
        </span><span class="tok-kw">if</span> (!<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.cpu">cpu</a>.<a href="#">arch</a>.<a href="#">isArm</a>() <span class="tok-kw">and</span>
            !<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.cpu">cpu</a>.<a href="#">arch</a>.<a href="#">isAARCH64</a>() <span class="tok-kw">and</span>
            !<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.cpu">cpu</a>.<a href="#">arch</a>.<a href="#">isMIPS32</a>() <span class="tok-kw">and</span>
            !<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.cpu">cpu</a>.<a href="#">arch</a>.<a href="#">isPowerPC</a>() <span class="tok-kw">and</span>
            <a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> != .stage2_c)
        {
            <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isnan.html#std.math.isnan.isSignalNan">isSignalNan</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.snan">snan</a>(T)));
        }
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnan.html#std.math.isnan.isSignalNan">isSignalNan</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnan.html#std.math.isnan.isSignalNan">isSignalNan</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnan.html#std.math.isnan.isSignalNan">isSignalNan</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.isnan.isSignalNan">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isSignalNan</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">const</span> U = <a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@bitSizeOf</span>(T));
    <span class="tok-kw">const</span> quiet_signal_bit_mask = <span class="tok-number">1</span> &lt;&lt; (<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T) - <span class="tok-number">1</span>);
    <span class="tok-kw">return</span> <a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(x) <span class="tok-kw">and</span> (<span class="tok-builtin">@as</span>(U, <span class="tok-builtin">@bitCast</span>(x)) &amp; quiet_signal_bit_mask == <span class="tok-number">0</span>);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.frexp.frexp" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">frexp</span><a href="#src.zig-std.math.frexp.frexp">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">frexp</span>(x: <span class="tok-kw">anytype</span>) <a href="std.math.frexp.html#std.math.frexp.Frexp">Frexp</a>(<span class="tok-builtin">@TypeOf</span>(x))</code></pre></div><div class="tldDocs"><p>Breaks x into a normalized fraction and an integral power of two.
f == frac * 2^exp, with |frac| in the interval [0.5, 1).</p>
<p>Special Cases:</p>
<ul>
<li>frexp(+-0)   = +-0, 0</li>
<li>frexp(+-inf) = +-inf, 0</li>
<li>frexp(nan)   = nan, undefined</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> frexp {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">const</span> max_exponent = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>(T) + <span class="tok-number">1</span>;
        <span class="tok-kw">const</span> min_exponent = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentMin">floatExponentMin</a>(T) + <span class="tok-number">1</span>;
        <span class="tok-kw">const</span> truemin_exponent = min_exponent - <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T);

        <span class="tok-kw">var</span> result: <a href="std.math.frexp.html#std.math.frexp.Frexp">Frexp</a>(T) = <span class="tok-null">undefined</span>;
        <span class="tok-kw">comptime</span> <span class="tok-kw">var</span> x: T = <span class="tok-null">undefined</span>;<span class="tok-comment">

        // basic usage
        // value -&gt; {significand, exponent},
        // value == significand * (2 ^ exponent)
        </span>x = <span class="tok-number">1234.5678</span>;
        result = <a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>(x);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">11</span>, result.exponent);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-number">0.602816</span>, result.significand, <span class="tok-number">1e-6</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(x, <a href="std.math.html">math</a>.<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(result.significand, result.exponent));<span class="tok-comment">

        // float maximum
        </span>x = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T);
        result = <a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>(x);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(max_exponent, result.exponent);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">1.0</span> - <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatEps">floatEps</a>(T) / <span class="tok-number">2</span>, result.significand);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(x, <a href="std.math.html">math</a>.<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(result.significand, result.exponent));<span class="tok-comment">

        // float minimum
        </span>x = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T);
        result = <a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>(x);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(min_exponent, result.exponent);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">0.5</span>, result.significand);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(x, <a href="std.math.html">math</a>.<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(result.significand, result.exponent));<span class="tok-comment">

        // float true minimum
        // subnormal -&gt; {normal, exponent}
        </span>x = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T);
        result = <a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>(x);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(truemin_exponent, result.exponent);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">0.5</span>, result.significand);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(x, <a href="std.math.html">math</a>.<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(result.significand, result.exponent));<span class="tok-comment">

        // infinity -&gt; {infinity, zero} (+)
        </span>result = <a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">0</span>, result.exponent);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.isinf.html#std.math.isinf.isPositiveInf">isPositiveInf</a>(result.significand));<span class="tok-comment">

        // infinity -&gt; {infinity, zero} (-)
        </span>result = <a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">0</span>, result.exponent);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.isinf.html#std.math.isinf.isNegativeInf">isNegativeInf</a>(result.significand));<span class="tok-comment">

        // zero -&gt; {zero, zero} (+)
        </span>result = <a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.0</span>));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">0</span>, result.exponent);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.iszero.html#std.math.iszero.isPositiveZero">isPositiveZero</a>(result.significand));<span class="tok-comment">

        // zero -&gt; {zero, zero} (-)
        </span>result = <a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.0</span>));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">0</span>, result.exponent);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.iszero.html#std.math.iszero.isNegativeZero">isNegativeZero</a>(result.significand));<span class="tok-comment">

        // nan -&gt; {nan, undefined}
        </span>result = <a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(result.significand));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.frexp.frexp">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">frexp</span>(x: <span class="tok-kw">anytype</span>) <a href="std.math.frexp.html#std.math.frexp.Frexp">Frexp</a>(<span class="tok-builtin">@TypeOf</span>(x)) {
    <span class="tok-kw">const</span> T: <span class="tok-type">type</span> = <span class="tok-builtin">@TypeOf</span>(x);

    <span class="tok-kw">const</span> bits: <span class="tok-type">comptime_int</span> = <span class="tok-builtin">@typeInfo</span>(T).float.bits;
    <span class="tok-kw">const</span> Int: <span class="tok-type">type</span> = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, bits);

    <span class="tok-kw">const</span> exp_bits: <span class="tok-type">comptime_int</span> = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentBits">floatExponentBits</a>(T);
    <span class="tok-kw">const</span> mant_bits: <span class="tok-type">comptime_int</span> = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMantissaBits">floatMantissaBits</a>(T);
    <span class="tok-kw">const</span> frac_bits: <span class="tok-type">comptime_int</span> = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T);
    <span class="tok-kw">const</span> exp_min: <span class="tok-type">comptime_int</span> = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentMin">floatExponentMin</a>(T);

    <span class="tok-kw">const</span> ExpInt: <span class="tok-type">type</span> = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, exp_bits);
    <span class="tok-kw">const</span> MantInt: <span class="tok-type">type</span> = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, mant_bits);
    <span class="tok-kw">const</span> FracInt: <span class="tok-type">type</span> = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, frac_bits);

    <span class="tok-kw">const</span> unreal_exponent: <span class="tok-type">comptime_int</span> = (<span class="tok-number">1</span> &lt;&lt; exp_bits) - <span class="tok-number">1</span>;
    <span class="tok-kw">const</span> bias: <span class="tok-type">comptime_int</span> = (<span class="tok-number">1</span> &lt;&lt; (exp_bits - <span class="tok-number">1</span>)) - <span class="tok-number">2</span>;
    <span class="tok-kw">const</span> exp_mask: <span class="tok-type">comptime_int</span> = unreal_exponent &lt;&lt; mant_bits;
    <span class="tok-kw">const</span> zero_exponent: <span class="tok-type">comptime_int</span> = bias &lt;&lt; mant_bits;
    <span class="tok-kw">const</span> sign_mask: <span class="tok-type">comptime_int</span> = <span class="tok-number">1</span> &lt;&lt; (bits - <span class="tok-number">1</span>);
    <span class="tok-kw">const</span> not_exp: <span class="tok-type">comptime_int</span> = ~<span class="tok-builtin">@as</span>(Int, exp_mask);
    <span class="tok-kw">const</span> ones_place: <span class="tok-type">comptime_int</span> = mant_bits - frac_bits;
    <span class="tok-kw">const</span> extra_denorm_shift: <span class="tok-type">comptime_int</span> = <span class="tok-number">1</span> - ones_place;

    <span class="tok-kw">var</span> result: <a href="std.math.frexp.html#std.math.frexp.Frexp">Frexp</a>(T) = <span class="tok-null">undefined</span>;
    <span class="tok-kw">var</span> v: Int = <span class="tok-builtin">@bitCast</span>(x);

    <span class="tok-kw">const</span> m: MantInt = <span class="tok-builtin">@truncate</span>(v);
    <span class="tok-kw">const</span> e: ExpInt = <span class="tok-builtin">@truncate</span>(v &gt;&gt; mant_bits);

    <span class="tok-kw">switch</span> (e) {
        <span class="tok-number">0</span> =&gt; {
            <span class="tok-kw">if</span> (m != <span class="tok-number">0</span>) {<span class="tok-comment">
                // subnormal
                </span><span class="tok-kw">const</span> offset = <span class="tok-builtin">@clz</span>(m);
                <span class="tok-kw">const</span> shift = offset + extra_denorm_shift;

                v &amp;= sign_mask;
                v |= zero_exponent;
                v |= <a href="std.math.html">math</a>.<a href="std.math.html#std.math.shl">shl</a>(MantInt, m, shift);

                result.exponent = exp_min - <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, offset) + ones_place;
            } <span class="tok-kw">else</span> {<span class="tok-comment">
                // +-0 = (+-0, 0)
                </span>result.exponent = <span class="tok-number">0</span>;
            }
        },
        unreal_exponent =&gt; {<span class="tok-comment">
            // +-nan -&gt; {+-nan, undefined}
            </span>result.exponent = <span class="tok-null">undefined</span>;<span class="tok-comment">

            // +-inf -&gt; {+-inf, 0}
            </span><span class="tok-kw">if</span> (<span class="tok-builtin">@as</span>(FracInt, <span class="tok-builtin">@truncate</span>(v)) == <span class="tok-number">0</span>)
                result.exponent = <span class="tok-number">0</span>;
        },
        <span class="tok-kw">else</span> =&gt; {<span class="tok-comment">
            // normal
            </span>v &amp;= not_exp;
            v |= zero_exponent;
            result.exponent = <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, e) - bias;
        },
    }

    result.significand = <span class="tok-builtin">@bitCast</span>(v);
    <span class="tok-kw">return</span> result;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.modf.modf" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">modf</span><a href="#src.zig-std.math.modf.modf">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">modf</span>(x: <span class="tok-kw">anytype</span>) <a href="std.math.modf.html#std.math.modf.Modf">Modf</a>(<span class="tok-builtin">@TypeOf</span>(x))</code></pre></div><div class="tldDocs"><p>Returns the integer and fractional floating-point numbers that sum to x. The sign of each
result is the same as the sign of x.
In comptime, may be used with comptime_float</p>
<p>Special Cases:</p>
<ul>
<li>modf(+-inf) = +-inf, nan</li>
<li>modf(nan)   = nan, nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> modf {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">const</span> epsilon: <span class="tok-type">comptime_float</span> = <span class="tok-builtin">@max</span>(<span class="tok-number">1e-6</span>, <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatEps">floatEps</a>(T));

        <span class="tok-kw">var</span> r: <a href="std.math.modf.html#std.math.modf.Modf">Modf</a>(T) = <span class="tok-null">undefined</span>;

        r = <a href="std.math.modf.html#std.math.modf.modf">modf</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">1.0</span>, r.ipart);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">0.0</span>, r.fpart);

        r = <a href="std.math.modf.html#std.math.modf.modf">modf</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.34682</span>));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">0.0</span>, r.ipart);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.34682</span>), r.fpart, epsilon);

        r = <a href="std.math.modf.html#std.math.modf.modf">modf</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2.54576</span>));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">2.0</span>, r.ipart);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-number">0.54576</span>, r.fpart, epsilon);

        r = <a href="std.math.modf.html#std.math.modf.modf">modf</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">3.9782</span>));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">3.0</span>, r.ipart);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-number">0.9782</span>, r.fpart, epsilon);
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.modf.modf">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">modf</span>(x: <span class="tok-kw">anytype</span>) <a href="std.math.modf.html#std.math.modf.Modf">Modf</a>(<span class="tok-builtin">@TypeOf</span>(x)) {
    <span class="tok-kw">const</span> ipart = <span class="tok-builtin">@trunc</span>(x);
    <span class="tok-kw">return</span> .{
        .ipart = ipart,
        .fpart = x - ipart,
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.copysign.copysign" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">copysign</span><a href="#src.zig-std.math.copysign.copysign">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">copysign</span>(magnitude: <span class="tok-kw">anytype</span>, sign: <span class="tok-builtin">@TypeOf</span>(magnitude)) <span class="tok-builtin">@TypeOf</span>(magnitude)</code></pre></div><div class="tldDocs"><p>Returns a value with the magnitude of <code>magnitude</code> and the sign of <code>sign</code>.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>sign: <span class="tok-builtin">@TypeOf</span>(magnitude)</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> copysign {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.copysign.html#std.math.copysign.copysign">copysign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>), <span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>)) == <span class="tok-number">1.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.copysign.html#std.math.copysign.copysign">copysign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2.0</span>), <span class="tok-builtin">@as</span>(T, -<span class="tok-number">2.0</span>)) == -<span class="tok-number">2.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.copysign.html#std.math.copysign.copysign">copysign</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">3.0</span>), <span class="tok-builtin">@as</span>(T, <span class="tok-number">3.0</span>)) == <span class="tok-number">3.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.copysign.html#std.math.copysign.copysign">copysign</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">4.0</span>), <span class="tok-builtin">@as</span>(T, -<span class="tok-number">4.0</span>)) == -<span class="tok-number">4.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.copysign.html#std.math.copysign.copysign">copysign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">5.0</span>), <span class="tok-builtin">@as</span>(T, -<span class="tok-number">500.0</span>)) == -<span class="tok-number">5.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.copysign.html#std.math.copysign.copysign">copysign</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), <span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.0</span>)) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.copysign.html#std.math.copysign.copysign">copysign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">6.0</span>), -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)) == -<span class="tok-number">6.0</span>);
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.copysign.copysign">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">copysign</span>(magnitude: <span class="tok-kw">anytype</span>, sign: <span class="tok-builtin">@TypeOf</span>(magnitude)) <span class="tok-builtin">@TypeOf</span>(magnitude) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(magnitude);
    <span class="tok-kw">const</span> TBits = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@typeInfo</span>(T).float.bits);
    <span class="tok-kw">const</span> sign_bit_mask = <span class="tok-builtin">@as</span>(TBits, <span class="tok-number">1</span>) &lt;&lt; (<span class="tok-builtin">@bitSizeOf</span>(T) - <span class="tok-number">1</span>);
    <span class="tok-kw">const</span> mag = <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(magnitude)) &amp; ~sign_bit_mask;
    <span class="tok-kw">const</span> sgn = <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(sign)) &amp; sign_bit_mask;
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(mag | sgn));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.isfinite.isFinite" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">isFinite</span><a href="#src.zig-std.math.isfinite.isFinite">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isFinite</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Returns whether x is a finite value.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> isFinite {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {<span class="tok-comment">
        // normals
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(-<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>)));<span class="tok-comment">

        // zero &amp; subnormals
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T)));<span class="tok-comment">

        // other float limits
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T)));<span class="tok-comment">

        // inf &amp; nan
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.isfinite.isFinite">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isFinite</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">const</span> TBits = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@typeInfo</span>(T).float.bits);
    <span class="tok-kw">const</span> remove_sign = ~<span class="tok-builtin">@as</span>(TBits, <span class="tok-number">0</span>) &gt;&gt; <span class="tok-number">1</span>;
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(x)) &amp; remove_sign &lt; <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.isinf.isInf" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">isInf</span><a href="#src.zig-std.math.isinf.isInf">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isInf</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Returns whether x is an infinity, ignoring sign.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> isInf {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.isinf.isInf">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isInf</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">const</span> TBits = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@typeInfo</span>(T).float.bits);
    <span class="tok-kw">const</span> remove_sign = ~<span class="tok-builtin">@as</span>(TBits, <span class="tok-number">0</span>) &gt;&gt; <span class="tok-number">1</span>;
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(x)) &amp; remove_sign == <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.isinf.isPositiveInf" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">isPositiveInf</span><a href="#src.zig-std.math.isinf.isPositiveInf">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isPositiveInf</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Returns whether x is an infinity with a positive sign.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> isPositiveInf {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isPositiveInf">isPositiveInf</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isPositiveInf">isPositiveInf</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isinf.html#std.math.isinf.isPositiveInf">isPositiveInf</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isPositiveInf">isPositiveInf</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.isinf.isPositiveInf">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isPositiveInf</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">return</span> x == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(<span class="tok-builtin">@TypeOf</span>(x));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.isinf.isNegativeInf" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">isNegativeInf</span><a href="#src.zig-std.math.isinf.isNegativeInf">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isNegativeInf</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Returns whether x is an infinity with a negative sign.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> isNegativeInf {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isNegativeInf">isNegativeInf</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isNegativeInf">isNegativeInf</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isNegativeInf">isNegativeInf</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isinf.html#std.math.isinf.isNegativeInf">isNegativeInf</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.isinf.isNegativeInf">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isNegativeInf</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">return</span> x == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(<span class="tok-builtin">@TypeOf</span>(x));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.iszero.isPositiveZero" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">isPositiveZero</span><a href="#src.zig-std.math.iszero.isPositiveZero">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isPositiveZero</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Returns whether x is positive zero.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> isPositiveZero {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.iszero.html#std.math.iszero.isPositiveZero">isPositiveZero</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.iszero.html#std.math.iszero.isPositiveZero">isPositiveZero</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.iszero.html#std.math.iszero.isPositiveZero">isPositiveZero</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.iszero.html#std.math.iszero.isPositiveZero">isPositiveZero</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.iszero.html#std.math.iszero.isPositiveZero">isPositiveZero</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.iszero.html#std.math.iszero.isPositiveZero">isPositiveZero</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.iszero.isPositiveZero">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isPositiveZero</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">const</span> bit_count = <span class="tok-builtin">@typeInfo</span>(T).float.bits;
    <span class="tok-kw">const</span> TBits = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, bit_count);
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(x)) == <span class="tok-builtin">@as</span>(TBits, <span class="tok-number">0</span>);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.iszero.isNegativeZero" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">isNegativeZero</span><a href="#src.zig-std.math.iszero.isNegativeZero">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isNegativeZero</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Returns whether x is negative zero.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> isNegativeZero {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.iszero.html#std.math.iszero.isNegativeZero">isNegativeZero</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.iszero.html#std.math.iszero.isNegativeZero">isNegativeZero</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.iszero.html#std.math.iszero.isNegativeZero">isNegativeZero</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.iszero.html#std.math.iszero.isNegativeZero">isNegativeZero</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.iszero.html#std.math.iszero.isNegativeZero">isNegativeZero</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.iszero.html#std.math.iszero.isNegativeZero">isNegativeZero</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.iszero.isNegativeZero">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">isNegativeZero</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">const</span> bit_count = <span class="tok-builtin">@typeInfo</span>(T).float.bits;
    <span class="tok-kw">const</span> TBits = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, bit_count);
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(x)) == <span class="tok-builtin">@as</span>(TBits, <span class="tok-number">1</span>) &lt;&lt; (bit_count - <span class="tok-number">1</span>);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.isnormal.isNormal" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">isNormal</span><a href="#src.zig-std.math.isnormal.isNormal">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isNormal</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Returns whether x is neither zero, subnormal, infinity, or NaN.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> isNormal {<span class="tok-comment">
    // TODO add `c_longdouble' when math.inf(T) supports it
    </span><span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">const</span> TBits = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@bitSizeOf</span>(T));<span class="tok-comment">

        // normals
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T)));<span class="tok-comment">

        // subnormals
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<span class="tok-builtin">@as</span>(T, <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T))));<span class="tok-comment">

        // largest subnormal
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(~(~<span class="tok-builtin">@as</span>(TBits, <span class="tok-number">0</span>) &lt;&lt; <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T))))));<span class="tok-comment">

        // non-finite numbers
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));<span class="tok-comment">

        // overflow edge-case (described in implementation, also see #10133)
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(~<span class="tok-builtin">@as</span>(TBits, <span class="tok-number">0</span>)))));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.isnormal.isNormal">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isNormal</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">const</span> TBits = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@typeInfo</span>(T).float.bits);

    <span class="tok-kw">const</span> increment_exp = <span class="tok-number">1</span> &lt;&lt; <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMantissaBits">floatMantissaBits</a>(T);
    <span class="tok-kw">const</span> remove_sign = ~<span class="tok-builtin">@as</span>(TBits, <span class="tok-number">0</span>) &gt;&gt; <span class="tok-number">1</span>;<span class="tok-comment">

    // We add 1 to the exponent, and if it overflows to 0 or becomes 1,
    // then it was all zeroes (subnormal) or all ones (special, inf/nan).
    // The sign bit is removed because all ones would overflow into it.
    // For f80, even though it has an explicit integer part stored,
    // the exponent effectively takes priority if mismatching.
    </span><span class="tok-kw">const</span> value = <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(x)) +% increment_exp;
    <span class="tok-kw">return</span> value &amp; remove_sign &gt;= (increment_exp &lt;&lt; <span class="tok-number">1</span>);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.nextafter.nextAfter" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">nextAfter</span><a href="#src.zig-std.math.nextafter.nextAfter">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">nextAfter</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T) T</code></pre></div><div class="tldDocs"><p>Returns the next representable value after <code>x</code> in the direction of <code>y</code>.</p>
<p>Special cases:</p>
<ul>
<li>If <code>x == y</code>, <code>y</code> is returned.</li>
<li>For floats, if either <code>x</code> or <code>y</code> is a NaN, a NaN is returned.</li>
<li>For floats, if <code>x == 0.0</code> and <code>@abs(y) &gt; 0.0</code>, the smallest subnormal number with the sign of
<code>y</code> is returned.</li>
</ul>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div><div><pre><code>y: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.nextafter.nextAfter">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">nextAfter</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T) T {
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .int, .<span class="tok-type">comptime_int</span> =&gt; <a href="std.math.nextafter.html#std.math.nextafter.nextAfterInt">nextAfterInt</a>(T, x, y),
        .float =&gt; <a href="std.math.nextafter.html#std.math.nextafter.nextAfterFloat">nextAfterFloat</a>(T, x, y),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;expected int or non-comptime float, found '&quot;</span> ++ <span class="tok-builtin">@typeName</span>(T) ++ <span class="tok-str">&quot;'&quot;</span>),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.signbit.signbit" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">signbit</span><a href="#src.zig-std.math.signbit.signbit">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">signbit</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Returns whether x is negative or negative 0.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> signbit {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.signbit.html#std.math.signbit.signbit">signbit</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.signbit.html#std.math.signbit.signbit">signbit</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.signbit.html#std.math.signbit.signbit">signbit</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">2.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.signbit.html#std.math.signbit.signbit">signbit</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.0</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.signbit.html#std.math.signbit.signbit">signbit</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.signbit.html#std.math.signbit.signbit">signbit</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.signbit.html#std.math.signbit.signbit">signbit</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.signbit.html#std.math.signbit.signbit">signbit</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T)));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.signbit.signbit">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">signbit</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">const</span> TBits = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@typeInfo</span>(T).float.bits);
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(x)) &gt;&gt; (<span class="tok-builtin">@bitSizeOf</span>(T) - <span class="tok-number">1</span>) != <span class="tok-number">0</span>;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.ldexp.ldexp" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">ldexp</span><a href="#src.zig-std.math.ldexp.ldexp">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ldexp</span>(x: <span class="tok-kw">anytype</span>, n: <span class="tok-type">i32</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns x * 2^n.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>n: <span class="tok-type">i32</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> ldexp {<span class="tok-comment">
    // subnormals
    </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f16</span>, <span class="tok-number">0x1.1FFp14</span>), -<span class="tok-number">14</span> - <span class="tok-number">9</span> - <span class="tok-number">15</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(<span class="tok-type">f16</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0x1.3FFFFFp-1</span>), -<span class="tok-number">126</span> - <span class="tok-number">22</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(<span class="tok-type">f32</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0x1.7FFFFFFFFFFFFp-1</span>), -<span class="tok-number">1022</span> - <span class="tok-number">51</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(<span class="tok-type">f64</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f80</span>, <span class="tok-number">0x1.7FFFFFFFFFFFFFFEp-1</span>), -<span class="tok-number">16382</span> - <span class="tok-number">62</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(<span class="tok-type">f80</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f128</span>, <span class="tok-number">0x1.7FFFFFFFFFFFFFFFFFFFFFFFFFFFp-1</span>), -<span class="tok-number">16382</span> - <span class="tok-number">111</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(<span class="tok-type">f128</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(<span class="tok-type">f32</span>), -<span class="tok-number">128</span> - <span class="tok-number">149</span>) &gt; <span class="tok-number">0.0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(<span class="tok-type">f32</span>), -<span class="tok-number">128</span> - <span class="tok-number">149</span> - <span class="tok-number">1</span>) == <span class="tok-number">0.0</span>);

    <span class="tok-builtin">@setEvalBranchQuota</span>(<span class="tok-number">10_000</span>);

    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">const</span> fractional_bits = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T);

        <span class="tok-kw">const</span> min_exponent = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentMin">floatExponentMin</a>(T);
        <span class="tok-kw">const</span> max_exponent = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>(T);
        <span class="tok-kw">const</span> exponent_bias = max_exponent;<span class="tok-comment">

        // basic usage
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.5</span>), <span class="tok-number">4</span>) == <span class="tok-number">24.0</span>);<span class="tok-comment">

        // normals -&gt; subnormals
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>), min_exponent)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html">math</a>.<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>), min_exponent - <span class="tok-number">1</span>)));<span class="tok-comment">

        // normals -&gt; zero
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>), min_exponent - fractional_bits) &gt; <span class="tok-number">0.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>), min_exponent - fractional_bits - <span class="tok-number">1</span>) == <span class="tok-number">0.0</span>);<span class="tok-comment">

        // subnormals -&gt; zero
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), <span class="tok-number">0</span>) &gt; <span class="tok-number">0.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), -<span class="tok-number">1</span>) == <span class="tok-number">0.0</span>);<span class="tok-comment">

        // Multiplications might flush the denormals to zero, esp. at
        // runtime, so we manually construct the constants here instead.
        </span><span class="tok-kw">const</span> Z = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@bitSizeOf</span>(T));
        <span class="tok-kw">const</span> EightTimesTrueMin = <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(<span class="tok-builtin">@as</span>(Z, <span class="tok-number">8</span>)));
        <span class="tok-kw">const</span> TwoTimesTrueMin = <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(<span class="tok-builtin">@as</span>(Z, <span class="tok-number">2</span>)));<span class="tok-comment">

        // subnormals -&gt; subnormals
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), <span class="tok-number">3</span>) == EightTimesTrueMin);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(EightTimesTrueMin, -<span class="tok-number">2</span>) == TwoTimesTrueMin);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(EightTimesTrueMin, -<span class="tok-number">3</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T));<span class="tok-comment">

        // subnormals -&gt; normals (+)
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), fractional_bits) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), fractional_bits - <span class="tok-number">1</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T) * <span class="tok-number">0.5</span>);<span class="tok-comment">

        // subnormals -&gt; normals (-)
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), fractional_bits) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), fractional_bits - <span class="tok-number">1</span>) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T) * <span class="tok-number">0.5</span>);<span class="tok-comment">

        // subnormals -&gt; float limits (+inf)
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), max_exponent + exponent_bias + fractional_bits - <span class="tok-number">1</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), max_exponent + exponent_bias + fractional_bits) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));<span class="tok-comment">

        // subnormals -&gt; float limits (-inf)
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), max_exponent + exponent_bias + fractional_bits - <span class="tok-number">1</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), max_exponent + exponent_bias + fractional_bits) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));<span class="tok-comment">

        // infinity -&gt; infinity
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>)) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), max_exponent) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), min_exponent) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>)) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));<span class="tok-comment">

        // extremely large n
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T), -<a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == <span class="tok-number">0.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>)) == <span class="tok-number">0.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), -<a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == <span class="tok-number">0.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>)) == <span class="tok-number">0.0</span>);
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.ldexp.ldexp">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ldexp</span>(x: <span class="tok-kw">anytype</span>, n: <span class="tok-type">i32</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">const</span> TBits = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@typeInfo</span>(T).float.bits);

    <span class="tok-kw">const</span> exponent_bits = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentBits">floatExponentBits</a>(T);
    <span class="tok-kw">const</span> mantissa_bits = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMantissaBits">floatMantissaBits</a>(T);
    <span class="tok-kw">const</span> fractional_bits = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T);

    <span class="tok-kw">const</span> max_biased_exponent = <span class="tok-number">2</span> * <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>(T);
    <span class="tok-kw">const</span> mantissa_mask = <span class="tok-builtin">@as</span>(TBits, (<span class="tok-number">1</span> &lt;&lt; mantissa_bits) - <span class="tok-number">1</span>);

    <span class="tok-kw">const</span> repr = <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(x));
    <span class="tok-kw">const</span> sign_bit = repr &amp; (<span class="tok-number">1</span> &lt;&lt; (exponent_bits + mantissa_bits));

    <span class="tok-kw">if</span> (<a href="std.math.html">math</a>.<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(x) <span class="tok-kw">or</span> !<a href="std.math.html">math</a>.<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(x))
        <span class="tok-kw">return</span> x;

    <span class="tok-kw">var</span> exponent: <span class="tok-type">i32</span> = <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-builtin">@intCast</span>((repr &lt;&lt; <span class="tok-number">1</span>) &gt;&gt; (mantissa_bits + <span class="tok-number">1</span>)));
    <span class="tok-kw">if</span> (exponent == <span class="tok-number">0</span>)
        exponent += (<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, exponent_bits) + <span class="tok-builtin">@intFromBool</span>(T == <span class="tok-type">f80</span>)) - <span class="tok-builtin">@clz</span>(repr &lt;&lt; <span class="tok-number">1</span>);

    <span class="tok-kw">if</span> (n &gt;= <span class="tok-number">0</span>) {
        <span class="tok-kw">if</span> (n &gt; max_biased_exponent - exponent) {<span class="tok-comment">
            // Overflow. Return +/- inf
            </span><span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(<span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T))) | sign_bit));
        } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (exponent + n &lt;= <span class="tok-number">0</span>) {<span class="tok-comment">
            // Result is subnormal
            </span><span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>((repr &lt;&lt; <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(TBits), <span class="tok-builtin">@intCast</span>(n))) | sign_bit));
        } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (exponent &lt;= <span class="tok-number">0</span>) {<span class="tok-comment">
            // Result is normal, but needs shifting
            </span><span class="tok-kw">var</span> result = <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intCast</span>(n + exponent)) &lt;&lt; mantissa_bits;
            result |= (repr &lt;&lt; <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(TBits), <span class="tok-builtin">@intCast</span>(<span class="tok-number">1</span> - exponent))) &amp; mantissa_mask;
            <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(result | sign_bit));
        }<span class="tok-comment">

        // Result needs no shifting
        </span><span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(repr + (<span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intCast</span>(n)) &lt;&lt; mantissa_bits)));
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">if</span> (n &lt;= -exponent) {
            <span class="tok-kw">if</span> (n &lt; -(mantissa_bits + exponent))
                <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(sign_bit));<span class="tok-comment"> // Severe underflow. Return +/- 0

            // Result underflowed, we need to shift and round
            </span><span class="tok-kw">const</span> shift = <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(TBits), <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@min</span>(-n, -(exponent + n) + <span class="tok-number">1</span>)));
            <span class="tok-kw">const</span> exact_tie: <span class="tok-type">bool</span> = <span class="tok-builtin">@ctz</span>(repr) == shift - <span class="tok-number">1</span>;
            <span class="tok-kw">var</span> result = repr &amp; mantissa_mask;

            <span class="tok-kw">if</span> (T != <span class="tok-type">f80</span>)<span class="tok-comment"> // Include integer bit
                </span>result |= <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intFromBool</span>(exponent &gt; <span class="tok-number">0</span>)) &lt;&lt; fractional_bits;
            result = <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intCast</span>((result &gt;&gt; (shift - <span class="tok-number">1</span>))));<span class="tok-comment">

            // Round result, including round-to-even for exact ties
            </span>result = ((result + <span class="tok-number">1</span>) &gt;&gt; <span class="tok-number">1</span>) &amp; ~<span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intFromBool</span>(exact_tie));
            <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(result | sign_bit));
        }<span class="tok-comment">

        // Result is exact, and needs no shifting
        </span><span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(repr - (<span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intCast</span>(-n)) &lt;&lt; mantissa_bits)));
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.ldexp.ldexp" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">ldexp</span><a href="#src.zig-std.math.ldexp.ldexp">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ldexp</span>(x: <span class="tok-kw">anytype</span>, n: <span class="tok-type">i32</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns x * 2^n.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>n: <span class="tok-type">i32</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> ldexp {<span class="tok-comment">
    // subnormals
    </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f16</span>, <span class="tok-number">0x1.1FFp14</span>), -<span class="tok-number">14</span> - <span class="tok-number">9</span> - <span class="tok-number">15</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(<span class="tok-type">f16</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0x1.3FFFFFp-1</span>), -<span class="tok-number">126</span> - <span class="tok-number">22</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(<span class="tok-type">f32</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0x1.7FFFFFFFFFFFFp-1</span>), -<span class="tok-number">1022</span> - <span class="tok-number">51</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(<span class="tok-type">f64</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f80</span>, <span class="tok-number">0x1.7FFFFFFFFFFFFFFEp-1</span>), -<span class="tok-number">16382</span> - <span class="tok-number">62</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(<span class="tok-type">f80</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f128</span>, <span class="tok-number">0x1.7FFFFFFFFFFFFFFFFFFFFFFFFFFFp-1</span>), -<span class="tok-number">16382</span> - <span class="tok-number">111</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(<span class="tok-type">f128</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(<span class="tok-type">f32</span>), -<span class="tok-number">128</span> - <span class="tok-number">149</span>) &gt; <span class="tok-number">0.0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(<span class="tok-type">f32</span>), -<span class="tok-number">128</span> - <span class="tok-number">149</span> - <span class="tok-number">1</span>) == <span class="tok-number">0.0</span>);

    <span class="tok-builtin">@setEvalBranchQuota</span>(<span class="tok-number">10_000</span>);

    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f80</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">const</span> fractional_bits = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T);

        <span class="tok-kw">const</span> min_exponent = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentMin">floatExponentMin</a>(T);
        <span class="tok-kw">const</span> max_exponent = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>(T);
        <span class="tok-kw">const</span> exponent_bias = max_exponent;<span class="tok-comment">

        // basic usage
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.5</span>), <span class="tok-number">4</span>) == <span class="tok-number">24.0</span>);<span class="tok-comment">

        // normals -&gt; subnormals
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>), min_exponent)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html">math</a>.<a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>), min_exponent - <span class="tok-number">1</span>)));<span class="tok-comment">

        // normals -&gt; zero
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>), min_exponent - fractional_bits) &gt; <span class="tok-number">0.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.0</span>), min_exponent - fractional_bits - <span class="tok-number">1</span>) == <span class="tok-number">0.0</span>);<span class="tok-comment">

        // subnormals -&gt; zero
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), <span class="tok-number">0</span>) &gt; <span class="tok-number">0.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), -<span class="tok-number">1</span>) == <span class="tok-number">0.0</span>);<span class="tok-comment">

        // Multiplications might flush the denormals to zero, esp. at
        // runtime, so we manually construct the constants here instead.
        </span><span class="tok-kw">const</span> Z = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@bitSizeOf</span>(T));
        <span class="tok-kw">const</span> EightTimesTrueMin = <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(<span class="tok-builtin">@as</span>(Z, <span class="tok-number">8</span>)));
        <span class="tok-kw">const</span> TwoTimesTrueMin = <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(<span class="tok-builtin">@as</span>(Z, <span class="tok-number">2</span>)));<span class="tok-comment">

        // subnormals -&gt; subnormals
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), <span class="tok-number">3</span>) == EightTimesTrueMin);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(EightTimesTrueMin, -<span class="tok-number">2</span>) == TwoTimesTrueMin);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(EightTimesTrueMin, -<span class="tok-number">3</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T));<span class="tok-comment">

        // subnormals -&gt; normals (+)
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), fractional_bits) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), fractional_bits - <span class="tok-number">1</span>) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T) * <span class="tok-number">0.5</span>);<span class="tok-comment">

        // subnormals -&gt; normals (-)
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), fractional_bits) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), fractional_bits - <span class="tok-number">1</span>) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T) * <span class="tok-number">0.5</span>);<span class="tok-comment">

        // subnormals -&gt; float limits (+inf)
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), max_exponent + exponent_bias + fractional_bits - <span class="tok-number">1</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), max_exponent + exponent_bias + fractional_bits) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));<span class="tok-comment">

        // subnormals -&gt; float limits (-inf)
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), max_exponent + exponent_bias + fractional_bits - <span class="tok-number">1</span>)));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), max_exponent + exponent_bias + fractional_bits) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));<span class="tok-comment">

        // infinity -&gt; infinity
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>)) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), max_exponent) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), min_exponent) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(-<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>)) == -<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));<span class="tok-comment">

        // extremely large n
        </span><span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T), -<a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == <span class="tok-number">0.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>)) == <span class="tok-number">0.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), -<a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>)) == <span class="tok-number">0.0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>(T), <a href="std.math.html">math</a>.<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>)) == <span class="tok-number">0.0</span>);
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.ldexp.ldexp">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ldexp</span>(x: <span class="tok-kw">anytype</span>, n: <span class="tok-type">i32</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">const</span> TBits = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@typeInfo</span>(T).float.bits);

    <span class="tok-kw">const</span> exponent_bits = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentBits">floatExponentBits</a>(T);
    <span class="tok-kw">const</span> mantissa_bits = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatMantissaBits">floatMantissaBits</a>(T);
    <span class="tok-kw">const</span> fractional_bits = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>(T);

    <span class="tok-kw">const</span> max_biased_exponent = <span class="tok-number">2</span> * <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>(T);
    <span class="tok-kw">const</span> mantissa_mask = <span class="tok-builtin">@as</span>(TBits, (<span class="tok-number">1</span> &lt;&lt; mantissa_bits) - <span class="tok-number">1</span>);

    <span class="tok-kw">const</span> repr = <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(x));
    <span class="tok-kw">const</span> sign_bit = repr &amp; (<span class="tok-number">1</span> &lt;&lt; (exponent_bits + mantissa_bits));

    <span class="tok-kw">if</span> (<a href="std.math.html">math</a>.<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(x) <span class="tok-kw">or</span> !<a href="std.math.html">math</a>.<a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>(x))
        <span class="tok-kw">return</span> x;

    <span class="tok-kw">var</span> exponent: <span class="tok-type">i32</span> = <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-builtin">@intCast</span>((repr &lt;&lt; <span class="tok-number">1</span>) &gt;&gt; (mantissa_bits + <span class="tok-number">1</span>)));
    <span class="tok-kw">if</span> (exponent == <span class="tok-number">0</span>)
        exponent += (<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, exponent_bits) + <span class="tok-builtin">@intFromBool</span>(T == <span class="tok-type">f80</span>)) - <span class="tok-builtin">@clz</span>(repr &lt;&lt; <span class="tok-number">1</span>);

    <span class="tok-kw">if</span> (n &gt;= <span class="tok-number">0</span>) {
        <span class="tok-kw">if</span> (n &gt; max_biased_exponent - exponent) {<span class="tok-comment">
            // Overflow. Return +/- inf
            </span><span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(<span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@bitCast</span>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T))) | sign_bit));
        } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (exponent + n &lt;= <span class="tok-number">0</span>) {<span class="tok-comment">
            // Result is subnormal
            </span><span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>((repr &lt;&lt; <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(TBits), <span class="tok-builtin">@intCast</span>(n))) | sign_bit));
        } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (exponent &lt;= <span class="tok-number">0</span>) {<span class="tok-comment">
            // Result is normal, but needs shifting
            </span><span class="tok-kw">var</span> result = <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intCast</span>(n + exponent)) &lt;&lt; mantissa_bits;
            result |= (repr &lt;&lt; <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(TBits), <span class="tok-builtin">@intCast</span>(<span class="tok-number">1</span> - exponent))) &amp; mantissa_mask;
            <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(result | sign_bit));
        }<span class="tok-comment">

        // Result needs no shifting
        </span><span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(repr + (<span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intCast</span>(n)) &lt;&lt; mantissa_bits)));
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">if</span> (n &lt;= -exponent) {
            <span class="tok-kw">if</span> (n &lt; -(mantissa_bits + exponent))
                <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(sign_bit));<span class="tok-comment"> // Severe underflow. Return +/- 0

            // Result underflowed, we need to shift and round
            </span><span class="tok-kw">const</span> shift = <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(TBits), <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@min</span>(-n, -(exponent + n) + <span class="tok-number">1</span>)));
            <span class="tok-kw">const</span> exact_tie: <span class="tok-type">bool</span> = <span class="tok-builtin">@ctz</span>(repr) == shift - <span class="tok-number">1</span>;
            <span class="tok-kw">var</span> result = repr &amp; mantissa_mask;

            <span class="tok-kw">if</span> (T != <span class="tok-type">f80</span>)<span class="tok-comment"> // Include integer bit
                </span>result |= <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intFromBool</span>(exponent &gt; <span class="tok-number">0</span>)) &lt;&lt; fractional_bits;
            result = <span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intCast</span>((result &gt;&gt; (shift - <span class="tok-number">1</span>))));<span class="tok-comment">

            // Round result, including round-to-even for exact ties
            </span>result = ((result + <span class="tok-number">1</span>) &gt;&gt; <span class="tok-number">1</span>) &amp; ~<span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intFromBool</span>(exact_tie));
            <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(result | sign_bit));
        }<span class="tok-comment">

        // Result is exact, and needs no shifting
        </span><span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@bitCast</span>(repr - (<span class="tok-builtin">@as</span>(TBits, <span class="tok-builtin">@intCast</span>(-n)) &lt;&lt; mantissa_bits)));
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.pow.pow" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">pow</span><a href="#src.zig-std.math.pow.pow">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">pow</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T) T</code></pre></div><div class="tldDocs"><p>Returns x raised to the power of y (x^y).</p>
<p>Special Cases:</p>
<ul>
<li>pow(x, +-0)    = 1 for any x</li>
<li>pow(1, y)      = 1 for any y</li>
<li>pow(x, 1)      = x for any x</li>
<li>pow(nan, y)    = nan</li>
<li>pow(x, nan)    = nan</li>
<li>pow(+-0, y)    = +-inf for y an odd integer &lt; 0</li>
<li>pow(+-0, -inf) = +inf</li>
<li>pow(+-0, +inf) = +0</li>
<li>pow(+-0, y)    = +inf for finite y &lt; 0 and not an odd integer</li>
<li>pow(+-0, y)    = +-0 for y an odd integer &gt; 0</li>
<li>pow(+-0, y)    = +0 for finite y &gt; 0 and not an odd integer</li>
<li>pow(-1, +-inf) = 1</li>
<li>pow(x, +inf)   = +inf for |x| &gt; 1</li>
<li>pow(x, -inf)   = +0 for |x| &gt; 1</li>
<li>pow(x, +inf)   = +0 for |x| &lt; 1</li>
<li>pow(x, -inf)   = +inf for |x| &lt; 1</li>
<li>pow(+inf, y)   = +inf for y &gt; 0</li>
<li>pow(+inf, y)   = +0 for y &lt; 0</li>
<li>pow(-inf, y)   = pow(-0, -y)</li>
<li>pow(x, y)      = nan for finite x &lt; 0 and finite non-integer y</li>
</ul>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div><div><pre><code>y: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> pow {
    <span class="tok-kw">const</span> epsilon = <span class="tok-number">0.000001</span>;

    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f32</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>, <span class="tok-number">3.3</span>), <span class="tok-number">0.0</span>, epsilon));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f32</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f32</span>, <span class="tok-number">0.8923</span>, <span class="tok-number">3.3</span>), <span class="tok-number">0.686572</span>, epsilon));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f32</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f32</span>, <span class="tok-number">0.2</span>, <span class="tok-number">3.3</span>), <span class="tok-number">0.004936</span>, epsilon));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f32</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f32</span>, <span class="tok-number">1.5</span>, <span class="tok-number">3.3</span>), <span class="tok-number">3.811546</span>, epsilon));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f32</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f32</span>, <span class="tok-number">37.45</span>, <span class="tok-number">3.3</span>), <span class="tok-number">155736.703125</span>, epsilon));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f32</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f32</span>, <span class="tok-number">89.123</span>, <span class="tok-number">3.3</span>), <span class="tok-number">2722489.5</span>, epsilon));

    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f64</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f64</span>, <span class="tok-number">0.0</span>, <span class="tok-number">3.3</span>), <span class="tok-number">0.0</span>, epsilon));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f64</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f64</span>, <span class="tok-number">0.8923</span>, <span class="tok-number">3.3</span>), <span class="tok-number">0.686572</span>, epsilon));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f64</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f64</span>, <span class="tok-number">0.2</span>, <span class="tok-number">3.3</span>), <span class="tok-number">0.004936</span>, epsilon));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f64</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f64</span>, <span class="tok-number">1.5</span>, <span class="tok-number">3.3</span>), <span class="tok-number">3.811546</span>, epsilon));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f64</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f64</span>, <span class="tok-number">37.45</span>, <span class="tok-number">3.3</span>), <span class="tok-number">155736.7160616</span>, epsilon));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html">math</a>.<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">f64</span>, <a href="std.math.pow.html#std.math.pow.pow">pow</a>(<span class="tok-type">f64</span>, <span class="tok-number">89.123</span>, <span class="tok-number">3.3</span>), <span class="tok-number">2722490.231436</span>, epsilon));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.pow.pow">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">pow</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T) T {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .int) {
        <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.powi.html#std.math.powi.powi">powi</a>(T, x, y) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>;
    }

    <span class="tok-kw">if</span> (T != <span class="tok-type">f32</span> <span class="tok-kw">and</span> T != <span class="tok-type">f64</span>) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;pow not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T));
    }<span class="tok-comment">

    // pow(x, +-0) = 1      for all x
    // pow(1, y) = 1        for all y
    </span><span class="tok-kw">if</span> (y == <span class="tok-number">0</span> <span class="tok-kw">or</span> x == <span class="tok-number">1</span>) {
        <span class="tok-kw">return</span> <span class="tok-number">1</span>;
    }<span class="tok-comment">

    // pow(nan, y) = nan    for all y
    // pow(x, nan) = nan    for all x
    </span><span class="tok-kw">if</span> (<a href="std.math.html">math</a>.<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(x) <span class="tok-kw">or</span> <a href="std.math.html">math</a>.<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(y)) {
        <span class="tok-builtin">@branchHint</span>(.unlikely);
        <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T);
    }<span class="tok-comment">

    // pow(x, 1) = x        for all x
    </span><span class="tok-kw">if</span> (y == <span class="tok-number">1</span>) {
        <span class="tok-kw">return</span> x;
    }

    <span class="tok-kw">if</span> (x == <span class="tok-number">0</span>) {
        <span class="tok-kw">if</span> (y &lt; <span class="tok-number">0</span>) {<span class="tok-comment">
            // pow(+-0, y) = +- 0   for y an odd integer
            </span><span class="tok-kw">if</span> (<a href="std.math.pow.html#std.math.pow.isOddInteger">isOddInteger</a>(y)) {
                <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.copysign.html#std.math.copysign.copysign">copysign</a>(<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T), x);
            }<span class="tok-comment">
            // pow(+-0, y) = +inf   for y an even integer
            </span><span class="tok-kw">else</span> {
                <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T);
            }
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">if</span> (<a href="std.math.pow.html#std.math.pow.isOddInteger">isOddInteger</a>(y)) {
                <span class="tok-kw">return</span> x;
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">return</span> <span class="tok-number">0</span>;
            }
        }
    }

    <span class="tok-kw">if</span> (<a href="std.math.html">math</a>.<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(y)) {<span class="tok-comment">
        // pow(-1, inf) = 1     for all x
        </span><span class="tok-kw">if</span> (x == -<span class="tok-number">1</span>) {
            <span class="tok-kw">return</span> <span class="tok-number">1.0</span>;
        }<span class="tok-comment">
        // pow(x, +inf) = +0    for |x| &lt; 1
        // pow(x, -inf) = +0    for |x| &gt; 1
        </span><span class="tok-kw">else</span> <span class="tok-kw">if</span> ((<span class="tok-builtin">@abs</span>(x) &lt; <span class="tok-number">1</span>) == <a href="std.math.html">math</a>.<a href="std.math.isinf.html#std.math.isinf.isPositiveInf">isPositiveInf</a>(y)) {
            <span class="tok-kw">return</span> <span class="tok-number">0</span>;
        }<span class="tok-comment">
        // pow(x, -inf) = +inf  for |x| &lt; 1
        // pow(x, +inf) = +inf  for |x| &gt; 1
        </span><span class="tok-kw">else</span> {
            <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T);
        }
    }

    <span class="tok-kw">if</span> (<a href="std.math.html">math</a>.<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(x)) {
        <span class="tok-kw">if</span> (<a href="std.math.html">math</a>.<a href="std.math.isinf.html#std.math.isinf.isNegativeInf">isNegativeInf</a>(x)) {
            <span class="tok-kw">return</span> <a href="std.math.pow.html#std.math.pow.pow">pow</a>(T, <span class="tok-number">1</span> / x, -y);
        }<span class="tok-comment">
        // pow(+inf, y) = +0    for y &lt; 0
        </span><span class="tok-kw">else</span> <span class="tok-kw">if</span> (y &lt; <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> <span class="tok-number">0</span>;
        }<span class="tok-comment">
        // pow(+inf, y) = +0    for y &gt; 0
        </span><span class="tok-kw">else</span> <span class="tok-kw">if</span> (y &gt; <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T);
        }
    }<span class="tok-comment">

    // special case sqrt
    </span><span class="tok-kw">if</span> (y == <span class="tok-number">0.5</span>) {
        <span class="tok-kw">return</span> <span class="tok-builtin">@sqrt</span>(x);
    }

    <span class="tok-kw">if</span> (y == -<span class="tok-number">0.5</span>) {
        <span class="tok-kw">return</span> <span class="tok-number">1</span> / <span class="tok-builtin">@sqrt</span>(x);
    }

    <span class="tok-kw">const</span> r1 = <a href="std.math.html">math</a>.<a href="std.math.modf.html#std.math.modf.modf">modf</a>(<span class="tok-builtin">@abs</span>(y));
    <span class="tok-kw">var</span> yi = r1.ipart;
    <span class="tok-kw">var</span> yf = r1.fpart;

    <span class="tok-kw">if</span> (yf != <span class="tok-number">0</span> <span class="tok-kw">and</span> x &lt; <span class="tok-number">0</span>) {
        <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T);
    }
    <span class="tok-kw">if</span> (yi &gt;= <span class="tok-number">1</span> &lt;&lt; (<span class="tok-builtin">@typeInfo</span>(T).float.bits - <span class="tok-number">1</span>)) {
        <span class="tok-kw">return</span> <span class="tok-builtin">@exp</span>(y * <span class="tok-builtin">@log</span>(x));
    }<span class="tok-comment">

    // a = a1 * 2^ae
    </span><span class="tok-kw">var</span> a1: T = <span class="tok-number">1.0</span>;
    <span class="tok-kw">var</span> ae: <span class="tok-type">i32</span> = <span class="tok-number">0</span>;<span class="tok-comment">

    // a *= x^yf
    </span><span class="tok-kw">if</span> (yf != <span class="tok-number">0</span>) {
        <span class="tok-kw">if</span> (yf &gt; <span class="tok-number">0.5</span>) {
            yf -= <span class="tok-number">1</span>;
            yi += <span class="tok-number">1</span>;
        }
        a1 = <span class="tok-builtin">@exp</span>(yf * <span class="tok-builtin">@log</span>(x));
    }<span class="tok-comment">

    // a *= x^yi
    </span><span class="tok-kw">const</span> r2 = <a href="std.math.html">math</a>.<a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>(x);
    <span class="tok-kw">var</span> xe = r2.exponent;
    <span class="tok-kw">var</span> x1 = r2.significand;

    <span class="tok-kw">var</span> i = <span class="tok-builtin">@as</span>(<a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.signed, <span class="tok-builtin">@typeInfo</span>(T).float.bits), <span class="tok-builtin">@intFromFloat</span>(yi));
    <span class="tok-kw">while</span> (i != <span class="tok-number">0</span>) : (i &gt;&gt;= <span class="tok-number">1</span>) {
        <span class="tok-kw">const</span> overflow_shift = <a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatExponentBits">floatExponentBits</a>(T) + <span class="tok-number">1</span>;
        <span class="tok-kw">if</span> (xe &lt; -(<span class="tok-number">1</span> &lt;&lt; overflow_shift) <span class="tok-kw">or</span> (<span class="tok-number">1</span> &lt;&lt; overflow_shift) &lt; xe) {<span class="tok-comment">
            // catch xe before it overflows the left shift below
            // Since i != 0 it has at least one bit still set, so ae will accumulate xe
            // on at least one more iteration, ae += xe is a lower bound on ae
            // the lower bound on ae exceeds the size of a float exp
            // so the final call to Ldexp will produce under/overflow (0/Inf)
            </span>ae += xe;
            <span class="tok-kw">break</span>;
        }
        <span class="tok-kw">if</span> (i &amp; <span class="tok-number">1</span> == <span class="tok-number">1</span>) {
            a1 *= x1;
            ae += xe;
        }
        x1 *= x1;
        xe &lt;&lt;= <span class="tok-number">1</span>;
        <span class="tok-kw">if</span> (x1 &lt; <span class="tok-number">0.5</span>) {
            x1 += x1;
            xe -= <span class="tok-number">1</span>;
        }
    }<span class="tok-comment">

    // a *= a1 * 2^ae
    </span><span class="tok-kw">if</span> (y &lt; <span class="tok-number">0</span>) {
        a1 = <span class="tok-number">1</span> / a1;
        ae = -ae;
    }

    <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.ldexp.html#std.math.ldexp.ldexp">scalbn</a>(a1, ae);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.powi.powi" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">powi</span><a href="#src.zig-std.math.powi.powi">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">powi</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T) (<span class="tok-kw">error</span>{ Overflow, Underflow, }!T)</code></pre></div><div class="tldDocs"><p>Returns the power of x raised by the integer y (x^y).</p>
<p>Errors:</p>
<ul>
<li>Overflow: Integer overflow or Infinity</li>
<li>Underflow: Absolute value of result smaller than 1
Edge case rules ordered by precedence:</li>
<li>powi(T, x, 0)   = 1 unless T is i1, i0, u0</li>
<li>powi(T, 0, x)   = 0 when x &gt; 0</li>
<li>powi(T, 0, x)   = Overflow</li>
<li>powi(T, 1, y)   = 1</li>
<li>powi(T, -1, y)  = -1 for y an odd integer</li>
<li>powi(T, -1, y)  = 1 unless T is i1, i0, u0</li>
<li>powi(T, -1, y)  = Overflow</li>
<li>powi(T, x, y)   = Overflow when y &gt;= @bitSizeOf(x)</li>
<li>powi(T, x, y)   = Underflow when y &lt; 0</li>
</ul>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div><div><pre><code>y: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> powi {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i8</span>, -<span class="tok-number">66</span>, <span class="tok-number">6</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i16</span>, -<span class="tok-number">13</span>, <span class="tok-number">13</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i32</span>, -<span class="tok-number">32</span>, <span class="tok-number">21</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i64</span>, -<span class="tok-number">24</span>, <span class="tok-number">61</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i17</span>, -<span class="tok-number">15</span>, <span class="tok-number">15</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i42</span>, -<span class="tok-number">6</span>, <span class="tok-number">40</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i8</span>, -<span class="tok-number">5</span>, <span class="tok-number">3</span>)) == -<span class="tok-number">125</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i16</span>, -<span class="tok-number">16</span>, <span class="tok-number">3</span>)) == -<span class="tok-number">4096</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i32</span>, -<span class="tok-number">91</span>, <span class="tok-number">3</span>)) == -<span class="tok-number">753571</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i64</span>, -<span class="tok-number">36</span>, <span class="tok-number">6</span>)) == <span class="tok-number">2176782336</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i17</span>, -<span class="tok-number">2</span>, <span class="tok-number">15</span>)) == -<span class="tok-number">32768</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i42</span>, -<span class="tok-number">5</span>, <span class="tok-number">7</span>)) == -<span class="tok-number">78125</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u8</span>, <span class="tok-number">6</span>, <span class="tok-number">2</span>)) == <span class="tok-number">36</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u16</span>, <span class="tok-number">5</span>, <span class="tok-number">4</span>)) == <span class="tok-number">625</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u32</span>, <span class="tok-number">12</span>, <span class="tok-number">6</span>)) == <span class="tok-number">2985984</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u64</span>, <span class="tok-number">34</span>, <span class="tok-number">2</span>)) == <span class="tok-number">1156</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u17</span>, <span class="tok-number">16</span>, <span class="tok-number">3</span>)) == <span class="tok-number">4096</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u42</span>, <span class="tok-number">34</span>, <span class="tok-number">6</span>)) == <span class="tok-number">1544804416</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i8</span>, <span class="tok-number">120</span>, <span class="tok-number">7</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i16</span>, <span class="tok-number">73</span>, <span class="tok-number">15</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i32</span>, <span class="tok-number">23</span>, <span class="tok-number">31</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i64</span>, <span class="tok-number">68</span>, <span class="tok-number">61</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i17</span>, <span class="tok-number">15</span>, <span class="tok-number">15</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i42</span>, <span class="tok-number">121312</span>, <span class="tok-number">41</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u8</span>, <span class="tok-number">123</span>, <span class="tok-number">7</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u16</span>, <span class="tok-number">2313</span>, <span class="tok-number">15</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u32</span>, <span class="tok-number">8968</span>, <span class="tok-number">31</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u64</span>, <span class="tok-number">2342</span>, <span class="tok-number">63</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u17</span>, <span class="tok-number">2723</span>, <span class="tok-number">16</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">u42</span>, <span class="tok-number">8234</span>, <span class="tok-number">41</span>));

    <span class="tok-kw">const</span> minInt = <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.minInt">minInt</a>;
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i8</span>, -<span class="tok-number">2</span>, <span class="tok-number">7</span>)) == minInt(<span class="tok-type">i8</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i16</span>, -<span class="tok-number">2</span>, <span class="tok-number">15</span>)) == minInt(<span class="tok-type">i16</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i32</span>, -<span class="tok-number">2</span>, <span class="tok-number">31</span>)) == minInt(<span class="tok-type">i32</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<span class="tok-kw">try</span> <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i64</span>, -<span class="tok-number">2</span>, <span class="tok-number">63</span>)) == minInt(<span class="tok-type">i64</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Underflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i8</span>, <span class="tok-number">6</span>, -<span class="tok-number">2</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Underflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i16</span>, <span class="tok-number">5</span>, -<span class="tok-number">4</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Underflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i32</span>, <span class="tok-number">12</span>, -<span class="tok-number">6</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Underflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i64</span>, <span class="tok-number">34</span>, -<span class="tok-number">2</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Underflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i17</span>, <span class="tok-number">16</span>, -<span class="tok-number">3</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Underflow, <a href="std.math.powi.html#std.math.powi.powi">powi</a>(<span class="tok-type">i42</span>, <span class="tok-number">34</span>, -<span class="tok-number">6</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.powi.powi">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">powi</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T) (<span class="tok-kw">error</span>{
    Overflow,
    Underflow,
}!T) {
    <span class="tok-kw">const</span> bit_size = <span class="tok-builtin">@typeInfo</span>(T).int.bits;<span class="tok-comment">

    // `y &amp; 1 == 0` won't compile when `does_one_overflow`.
    </span><span class="tok-kw">const</span> does_one_overflow = <a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(T) &lt; <span class="tok-number">1</span>;
    <span class="tok-kw">const</span> is_y_even = !does_one_overflow <span class="tok-kw">and</span> y &amp; <span class="tok-number">1</span> == <span class="tok-number">0</span>;

    <span class="tok-kw">if</span> (x == <span class="tok-number">1</span> <span class="tok-kw">or</span> y == <span class="tok-number">0</span> <span class="tok-kw">or</span> (x == -<span class="tok-number">1</span> <span class="tok-kw">and</span> is_y_even)) {
        <span class="tok-kw">if</span> (does_one_overflow) {
            <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">return</span> <span class="tok-number">1</span>;
        }
    }

    <span class="tok-kw">if</span> (x == -<span class="tok-number">1</span>) {
        <span class="tok-kw">return</span> -<span class="tok-number">1</span>;
    }

    <span class="tok-kw">if</span> (x == <span class="tok-number">0</span>) {
        <span class="tok-kw">if</span> (y &gt; <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> <span class="tok-number">0</span>;
        } <span class="tok-kw">else</span> {<span class="tok-comment">
            // Infinity/NaN, not overflow in strict sense
            </span><span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
        }
    }<span class="tok-comment">
    // x &gt;= 2 or x &lt;= -2 from this point
    </span><span class="tok-kw">if</span> (y &gt;= bit_size) {
        <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    }
    <span class="tok-kw">if</span> (y &lt; <span class="tok-number">0</span>) {
        <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Underflow;
    }<span class="tok-comment">

    // invariant :
    // return value = powi(T, base, exp) * acc;

    </span><span class="tok-kw">var</span> base = x;
    <span class="tok-kw">var</span> exp = y;
    <span class="tok-kw">var</span> acc: T = <span class="tok-kw">if</span> (does_one_overflow) <span class="tok-kw">unreachable</span> <span class="tok-kw">else</span> <span class="tok-number">1</span>;

    <span class="tok-kw">while</span> (exp &gt; <span class="tok-number">1</span>) {
        <span class="tok-kw">if</span> (exp &amp; <span class="tok-number">1</span> == <span class="tok-number">1</span>) {
            <span class="tok-kw">const</span> ov = <span class="tok-builtin">@mulWithOverflow</span>(acc, base);
            <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
            acc = ov[<span class="tok-number">0</span>];
        }

        exp &gt;&gt;= <span class="tok-number">1</span>;

        <span class="tok-kw">const</span> ov = <span class="tok-builtin">@mulWithOverflow</span>(base, base);
        <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
        base = ov[<span class="tok-number">0</span>];
    }

    <span class="tok-kw">if</span> (exp == <span class="tok-number">1</span>) {
        <span class="tok-kw">const</span> ov = <span class="tok-builtin">@mulWithOverflow</span>(acc, base);
        <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
        acc = ov[<span class="tok-number">0</span>];
    }

    <span class="tok-kw">return</span> acc;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.sqrt.sqrt" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">sqrt</span><a href="#src.zig-std.math.sqrt.sqrt">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">sqrt</span>(x: <span class="tok-kw">anytype</span>) <a href="std.math.sqrt.html#std.math.sqrt.Sqrt">Sqrt</a>(<span class="tok-builtin">@TypeOf</span>(x))</code></pre></div><div class="tldDocs"><p>Returns the square root of x.</p>
<p>Special Cases:</p>
<ul>
<li>sqrt(+inf)  = +inf</li>
<li>sqrt(+-0)   = +-0</li>
<li>sqrt(x)     = nan if x &lt; 0</li>
<li>sqrt(nan)   = nan
TODO Decide if all this logic should be implemented directly in the @sqrt builtin function.</li>
</ul>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.sqrt.sqrt">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">sqrt</span>(x: <span class="tok-kw">anytype</span>) <a href="std.math.sqrt.html#std.math.sqrt.Sqrt">Sqrt</a>(<span class="tok-builtin">@TypeOf</span>(x)) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .float, .<span class="tok-type">comptime_float</span> =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@sqrt</span>(x),
        .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-kw">comptime</span> {
            <span class="tok-kw">if</span> (x &gt; <a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u128</span>)) {
                <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;sqrt not implemented for comptime_int greater than 128 bits&quot;</span>);
            }
            <span class="tok-kw">if</span> (x &lt; <span class="tok-number">0</span>) {
                <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;sqrt on negative number&quot;</span>);
            }
            <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <a href="std.math.sqrt.html#std.math.sqrt.sqrt_int">sqrt_int</a>(<span class="tok-type">u128</span>, x));
        },
        .int =&gt; |IntType| <span class="tok-kw">switch</span> (IntType.signedness) {
            .signed =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;sqrt not implemented for signed integers&quot;</span>),
            .unsigned =&gt; <span class="tok-kw">return</span> <a href="std.math.sqrt.html#std.math.sqrt.sqrt_int">sqrt_int</a>(T, x),
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;sqrt not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.cbrt.cbrt" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">cbrt</span><a href="#src.zig-std.math.cbrt.cbrt">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">cbrt</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the cube root of x.</p>
<p>Special Cases:</p>
<ul>
<li>cbrt(+-0)   = +-0</li>
<li>cbrt(+-inf) = +-inf</li>
<li>cbrt(nan)   = nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> cbrt {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.cbrt.html#std.math.cbrt.cbrt">cbrt</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.cbrt.html#std.math.cbrt.cbrt32">cbrt32</a>(<span class="tok-number">0.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.cbrt.html#std.math.cbrt.cbrt">cbrt</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.cbrt.html#std.math.cbrt.cbrt64">cbrt64</a>(<span class="tok-number">0.0</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.cbrt.cbrt">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">cbrt</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.cbrt.html#std.math.cbrt.cbrt32">cbrt32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.cbrt.html#std.math.cbrt.cbrt64">cbrt64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;cbrt not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.acos.acos" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">acos</span><a href="#src.zig-std.math.acos.acos">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">acos</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the arc-cosine of x.</p>
<p>Special cases:</p>
<ul>
<li>acos(x)   = nan if x &lt; -1 or x &gt; 1</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> acos {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.acos.html#std.math.acos.acos">acos</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.acos.html#std.math.acos.acos32">acos32</a>(<span class="tok-number">0.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.acos.html#std.math.acos.acos">acos</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.acos.html#std.math.acos.acos64">acos64</a>(<span class="tok-number">0.0</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.acos.acos">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">acos</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.acos.html#std.math.acos.acos32">acos32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.acos.html#std.math.acos.acos64">acos64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;acos not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.asin.asin" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">asin</span><a href="#src.zig-std.math.asin.asin">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">asin</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the arc-sin of x.</p>
<p>Special Cases:</p>
<ul>
<li>asin(+-0) = +-0</li>
<li>asin(x)   = nan if x &lt; -1 or x &gt; 1</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> asin {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.asin.html#std.math.asin.asin">asin</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.asin.html#std.math.asin.asin32">asin32</a>(<span class="tok-number">0.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.asin.html#std.math.asin.asin">asin</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.asin.html#std.math.asin.asin64">asin64</a>(<span class="tok-number">0.0</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.asin.asin">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">asin</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.asin.html#std.math.asin.asin32">asin32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.asin.html#std.math.asin.asin64">asin64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;asin not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.atan.atan" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">atan</span><a href="#src.zig-std.math.atan.atan">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">atan</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the arc-tangent of x.</p>
<p>Special Cases:</p>
<ul>
<li>atan(+-0)   = +-0</li>
<li>atan(+-inf) = +-pi/2</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> atan {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.atan.html#std.math.atan.atan">atan</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.2</span>)))) == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-builtin">@bitCast</span>(<a href="std.math.atan.html#std.math.atan.atan32">atan32</a>(<span class="tok-number">0.2</span>))));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.atan.html#std.math.atan.atan">atan</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.2</span>)) == <a href="std.math.atan.html#std.math.atan.atan64">atan64</a>(<span class="tok-number">0.2</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.atan.atan">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">atan</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.atan.html#std.math.atan.atan32">atan32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.atan.html#std.math.atan.atan64">atan64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;atan not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.atan2.atan2" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">atan2</span><a href="#src.zig-std.math.atan2.atan2">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">atan2</span>(y: <span class="tok-kw">anytype</span>, x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x, y)</code></pre></div><div class="tldDocs"><p>Returns the arc-tangent of y/x.</p>
<p>Special Cases:</p>
<table>
<tr>
<th>y</th>
<th>x</th>
<th>radians</th>
</tr>
<tr>
<td>fin</td>
<td>nan</td>
<td>nan</td>
</tr>
<tr>
<td>nan</td>
<td>fin</td>
<td>nan</td>
</tr>
<tr>
<td>+0</td>
<td>&gt;=+0</td>
<td>+0</td>
</tr>
<tr>
<td>-0</td>
<td>&gt;=+0</td>
<td>-0</td>
</tr>
<tr>
<td>+0</td>
<td>&lt;=-0</td>
<td>pi</td>
</tr>
<tr>
<td>-0</td>
<td>&lt;=-0</td>
<td>-pi</td>
</tr>
<tr>
<td>pos</td>
<td>0</td>
<td>+pi/2</td>
</tr>
<tr>
<td>neg</td>
<td>0</td>
<td>-pi/2</td>
</tr>
<tr>
<td>+inf</td>
<td>+inf</td>
<td>+pi/4</td>
</tr>
<tr>
<td>-inf</td>
<td>+inf</td>
<td>-pi/4</td>
</tr>
<tr>
<td>+inf</td>
<td>-inf</td>
<td>3pi/4</td>
</tr>
<tr>
<td>-inf</td>
<td>-inf</td>
<td>-3pi/4</td>
</tr>
<tr>
<td>fin</td>
<td>+inf</td>
<td>0</td>
</tr>
<tr>
<td>pos</td>
<td>-inf</td>
<td>+pi</td>
</tr>
<tr>
<td>neg</td>
<td>-inf</td>
<td>-pi</td>
</tr>
<tr>
<td>+inf</td>
<td>fin</td>
<td>+pi/2</td>
</tr>
<tr>
<td>-inf</td>
<td>fin</td>
<td>-pi/2</td>
</tr>
</table>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> atan2 {
    <span class="tok-kw">const</span> y32: <span class="tok-type">f32</span> = <span class="tok-number">0.2</span>;
    <span class="tok-kw">const</span> x32: <span class="tok-type">f32</span> = <span class="tok-number">0.21</span>;
    <span class="tok-kw">const</span> y64: <span class="tok-type">f64</span> = <span class="tok-number">0.2</span>;
    <span class="tok-kw">const</span> x64: <span class="tok-type">f64</span> = <span class="tok-number">0.21</span>;
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.atan2.html#std.math.atan2.atan2">atan2</a>(y32, x32) == <a href="std.math.atan2.html#std.math.atan2.atan2_32">atan2_32</a>(<span class="tok-number">0.2</span>, <span class="tok-number">0.21</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.atan2.html#std.math.atan2.atan2">atan2</a>(y64, x64) == <a href="std.math.atan2.html#std.math.atan2.atan2_64">atan2_64</a>(<span class="tok-number">0.2</span>, <span class="tok-number">0.21</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.atan2.atan2">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">atan2</span>(y: <span class="tok-kw">anytype</span>, x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x, y) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x, y);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.atan2.html#std.math.atan2.atan2_32">atan2_32</a>(y, x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.atan2.html#std.math.atan2.atan2_64">atan2_64</a>(y, x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;atan2 not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.hypot.hypot" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">hypot</span><a href="#src.zig-std.math.hypot.hypot">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">hypot</span>(x: <span class="tok-kw">anytype</span>, y: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x, y)</code></pre></div><div class="tldDocs"><p>Returns sqrt(x * x + y * y), avoiding unnecessary overflow and underflow.</p>
<p>Special Cases:</p>
<table>
<tr>
<th>x</th>
<th>y</th>
<th>hypot</th>
</tr>
<tr>
<td>+-inf</td>
<td>any</td>
<td>+inf</td>
</tr>
<tr>
<td>any</td>
<td>+-inf</td>
<td>+inf</td>
</tr>
<tr>
<td>nan</td>
<td>fin</td>
<td>nan</td>
</tr>
<tr>
<td>fin</td>
<td>nan</td>
<td>nan</td>
</tr>
</table>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> hypot {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.hypot.html#std.math.hypot.hypot">hypot</a>(<span class="tok-number">0.3</span>, <span class="tok-number">0.4</span>) == <span class="tok-number">0.5</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.hypot.hypot">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">hypot</span>(x: <span class="tok-kw">anytype</span>, y: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x, y) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x, y);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .float =&gt; {},
        .<span class="tok-type">comptime_float</span> =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@sqrt</span>(x * x + y * y),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;hypot not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    }
    <span class="tok-kw">const</span> lower = <span class="tok-builtin">@sqrt</span>(<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T));
    <span class="tok-kw">const</span> upper = <span class="tok-builtin">@sqrt</span>(<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>(T) / <span class="tok-number">2</span>);
    <span class="tok-kw">const</span> incre = <span class="tok-builtin">@sqrt</span>(<a href="std.math.float.html#std.math.float.floatEps">floatEps</a>(T) / <span class="tok-number">2</span>);
    <span class="tok-kw">const</span> scale = <a href="std.math.float.html#std.math.float.floatEpsAt">floatEpsAt</a>(T, incre);
    <span class="tok-kw">const</span> hypfn = <span class="tok-kw">if</span> (<a href="std.math.hypot.html#std.math.hypot.emulateFma">emulateFma</a>(T)) <a href="std.math.hypot.html#std.math.hypot.hypotUnfused">hypotUnfused</a> <span class="tok-kw">else</span> <a href="std.math.hypot.html#std.math.hypot.hypotFused">hypotFused</a>;
    <span class="tok-kw">var</span> major: T = x;
    <span class="tok-kw">var</span> minor: T = y;
    <span class="tok-kw">if</span> (<a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(major) <span class="tok-kw">or</span> <a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>(minor)) <span class="tok-kw">return</span> <a href="std.math.float.html#std.math.float.inf">inf</a>(T);
    <span class="tok-kw">if</span> (<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(major) <span class="tok-kw">or</span> <a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(minor)) <span class="tok-kw">return</span> <a href="std.math.float.html#std.math.float.nan">nan</a>(T);
    <span class="tok-kw">if</span> (T == <span class="tok-type">f16</span>) <span class="tok-kw">return</span> <span class="tok-builtin">@floatCast</span>(<span class="tok-builtin">@sqrt</span>(<span class="tok-builtin">@mulAdd</span>(<span class="tok-type">f32</span>, x, x, <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, y) * y)));
    <span class="tok-kw">if</span> (T == <span class="tok-type">f32</span>) <span class="tok-kw">return</span> <span class="tok-builtin">@floatCast</span>(<span class="tok-builtin">@sqrt</span>(<span class="tok-builtin">@mulAdd</span>(<span class="tok-type">f64</span>, x, x, <span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, y) * y)));
    major = <span class="tok-builtin">@abs</span>(major);
    minor = <span class="tok-builtin">@abs</span>(minor);
    <span class="tok-kw">if</span> (minor &gt; major) {
        <span class="tok-kw">const</span> tempo = major;
        major = minor;
        minor = tempo;
    }
    <span class="tok-kw">if</span> (major * incre &gt;= minor) <span class="tok-kw">return</span> major;
    <span class="tok-kw">if</span> (major &gt; upper) <span class="tok-kw">return</span> hypfn(T, major * scale, minor * scale) / scale;
    <span class="tok-kw">if</span> (minor &lt; lower) <span class="tok-kw">return</span> hypfn(T, major / scale, minor / scale) * scale;
    <span class="tok-kw">return</span> hypfn(T, major, minor);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.expm1.expm1" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">expm1</span><a href="#src.zig-std.math.expm1.expm1">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">expm1</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns e raised to the power of x, minus 1 (e^x - 1). This is more accurate than exp(e, x) - 1
when x is near 0.</p>
<p>Special Cases:</p>
<ul>
<li>expm1(+inf) = +inf</li>
<li>expm1(-inf) = -1</li>
<li>expm1(nan)  = nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> expm1 {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.expm1.html#std.math.expm1.expm1">expm1</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.expm1.html#std.math.expm1.expm1_32">expm1_32</a>(<span class="tok-number">0.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.expm1.html#std.math.expm1.expm1">expm1</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.expm1.html#std.math.expm1.expm1_64">expm1_64</a>(<span class="tok-number">0.0</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.expm1.expm1">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">expm1</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.expm1.html#std.math.expm1.expm1_32">expm1_32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.expm1.html#std.math.expm1.expm1_64">expm1_64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;exp1m not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.ilogb.ilogb" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">ilogb</span><a href="#src.zig-std.math.ilogb.ilogb">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ilogb</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">i32</span></code></pre></div><div class="tldDocs"><p>Returns the binary exponent of x as an integer.</p>
<p>Special Cases:</p>
<ul>
<li>ilogb(+-inf) = maxInt(i32)</li>
<li>ilogb(+-0)   = minInt(i32)</li>
<li>ilogb(nan)   = minInt(i32)</li>
</ul>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.ilogb.ilogb">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ilogb</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-type">i32</span> {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <a href="std.math.ilogb.html#std.math.ilogb.ilogbX">ilogbX</a>(T, x);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.log.log" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">log</span><a href="#src.zig-std.math.log.log">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, base: T, x: T) T</code></pre></div><div class="tldDocs"><p>Returns the logarithm of x for the provided base.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>base: T</code></pre></div><div><pre><code>x: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.log.log">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, base: T, x: T) T {
    <span class="tok-kw">if</span> (base == <span class="tok-number">2</span>) {
        <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.log2.html#std.math.log2.log2">log2</a>(x);
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (base == <span class="tok-number">10</span>) {
        <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.log10.html#std.math.log10.log10">log10</a>(x);
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> ((<span class="tok-builtin">@typeInfo</span>(T) == .float <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(T) == .<span class="tok-type">comptime_float</span>) <span class="tok-kw">and</span> base == <a href="std.math.html">math</a>.<a href="std.math.html#std.math.e">e</a>) {
        <span class="tok-kw">return</span> <span class="tok-builtin">@log</span>(x);
    }

    <span class="tok-kw">const</span> float_base = <a href="std.math.html">math</a>.<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">f64</span>, base);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .<span class="tok-type">comptime_float</span> =&gt; {
            <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<span class="tok-type">comptime_float</span>, <span class="tok-builtin">@log</span>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, x)) / <span class="tok-builtin">@log</span>(float_base));
        },

        .<span class="tok-type">comptime_int</span> =&gt; {
            <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<span class="tok-type">comptime_int</span>, <a href="std.math.html">math</a>.<a href="std.math.log_int.html#std.math.log_int.log_int">log_int</a>(<span class="tok-type">comptime_int</span>, base, x));
        },

        .int =&gt; |IntType| <span class="tok-kw">switch</span> (IntType.signedness) {
            .signed =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log not implemented for signed integers&quot;</span>),
            .unsigned =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <a href="std.math.html">math</a>.<a href="std.math.log_int.html#std.math.log_int.log_int">log_int</a>(T, base, x)),
        },

        .float =&gt; {
            <span class="tok-kw">switch</span> (T) {
                <span class="tok-type">f32</span> =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-builtin">@floatCast</span>(<span class="tok-builtin">@log</span>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, x)) / <span class="tok-builtin">@log</span>(float_base))),
                <span class="tok-type">f64</span> =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@log</span>(x) / <span class="tok-builtin">@log</span>(float_base),
                <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
            }
        },

        <span class="tok-kw">else</span> =&gt; {
            <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log expects integer or float, found '&quot;</span> ++ <span class="tok-builtin">@typeName</span>(T) ++ <span class="tok-str">&quot;'&quot;</span>);
        },
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.log2.log2" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">log2</span><a href="#src.zig-std.math.log2.log2">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log2</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the base-2 logarithm of x.</p>
<p>Special Cases:</p>
<ul>
<li>log2(+inf)  = +inf</li>
<li>log2(0)     = -inf</li>
<li>log2(x)     = nan if x &lt; 0</li>
<li>log2(nan)   = nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> log2 {<span class="tok-comment">
    // https://github.com/ziglang/zig/issues/13703
    </span><span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.cpu">cpu</a>.<a href="#">arch</a> == .aarch64 <span class="tok-kw">and</span> <a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.os">os</a>.<a href="#">tag</a> == .windows) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;

    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.log2.html#std.math.log2.log2">log2</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.2</span>)) == <span class="tok-builtin">@log2</span>(<span class="tok-number">0.2</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.log2.html#std.math.log2.log2">log2</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.2</span>)) == <span class="tok-builtin">@log2</span>(<span class="tok-number">0.2</span>));
    <span class="tok-kw">comptime</span> {
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.log2.html#std.math.log2.log2">log2</a>(<span class="tok-number">1</span>) == <span class="tok-number">0</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.log2.html#std.math.log2.log2">log2</a>(<span class="tok-number">15</span>) == <span class="tok-number">3</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.log2.html#std.math.log2.log2">log2</a>(<span class="tok-number">16</span>) == <span class="tok-number">4</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.log2.html#std.math.log2.log2">log2</a>(<span class="tok-number">1</span> &lt;&lt; <span class="tok-number">4073</span>) == <span class="tok-number">4073</span>);
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.log2.log2">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log2</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .<span class="tok-type">comptime_float</span> =&gt; {
            <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<span class="tok-type">comptime_float</span>, <span class="tok-builtin">@log2</span>(x));
        },
        .float =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@log2</span>(x),
        .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-kw">comptime</span> {
            <span class="tok-kw">var</span> x_shifted = x;<span class="tok-comment">
            // First, calculate floorPowerOfTwo(x)
            </span><span class="tok-kw">var</span> shift_amt = <span class="tok-number">1</span>;
            <span class="tok-kw">while</span> (x_shifted &gt;&gt; (shift_amt &lt;&lt; <span class="tok-number">1</span>) != <span class="tok-number">0</span>) shift_amt &lt;&lt;= <span class="tok-number">1</span>;<span class="tok-comment">

            // Answer is in the range [shift_amt, 2 * shift_amt - 1]
            // We can find it in O(log(N)) using binary search.
            </span><span class="tok-kw">var</span> result = <span class="tok-number">0</span>;
            <span class="tok-kw">while</span> (shift_amt != <span class="tok-number">0</span>) : (shift_amt &gt;&gt;= <span class="tok-number">1</span>) {
                <span class="tok-kw">if</span> (x_shifted &gt;&gt; shift_amt != <span class="tok-number">0</span>) {
                    x_shifted &gt;&gt;= shift_amt;
                    result += shift_amt;
                }
            }
            <span class="tok-kw">return</span> result;
        },
        .int =&gt; |IntType| <span class="tok-kw">switch</span> (IntType.signedness) {
            .signed =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log2 not implemented for signed integers&quot;</span>),
            .unsigned =&gt; <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.html#std.math.log2_int">log2_int</a>(T, x),
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log2 not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.log10.log10" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">log10</span><a href="#src.zig-std.math.log10.log10">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log10</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the base-10 logarithm of x.</p>
<p>Special Cases:</p>
<ul>
<li>log10(+inf)  = +inf</li>
<li>log10(0)     = -inf</li>
<li>log10(x)     = nan if x &lt; 0</li>
<li>log10(nan)   = nan</li>
</ul>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.log10.log10">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log10</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .<span class="tok-type">comptime_float</span> =&gt; {
            <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<span class="tok-type">comptime_float</span>, <span class="tok-builtin">@log10</span>(x));
        },
        .float =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@log10</span>(x),
        .<span class="tok-type">comptime_int</span> =&gt; {
            <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<span class="tok-type">comptime_int</span>, <span class="tok-builtin">@floor</span>(<span class="tok-builtin">@log10</span>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, x))));
        },
        .int =&gt; |IntType| <span class="tok-kw">switch</span> (IntType.signedness) {
            .signed =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log10 not implemented for signed integers&quot;</span>),
            .unsigned =&gt; <span class="tok-kw">return</span> <a href="std.math.log10.html#std.math.log10.log10_int">log10_int</a>(x),
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log10 not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.log10.log10_int" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">log10_int</span><a href="#src.zig-std.math.log10.log10_int">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log10_int</span>(x: <span class="tok-kw">anytype</span>) <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.Log2Int">Log2Int</a>(<span class="tok-builtin">@TypeOf</span>(x))</code></pre></div><div class="tldDocs"><p>Return the log base 10 of integer value x, rounding down to the
nearest integer.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> log10_int {
    <span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> == .stage2_wasm) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;<span class="tok-comment"> // TODO
    </span><span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> == .stage2_c) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;<span class="tok-comment"> // TODO
    </span><span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> == .stage2_aarch64) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;<span class="tok-comment"> // TODO
    </span><span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> == .stage2_sparc64) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;<span class="tok-comment"> // TODO
    </span><span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> == .stage2_arm) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;<span class="tok-comment"> // TODO
    </span><span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> == .stage2_llvm <span class="tok-kw">and</span> <span class="tok-kw">comptime</span> <a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.target">target</a>.<a href="#">cpu</a>.<a href="#">arch</a>.<a href="#">isWasm</a>()) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;<span class="tok-comment"> // TODO

    </span><span class="tok-kw">inline</span> <span class="tok-kw">for</span> (
        .{ <span class="tok-type">u8</span>, <span class="tok-type">u16</span>, <span class="tok-type">u32</span>, <span class="tok-type">u64</span>, <span class="tok-type">u128</span>, <span class="tok-type">u256</span>, <span class="tok-type">u512</span> },
        .{ <span class="tok-number">2</span>, <span class="tok-number">4</span>, <span class="tok-number">9</span>, <span class="tok-number">19</span>, <span class="tok-number">38</span>, <span class="tok-number">77</span>, <span class="tok-number">154</span> },
    ) |T, max_exponent| {
        <span class="tok-kw">for</span> (<span class="tok-number">0</span>..max_exponent + <span class="tok-number">1</span>) |exponent_usize| {
            <span class="tok-kw">const</span> exponent: <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.Log2Int">Log2Int</a>(T) = <span class="tok-builtin">@intCast</span>(exponent_usize);
            <span class="tok-kw">const</span> power_of_ten = <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.powi.html#std.math.powi.powi">powi</a>(T, <span class="tok-number">10</span>, exponent);

            <span class="tok-kw">if</span> (exponent &gt; <span class="tok-number">0</span>) {
                <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(exponent - <span class="tok-number">1</span>, <a href="std.math.log10.html#std.math.log10.log10_int">log10_int</a>(power_of_ten - <span class="tok-number">9</span>));
                <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(exponent - <span class="tok-number">1</span>, <a href="std.math.log10.html#std.math.log10.log10_int">log10_int</a>(power_of_ten - <span class="tok-number">1</span>));
            }
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(exponent, <a href="std.math.log10.html#std.math.log10.log10_int">log10_int</a>(power_of_ten));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(exponent, <a href="std.math.log10.html#std.math.log10.log10_int">log10_int</a>(power_of_ten + <span class="tok-number">1</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(exponent, <a href="std.math.log10.html#std.math.log10.log10_int">log10_int</a>(power_of_ten + <span class="tok-number">8</span>));
        }
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(max_exponent, <a href="std.math.log10.html#std.math.log10.log10_int">log10_int</a>(<span class="tok-builtin">@as</span>(T, <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.maxInt">maxInt</a>(T))));
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.log10.log10_int">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log10_int</span>(x: <span class="tok-kw">anytype</span>) <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.Log2Int">Log2Int</a>(<span class="tok-builtin">@TypeOf</span>(x)) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">const</span> OutT = <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.Log2Int">Log2Int</a>(T);
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) != .int <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness != .unsigned)
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log10_int requires an unsigned integer, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T));

    <a href="std.html">std</a>.<a href="std.debug.html">debug</a>.<a href="std.debug.html#std.debug.assert">assert</a>(x != <span class="tok-number">0</span>);

    <span class="tok-kw">const</span> bit_size = <span class="tok-builtin">@typeInfo</span>(T).int.bits;

    <span class="tok-kw">if</span> (bit_size &lt;= <span class="tok-number">8</span>) {
        <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(OutT, <span class="tok-builtin">@intCast</span>(<a href="std.math.log10.html#std.math.log10.log10_int_u8">log10_int_u8</a>(x)));
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (bit_size &lt;= <span class="tok-number">16</span>) {
        <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(OutT, <span class="tok-builtin">@intCast</span>(<a href="std.math.log10.html#std.math.log10.less_than_5">less_than_5</a>(x)));
    }

    <span class="tok-kw">var</span> val = x;
    <span class="tok-kw">var</span> log: <span class="tok-type">u32</span> = <span class="tok-number">0</span>;

    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (<span class="tok-number">0</span>..<span class="tok-number">11</span>) |i| {<span class="tok-comment">
        // Unnecessary branches should be removed by the compiler
        </span><span class="tok-kw">if</span> (bit_size &gt; (<span class="tok-number">1</span> &lt;&lt; (<span class="tok-number">11</span> - i)) * <span class="tok-number">5</span> * <span class="tok-builtin">@log2</span>(<span class="tok-number">10.0</span>) <span class="tok-kw">and</span> val &gt;= <a href="std.math.log10.html#std.math.log10.pow10">pow10</a>((<span class="tok-number">1</span> &lt;&lt; (<span class="tok-number">11</span> - i)) * <span class="tok-number">5</span>)) {
            <span class="tok-kw">const</span> num_digits = (<span class="tok-number">1</span> &lt;&lt; (<span class="tok-number">11</span> - i)) * <span class="tok-number">5</span>;
            val /= <a href="std.math.log10.html#std.math.log10.pow10">pow10</a>(num_digits);
            log += num_digits;
        }
    }

    <span class="tok-kw">if</span> (val &gt;= <a href="std.math.log10.html#std.math.log10.pow10">pow10</a>(<span class="tok-number">5</span>)) {
        val /= <a href="std.math.log10.html#std.math.log10.pow10">pow10</a>(<span class="tok-number">5</span>);
        log += <span class="tok-number">5</span>;
    }

    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(OutT, <span class="tok-builtin">@intCast</span>(log + <a href="std.math.log10.html#std.math.log10.less_than_5">less_than_5</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-builtin">@intCast</span>(val)))));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.log_int.log_int" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">log_int</span><a href="#src.zig-std.math.log_int.log_int">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log_int</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, base: T, x: T) <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T)</code></pre></div><div class="tldDocs"><p>Returns the logarithm of <code>x</code> for the provided <code>base</code>, rounding down to the nearest integer.
Asserts that <code>base &gt; 1</code> and <code>x &gt; 0</code>.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>base: T</code></pre></div><div><pre><code>x: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.log_int.log_int">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log_int</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, base: T, x: T) <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T) {
    <span class="tok-kw">const</span> valid = <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-null">true</span>,
        .int =&gt; |IntType| IntType.signedness == .unsigned,
        <span class="tok-kw">else</span> =&gt; <span class="tok-null">false</span>,
    };
    <span class="tok-kw">if</span> (!valid) <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log_int requires an unsigned integer, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T));

    <a href="std.debug.html#std.debug.assert">assert</a>(base &gt; <span class="tok-number">1</span> <span class="tok-kw">and</span> x &gt; <span class="tok-number">0</span>);
    <span class="tok-kw">if</span> (base == <span class="tok-number">2</span>) <span class="tok-kw">return</span> <a href="std.math.html">math</a>.<a href="std.math.html#std.math.log2_int">log2_int</a>(T, x);<span class="tok-comment">

    // Let's denote by [y] the integer part of y.

    // Throughout the iteration the following invariant is preserved:
    //     power = base ^ exponent

    // Safety and termination.
    //
    // We never overflow inside the loop because when we enter the loop we have
    //     power &lt;= [maxInt(T) / base]
    // therefore
    //     power * base &lt;= maxInt(T)
    // is a valid multiplication for type `T` and
    //     exponent + 1 &lt;= log(base, maxInt(T)) &lt;= log2(maxInt(T)) &lt;= maxInt(Log2Int(T))
    // is a valid addition for type `Log2Int(T)`.
    //
    // This implies also termination because power is strictly increasing,
    // hence it must eventually surpass [x / base] &lt; maxInt(T) and we then exit the loop.

    </span><span class="tok-kw">var</span> exponent: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T) = <span class="tok-number">0</span>;
    <span class="tok-kw">var</span> power: T = <span class="tok-number">1</span>;
    <span class="tok-kw">while</span> (power &lt;= x / base) {
        power *= base;
        exponent += <span class="tok-number">1</span>;
    }<span class="tok-comment">

    // If we never entered the loop we must have
    //     [x / base] &lt; 1
    // hence
    //     x &lt;= [x / base] * base &lt; base
    // thus the result is 0. We can then return exponent, which is still 0.
    //
    // Otherwise, if we entered the loop at least once,
    // when we exit the loop we have that power is exactly divisible by base and
    //     power / base &lt;= [x / base] &lt; power
    // hence
    //     power &lt;= [x / base] * base &lt;= x &lt; power * base
    // This means that
    //     base^exponent &lt;= x &lt; base^(exponent+1)
    // hence the result is exponent.

    </span><span class="tok-kw">return</span> exponent;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.log1p.log1p" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">log1p</span><a href="#src.zig-std.math.log1p.log1p">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log1p</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the natural logarithm of 1 + x with greater accuracy when x is near zero.</p>
<p>Special Cases:</p>
<ul>
<li>log1p(+inf)  = +inf</li>
<li>log1p(+-0)   = +-0</li>
<li>log1p(-1)    = -inf</li>
<li>log1p(x)     = nan if x &lt; -1</li>
<li>log1p(nan)   = nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> log1p {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.log1p.html#std.math.log1p.log1p">log1p</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.log1p.html#std.math.log1p.log1p_32">log1p_32</a>(<span class="tok-number">0.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.log1p.html#std.math.log1p.log1p">log1p</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.log1p.html#std.math.log1p.log1p_64">log1p_64</a>(<span class="tok-number">0.0</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.log1p.log1p">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log1p</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.log1p.html#std.math.log1p.log1p_32">log1p_32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.log1p.html#std.math.log1p.log1p_64">log1p_64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log1p not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.asinh.asinh" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">asinh</span><a href="#src.zig-std.math.asinh.asinh">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">asinh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the hyperbolic arc-sin of x.</p>
<p>Special Cases:</p>
<ul>
<li>asinh(+-0)   = +-0</li>
<li>asinh(+-inf) = +-inf</li>
<li>asinh(nan)   = nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> asinh {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.asinh.html#std.math.asinh.asinh">asinh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.asinh.html#std.math.asinh.asinh32">asinh32</a>(<span class="tok-number">0.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.asinh.html#std.math.asinh.asinh">asinh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.asinh.html#std.math.asinh.asinh64">asinh64</a>(<span class="tok-number">0.0</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.asinh.asinh">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">asinh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.asinh.html#std.math.asinh.asinh32">asinh32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.asinh.html#std.math.asinh.asinh64">asinh64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;asinh not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.acosh.acosh" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">acosh</span><a href="#src.zig-std.math.acosh.acosh">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">acosh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the hyperbolic arc-cosine of x.</p>
<p>Special cases:</p>
<ul>
<li>acosh(x)   = nan if x &lt; 1</li>
<li>acosh(nan) = nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> acosh {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.acosh.html#std.math.acosh.acosh">acosh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.5</span>)) == <a href="std.math.acosh.html#std.math.acosh.acosh32">acosh32</a>(<span class="tok-number">1.5</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.acosh.html#std.math.acosh.acosh">acosh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">1.5</span>)) == <a href="std.math.acosh.html#std.math.acosh.acosh64">acosh64</a>(<span class="tok-number">1.5</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.acosh.acosh">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">acosh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.acosh.html#std.math.acosh.acosh32">acosh32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.acosh.html#std.math.acosh.acosh64">acosh64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;acosh not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.atanh.atanh" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">atanh</span><a href="#src.zig-std.math.atanh.atanh">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">atanh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the hyperbolic arc-tangent of x.</p>
<p>Special Cases:</p>
<ul>
<li>atanh(+-1) = +-inf with signal</li>
<li>atanh(x)   = nan if |x| &gt; 1 with signal</li>
<li>atanh(nan) = nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> atanh {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.atanh.html#std.math.atanh.atanh">atanh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.atanh.html#std.math.atanh.atanh_32">atanh_32</a>(<span class="tok-number">0.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.atanh.html#std.math.atanh.atanh">atanh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.0</span>)) == <a href="std.math.atanh.html#std.math.atanh.atanh_64">atanh_64</a>(<span class="tok-number">0.0</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.atanh.atanh">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">atanh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.atanh.html#std.math.atanh.atanh_32">atanh_32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.atanh.html#std.math.atanh.atanh_64">atanh_64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;atanh not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.sinh.sinh" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">sinh</span><a href="#src.zig-std.math.sinh.sinh">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">sinh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the hyperbolic sine of x.</p>
<p>Special Cases:</p>
<ul>
<li>sinh(+-0)   = +-0</li>
<li>sinh(+-inf) = +-inf</li>
<li>sinh(nan)   = nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> sinh {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.sinh.html#std.math.sinh.sinh">sinh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.5</span>)) == <a href="std.math.sinh.html#std.math.sinh.sinh32">sinh32</a>(<span class="tok-number">1.5</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.sinh.html#std.math.sinh.sinh">sinh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">1.5</span>)) == <a href="std.math.sinh.html#std.math.sinh.sinh64">sinh64</a>(<span class="tok-number">1.5</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.sinh.sinh">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">sinh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.sinh.html#std.math.sinh.sinh32">sinh32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.sinh.html#std.math.sinh.sinh64">sinh64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;sinh not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.cosh.cosh" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">cosh</span><a href="#src.zig-std.math.cosh.cosh">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">cosh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the hyperbolic cosine of x.</p>
<p>Special Cases:</p>
<ul>
<li>cosh(+-0)   = 1</li>
<li>cosh(+-inf) = +inf</li>
<li>cosh(nan)   = nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> cosh {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.cosh.html#std.math.cosh.cosh">cosh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.5</span>)) == <a href="std.math.cosh.html#std.math.cosh.cosh32">cosh32</a>(<span class="tok-number">1.5</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.cosh.html#std.math.cosh.cosh">cosh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">1.5</span>)) == <a href="std.math.cosh.html#std.math.cosh.cosh64">cosh64</a>(<span class="tok-number">1.5</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.cosh.cosh">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">cosh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.cosh.html#std.math.cosh.cosh32">cosh32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.cosh.html#std.math.cosh.cosh64">cosh64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;cosh not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.tanh.tanh" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">tanh</span><a href="#src.zig-std.math.tanh.tanh">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">tanh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Returns the hyperbolic tangent of x.</p>
<p>Special Cases:</p>
<ul>
<li>tanh(+-0)   = +-0</li>
<li>tanh(+-inf) = +-1</li>
<li>tanh(nan)   = nan</li>
</ul>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> tanh {
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.tanh.html#std.math.tanh.tanh">tanh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.5</span>)) == <a href="std.math.tanh.html#std.math.tanh.tanh32">tanh32</a>(<span class="tok-number">1.5</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.tanh.html#std.math.tanh.tanh">tanh</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">1.5</span>)) == <a href="std.math.tanh.html#std.math.tanh.tanh64">tanh64</a>(<span class="tok-number">1.5</span>));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.tanh.tanh">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">tanh</span>(x: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(x);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (T) {
        <span class="tok-type">f32</span> =&gt; <a href="std.math.tanh.html#std.math.tanh.tanh32">tanh32</a>(x),
        <span class="tok-type">f64</span> =&gt; <a href="std.math.tanh.html#std.math.tanh.tanh64">tanh64</a>(x),
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;tanh not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.gcd.gcd" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">gcd</span><a href="#src.zig-std.math.gcd.gcd">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">gcd</span>(a: <span class="tok-kw">anytype</span>, b: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(a, b)</code></pre></div><div class="tldDocs"><p>Returns the greatest common divisor (GCD) of two unsigned integers (<code>a</code> and <code>b</code>) which are not both zero.
For example, the GCD of <code>8</code> and <code>12</code> is <code>4</code>, that is, <code>gcd(8, 12) == 4</code>.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> gcd {
    <span class="tok-kw">const</span> expectEqual = <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>;

    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-number">0</span>, <span class="tok-number">5</span>), <span class="tok-number">5</span>);
    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-number">5</span>, <span class="tok-number">0</span>), <span class="tok-number">5</span>);
    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-number">8</span>, <span class="tok-number">12</span>), <span class="tok-number">4</span>);
    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-number">12</span>, <span class="tok-number">8</span>), <span class="tok-number">4</span>);
    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-number">33</span>, <span class="tok-number">77</span>), <span class="tok-number">11</span>);
    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-number">77</span>, <span class="tok-number">33</span>), <span class="tok-number">11</span>);
    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-number">49865</span>, <span class="tok-number">69811</span>), <span class="tok-number">9973</span>);
    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-number">300_000</span>, <span class="tok-number">2_300_000</span>), <span class="tok-number">100_000</span>);
    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-number">90000000_000_000_000_000_000</span>, <span class="tok-number">2</span>), <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u80</span>, <span class="tok-number">90000000_000_000_000_000_000</span>), <span class="tok-number">2</span>), <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> expectEqual(<a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>(<span class="tok-number">300_000</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">2_300_000</span>)), <span class="tok-number">100_000</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.gcd.gcd">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">gcd</span>(a: <span class="tok-kw">anytype</span>, b: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(a, b) {
    <span class="tok-kw">const</span> N = <span class="tok-kw">switch</span> (<span class="tok-builtin">@TypeOf</span>(a, b)) {<span class="tok-comment">
        // convert comptime_int to some sized int type for @ctz
        </span><span class="tok-type">comptime_int</span> =&gt; <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-builtin">@min</span>(a, b), <span class="tok-builtin">@max</span>(a, b)),
        <span class="tok-kw">else</span> =&gt; |T| T,
    };
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(N) != .int <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(N).int.signedness != .unsigned) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;`a` and `b` must be usigned integers&quot;</span>);
    }<span class="tok-comment">

    // using an optimised form of Stein's algorithm:
    // https://en.wikipedia.org/wiki/Binary_GCD_algorithm
    </span><a href="std.html">std</a>.<a href="std.debug.html">debug</a>.<a href="std.debug.html#std.debug.assert">assert</a>(a != <span class="tok-number">0</span> <span class="tok-kw">or</span> b != <span class="tok-number">0</span>);

    <span class="tok-kw">if</span> (a == <span class="tok-number">0</span>) <span class="tok-kw">return</span> b;
    <span class="tok-kw">if</span> (b == <span class="tok-number">0</span>) <span class="tok-kw">return</span> a;

    <span class="tok-kw">var</span> x: N = a;
    <span class="tok-kw">var</span> y: N = b;

    <span class="tok-kw">const</span> xz = <span class="tok-builtin">@ctz</span>(x);
    <span class="tok-kw">const</span> yz = <span class="tok-builtin">@ctz</span>(y);
    <span class="tok-kw">const</span> shift = <span class="tok-builtin">@min</span>(xz, yz);
    x &gt;&gt;= <span class="tok-builtin">@intCast</span>(xz);
    y &gt;&gt;= <span class="tok-builtin">@intCast</span>(yz);

    <span class="tok-kw">var</span> diff = y -% x;
    <span class="tok-kw">while</span> (diff != <span class="tok-number">0</span>) : (diff = y -% x) {<span class="tok-comment">
        // ctz is invariant under negation, we
        // put it here to ease data dependencies,
        // makes the CPU happy.
        </span><span class="tok-kw">const</span> zeros = <span class="tok-builtin">@ctz</span>(diff);
        <span class="tok-kw">if</span> (x &gt; y) diff = -%diff;
        y = <span class="tok-builtin">@min</span>(x, y);
        x = diff &gt;&gt; <span class="tok-builtin">@intCast</span>(zeros);
    }
    <span class="tok-kw">return</span> y &lt;&lt; <span class="tok-builtin">@intCast</span>(shift);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.gamma.gamma" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">gamma</span><a href="#src.zig-std.math.gamma.gamma">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">gamma</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) T</code></pre></div><div class="tldDocs"><p>Returns the gamma function of x,
gamma(x) = factorial(x - 1) for integer x.</p>
<p>Special Cases:</p>
<ul>
<li>gamma(+-nan) = nan</li>
<li>gamma(-inf)  = nan</li>
<li>gamma(n)     = nan for negative integers</li>
<li>gamma(-0.0)  = -inf</li>
<li>gamma(+0.0)  = +inf</li>
<li>gamma(+inf)  = +inf</li>
</ul>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> gamma {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (&amp;.{ <span class="tok-type">f32</span>, <span class="tok-type">f64</span> }) |T| {
        <span class="tok-kw">const</span> eps = <span class="tok-builtin">@sqrt</span>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatEps">floatEps</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">120</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, <span class="tok-number">6</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">362880</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, <span class="tok-number">10</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">6402373705728000</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, <span class="tok-number">19</span>), eps);

        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">332.7590766955334570</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, <span class="tok-number">0.003</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.377260301981044573</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, <span class="tok-number">0.654</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.025393882573518478</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, <span class="tok-number">0.959</span>), eps);

        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">7.361898021467681690</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, <span class="tok-number">4.16</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">198337.2940287730753</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, <span class="tok-number">9.73</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">113718145797241.1666</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, <span class="tok-number">17.6</span>), eps);

        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">1.13860211111081424930673</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, -<span class="tok-number">2.80</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.00018573407931875070158</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, -<span class="tok-number">7.74</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">0.00000001647990903942825</span>), <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, -<span class="tok-number">12.1</span>), eps);
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.gamma.gamma">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">gamma</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) T {
    <span class="tok-kw">if</span> (T != <span class="tok-type">f32</span> <span class="tok-kw">and</span> T != <span class="tok-type">f64</span>) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;gamma not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T));
    }<span class="tok-comment">
    // common integer case first
    </span><span class="tok-kw">if</span> (x == <span class="tok-builtin">@trunc</span>(x)) {<span class="tok-comment">
        // gamma(-inf) = nan
        // gamma(n)    = nan for negative integers
        </span><span class="tok-kw">if</span> (x &lt; <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>(T);
        }<span class="tok-comment">
        // gamma(-0.0) = -inf
        // gamma(+0.0) = +inf
        </span><span class="tok-kw">if</span> (x == <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> <span class="tok-number">1</span> / x;
        }
        <span class="tok-kw">if</span> (x &lt; <a href="std.math.gamma.html#std.math.gamma.integer_result_table">integer_result_table</a>.<a href="#">len</a>) {
            <span class="tok-kw">const</span> i = <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-builtin">@intFromFloat</span>(x));
            <span class="tok-kw">return</span> <span class="tok-builtin">@floatCast</span>(<a href="std.math.gamma.html#std.math.gamma.integer_result_table">integer_result_table</a>[i]);
        }
    }<span class="tok-comment">
    // below this, result underflows, but has a sign
    // negative for (-1,  0)
    // positive for (-2, -1)
    // negative for (-3, -2)
    // ...
    </span><span class="tok-kw">const</span> lower_bound = <span class="tok-kw">if</span> (T == <span class="tok-type">f64</span>) -<span class="tok-number">184</span> <span class="tok-kw">else</span> -<span class="tok-number">42</span>;
    <span class="tok-kw">if</span> (x &lt; lower_bound) {
        <span class="tok-kw">return</span> <span class="tok-kw">if</span> (<span class="tok-builtin">@mod</span>(x, <span class="tok-number">2</span>) &gt; <span class="tok-number">1</span>) -<span class="tok-number">0.0</span> <span class="tok-kw">else</span> <span class="tok-number">0.0</span>;
    }<span class="tok-comment">
    // above this, result overflows
    // gamma(+inf) = +inf
    </span><span class="tok-kw">const</span> upper_bound = <span class="tok-kw">if</span> (T == <span class="tok-type">f64</span>) <span class="tok-number">172</span> <span class="tok-kw">else</span> <span class="tok-number">36</span>;
    <span class="tok-kw">if</span> (x &gt; upper_bound) {
        <span class="tok-kw">return</span> <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T);
    }

    <span class="tok-kw">const</span> abs = <span class="tok-builtin">@abs</span>(x);<span class="tok-comment">
    // perfect precision here
    </span><span class="tok-kw">if</span> (abs &lt; <span class="tok-number">0x1p-54</span>) {
        <span class="tok-kw">return</span> <span class="tok-number">1</span> / x;
    }

    <span class="tok-kw">const</span> base = abs + <a href="std.math.gamma.html#std.math.gamma.lanczos_minus_half">lanczos_minus_half</a>;
    <span class="tok-kw">const</span> exponent = abs - <span class="tok-number">0.5</span>;<span class="tok-comment">
    // error of y for correction, see
    // https://github.com/python/cpython/blob/5dc79e3d7f26a6a871a89ce3efc9f1bcee7bb447/Modules/mathmodule.c#L286-L324
    </span><span class="tok-kw">const</span> e = <span class="tok-kw">if</span> (abs &gt; <a href="std.math.gamma.html#std.math.gamma.lanczos_minus_half">lanczos_minus_half</a>)
        base - abs - <a href="std.math.gamma.html#std.math.gamma.lanczos_minus_half">lanczos_minus_half</a>
    <span class="tok-kw">else</span>
        base - <a href="std.math.gamma.html#std.math.gamma.lanczos_minus_half">lanczos_minus_half</a> - abs;
    <span class="tok-kw">const</span> correction = <a href="std.math.gamma.html#std.math.gamma.lanczos">lanczos</a> * e / base;
    <span class="tok-kw">const</span> initial = <a href="std.math.gamma.html#std.math.gamma.series">series</a>(T, abs) * <span class="tok-builtin">@exp</span>(-base);<span class="tok-comment">

    // use reflection formula for negatives
    </span><span class="tok-kw">if</span> (x &lt; <span class="tok-number">0</span>) {
        <span class="tok-kw">const</span> reflected = -<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.pi">pi</a> / (abs * <a href="std.math.gamma.html#std.math.gamma.sinpi">sinpi</a>(T, abs) * initial);
        <span class="tok-kw">const</span> corrected = reflected - reflected * correction;
        <span class="tok-kw">const</span> half_pow = <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.pow.html#std.math.pow.pow">pow</a>(T, base, -<span class="tok-number">0.5</span> * exponent);
        <span class="tok-kw">return</span> corrected * half_pow * half_pow;
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">const</span> corrected = initial + initial * correction;
        <span class="tok-kw">const</span> half_pow = <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.pow.html#std.math.pow.pow">pow</a>(T, base, <span class="tok-number">0.5</span> * exponent);
        <span class="tok-kw">return</span> corrected * half_pow * half_pow;
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.gamma.lgamma" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">lgamma</span><a href="#src.zig-std.math.gamma.lgamma">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">lgamma</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) T</code></pre></div><div class="tldDocs"><p>Returns the natural logarithm of the absolute value of the gamma function.</p>
<p>Special Cases:</p>
<ul>
<li>lgamma(+-nan) = nan</li>
<li>lgamma(+-inf) = +inf</li>
<li>lgamma(n)     = +inf for negative integers</li>
<li>lgamma(+-0.0) = +inf</li>
<li>lgamma(1)     = +0.0</li>
<li>lgamma(2)     = +0.0</li>
</ul>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> lgamma {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (&amp;.{ <span class="tok-type">f32</span>, <span class="tok-type">f64</span> }) |T| {
        <span class="tok-kw">const</span> eps = <span class="tok-builtin">@sqrt</span>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.floatEps">floatEps</a>(T));
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@log</span>(<span class="tok-number">24.0</span>)), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, <span class="tok-number">5</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@log</span>(<span class="tok-number">20922789888000.0</span>)), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, <span class="tok-number">17</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@log</span>(<span class="tok-number">2432902008176640000.0</span>)), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, <span class="tok-number">21</span>), eps);

        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2.201821590438859327</span>), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, <span class="tok-number">0.105</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1.275416975248413231</span>), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, <span class="tok-number">0.253</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0.130463884049976732</span>), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, <span class="tok-number">0.823</span>), eps);

        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">43.24395772148497989</span>), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, <span class="tok-number">21.3</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">110.6908958012102623</span>), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, <span class="tok-number">41.1</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">215.2123266224689711</span>), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, <span class="tok-number">67.4</span>), eps);

        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">122.605958469563489</span>), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, -<span class="tok-number">43.6</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">278.633885462703133</span>), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, -<span class="tok-number">81.4</span>), eps);
        <span class="tok-kw">try</span> <a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">333.247676253238363</span>), <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>(T, -<span class="tok-number">93.6</span>), eps);
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.gamma.lgamma">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">lgamma</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) T {
    <span class="tok-kw">if</span> (T != <span class="tok-type">f32</span> <span class="tok-kw">and</span> T != <span class="tok-type">f64</span>) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;gamma not implemented for &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T));
    }<span class="tok-comment">
    // common integer case first
    </span><span class="tok-kw">if</span> (x == <span class="tok-builtin">@trunc</span>(x)) {<span class="tok-comment">
        // lgamma(-inf)  = +inf
        // lgamma(n)     = +inf for negative integers
        // lgamma(+-0.0) = +inf
        </span><span class="tok-kw">if</span> (x &lt;= <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>(T);
        }<span class="tok-comment">
        // lgamma(1) = +0.0
        // lgamma(2) = +0.0
        </span><span class="tok-kw">if</span> (x &lt; <a href="std.math.gamma.html#std.math.gamma.integer_result_table">integer_result_table</a>.<a href="#">len</a>) {
            <span class="tok-kw">const</span> i = <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-builtin">@intFromFloat</span>(x));
            <span class="tok-kw">return</span> <span class="tok-builtin">@log</span>(<span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@floatCast</span>(<a href="std.math.gamma.html#std.math.gamma.integer_result_table">integer_result_table</a>[i])));
        }<span class="tok-comment">
        // lgamma(+inf) = +inf
        </span><span class="tok-kw">if</span> (<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.isinf.html#std.math.isinf.isPositiveInf">isPositiveInf</a>(x)) {
            <span class="tok-kw">return</span> x;
        }
    }

    <span class="tok-kw">const</span> abs = <span class="tok-builtin">@abs</span>(x);<span class="tok-comment">
    // perfect precision here
    </span><span class="tok-kw">if</span> (abs &lt; <span class="tok-number">0x1p-54</span>) {
        <span class="tok-kw">return</span> -<span class="tok-builtin">@log</span>(abs);
    }<span class="tok-comment">
    // obvious approach when overflow is not a problem
    </span><span class="tok-kw">const</span> upper_bound = <span class="tok-kw">if</span> (T == <span class="tok-type">f64</span>) <span class="tok-number">128</span> <span class="tok-kw">else</span> <span class="tok-number">26</span>;
    <span class="tok-kw">if</span> (abs &lt; upper_bound) {
        <span class="tok-kw">return</span> <span class="tok-builtin">@log</span>(<span class="tok-builtin">@abs</span>(<a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>(T, x)));
    }

    <span class="tok-kw">const</span> log_base = <span class="tok-builtin">@log</span>(abs + <a href="std.math.gamma.html#std.math.gamma.lanczos_minus_half">lanczos_minus_half</a>) - <span class="tok-number">1</span>;
    <span class="tok-kw">const</span> exponent = abs - <span class="tok-number">0.5</span>;
    <span class="tok-kw">const</span> log_series = <span class="tok-builtin">@log</span>(<a href="std.math.gamma.html#std.math.gamma.series">series</a>(T, abs));
    <span class="tok-kw">const</span> initial = exponent * log_base + log_series - <a href="std.math.gamma.html#std.math.gamma.lanczos">lanczos</a>;<span class="tok-comment">

    // use reflection formula for negatives
    </span><span class="tok-kw">if</span> (x &lt; <span class="tok-number">0</span>) {
        <span class="tok-kw">const</span> reflected = <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.pi">pi</a> / (abs * <a href="std.math.gamma.html#std.math.gamma.sinpi">sinpi</a>(T, abs));
        <span class="tok-kw">return</span> <span class="tok-builtin">@log</span>(<span class="tok-builtin">@abs</span>(reflected)) - initial;
    }
    <span class="tok-kw">return</span> initial;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.sin" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">sin</span><a href="#src.zig-std.math.sin">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">sin</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value)</code></pre></div><div class="tldDocs"><p>Sine trigonometric function on a floating point number.
Uses a dedicated hardware instruction when available.
This is the same as calling the builtin @sin</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.sin">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">sin</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@sin</span>(value);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.cos" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">cos</span><a href="#src.zig-std.math.cos">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">cos</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value)</code></pre></div><div class="tldDocs"><p>Cosine trigonometric function on a floating point number.
Uses a dedicated hardware instruction when available.
This is the same as calling the builtin @cos</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.cos">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">cos</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@cos</span>(value);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.tan" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">tan</span><a href="#src.zig-std.math.tan">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">tan</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value)</code></pre></div><div class="tldDocs"><p>Tangent trigonometric function on a floating point number.
Uses a dedicated hardware instruction when available.
This is the same as calling the builtin @tan</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.tan">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">tan</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@tan</span>(value);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.radiansToDegrees" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">radiansToDegrees</span><a href="#src.zig-std.math.radiansToDegrees">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">radiansToDegrees</span>(ang: <span class="tok-kw">anytype</span>) <span class="tok-kw">if</span> (<span class="tok-builtin">@TypeOf</span>(ang) == <span class="tok-type">comptime_int</span>) <span class="tok-type">comptime_float</span> <span class="tok-kw">else</span> <span class="tok-builtin">@TypeOf</span>(ang)</code></pre></div><div class="tldDocs"><p>Converts an angle in radians to degrees. T must be a float or comptime number or a vector of floats.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> radiansToDegrees {
    <span class="tok-kw">const</span> zero: <span class="tok-type">f32</span> = <span class="tok-number">0</span>;
    <span class="tok-kw">const</span> half_pi: <span class="tok-type">f32</span> = <a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">2.0</span>;
    <span class="tok-kw">const</span> neg_quart_pi: <span class="tok-type">f32</span> = -<a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">4.0</span>;
    <span class="tok-kw">const</span> one_pi: <span class="tok-type">f32</span> = <a href="std.math.html#std.math.pi">pi</a>;
    <span class="tok-kw">const</span> two_pi: <span class="tok-type">f32</span> = <span class="tok-number">2.0</span> * <a href="std.math.html#std.math.pi">pi</a>;
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(zero), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">90</span>), <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(half_pi), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">45</span>), <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(neg_quart_pi), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">180</span>), <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(one_pi), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">360</span>), <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(two_pi), <span class="tok-number">1e-6</span>);

    <span class="tok-kw">const</span> result = <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">4</span>, <span class="tok-type">f32</span>){
        half_pi,
        neg_quart_pi,
        one_pi,
        two_pi,
    });
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">90</span>), result[<span class="tok-number">0</span>], <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">45</span>), result[<span class="tok-number">1</span>], <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">180</span>), result[<span class="tok-number">2</span>], <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">360</span>), result[<span class="tok-number">3</span>], <span class="tok-number">1e-6</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.radiansToDegrees">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">radiansToDegrees</span>(ang: <span class="tok-kw">anytype</span>) <span class="tok-kw">if</span> (<span class="tok-builtin">@TypeOf</span>(ang) == <span class="tok-type">comptime_int</span>) <span class="tok-type">comptime_float</span> <span class="tok-kw">else</span> <span class="tok-builtin">@TypeOf</span>(ang) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(ang);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .float, .<span class="tok-type">comptime_float</span>, .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-kw">return</span> ang * <a href="std.math.html#std.math.deg_per_rad">deg_per_rad</a>,
        .vector =&gt; |V| <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(V.child) == .float) <span class="tok-kw">return</span> ang * <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@splat</span>(<a href="std.math.html#std.math.deg_per_rad">deg_per_rad</a>)),
        <span class="tok-kw">else</span> =&gt; {},
    }
    <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Input must be float or a comptime number, or a vector of floats.&quot;</span>);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.degreesToRadians" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">degreesToRadians</span><a href="#src.zig-std.math.degreesToRadians">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">degreesToRadians</span>(ang: <span class="tok-kw">anytype</span>) <span class="tok-kw">if</span> (<span class="tok-builtin">@TypeOf</span>(ang) == <span class="tok-type">comptime_int</span>) <span class="tok-type">comptime_float</span> <span class="tok-kw">else</span> <span class="tok-builtin">@TypeOf</span>(ang)</code></pre></div><div class="tldDocs"><p>Converts an angle in degrees to radians. T must be a float or comptime number or a vector of floats.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> degreesToRadians {
    <span class="tok-kw">const</span> ninety: <span class="tok-type">f32</span> = <span class="tok-number">90</span>;
    <span class="tok-kw">const</span> neg_two_seventy: <span class="tok-type">f32</span> = -<span class="tok-number">270</span>;
    <span class="tok-kw">const</span> three_sixty: <span class="tok-type">f32</span> = <span class="tok-number">360</span>;
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">2.0</span>), <a href="std.math.html#std.math.degreesToRadians">degreesToRadians</a>(ninety), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">3</span> * <a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">2.0</span>), <a href="std.math.html#std.math.degreesToRadians">degreesToRadians</a>(neg_two_seventy), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">2</span> * <a href="std.math.html#std.math.pi">pi</a>), <a href="std.math.html#std.math.degreesToRadians">degreesToRadians</a>(three_sixty), <span class="tok-number">1e-6</span>);

    <span class="tok-kw">const</span> result = <a href="std.math.html#std.math.degreesToRadians">degreesToRadians</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>){
        ninety,
        neg_two_seventy,
        three_sixty,
    });
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">2.0</span>), result[<span class="tok-number">0</span>], <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">3</span> * <a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">2.0</span>), result[<span class="tok-number">1</span>], <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">2</span> * <a href="std.math.html#std.math.pi">pi</a>), result[<span class="tok-number">2</span>], <span class="tok-number">1e-6</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.degreesToRadians">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">degreesToRadians</span>(ang: <span class="tok-kw">anytype</span>) <span class="tok-kw">if</span> (<span class="tok-builtin">@TypeOf</span>(ang) == <span class="tok-type">comptime_int</span>) <span class="tok-type">comptime_float</span> <span class="tok-kw">else</span> <span class="tok-builtin">@TypeOf</span>(ang) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(ang);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .float, .<span class="tok-type">comptime_float</span>, .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-kw">return</span> ang * <a href="std.math.html#std.math.rad_per_deg">rad_per_deg</a>,
        .vector =&gt; |V| <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(V.child) == .float) <span class="tok-kw">return</span> ang * <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@splat</span>(<a href="std.math.html#std.math.rad_per_deg">rad_per_deg</a>)),
        <span class="tok-kw">else</span> =&gt; {},
    }
    <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Input must be float or a comptime number, or a vector of floats.&quot;</span>);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.exp" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">exp</span><a href="#src.zig-std.math.exp">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">exp</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value)</code></pre></div><div class="tldDocs"><p>Base-e exponential function on a floating point number.
Uses a dedicated hardware instruction when available.
This is the same as calling the builtin @exp</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.exp">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">exp</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@exp</span>(value);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.exp2" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">exp2</span><a href="#src.zig-std.math.exp2">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">exp2</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value)</code></pre></div><div class="tldDocs"><p>Base-2 exponential function on a floating point number.
Uses a dedicated hardware instruction when available.
This is the same as calling the builtin @exp2</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.exp2">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">exp2</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@exp2</span>(value);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.wrap" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">wrap</span><a href="#src.zig-std.math.wrap">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">wrap</span>(x: <span class="tok-kw">anytype</span>, r: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="tldDocs"><p>Odd sawtooth function</p>
<pre><code>        |
     /  | /    /
    /   |/    /
 --/----/----/--
  /    /|   /
 /    / |  /
        |
</code></pre>
<p>Limit x to the half-open interval [-r, r).</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> wrap {<span class="tok-comment">
    // Within range
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">75</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">75</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">75</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == -<span class="tok-number">75</span>);<span class="tok-comment">
    // Below
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">225</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == <span class="tok-number">135</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">225</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">135</span>);<span class="tok-comment">
    // Above
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">361</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">361</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">1</span>);<span class="tok-comment">

    // One period, right limit, positive r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">180</span>);<span class="tok-comment">
    // One period, left limit, positive r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">180</span>);<span class="tok-comment">
    // One period, right limit, negative r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">180</span>);<span class="tok-comment">
    // One period, left limit, negative r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">180</span>);<span class="tok-comment">

    // Two periods, right limit, positive r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">540</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">180</span>);<span class="tok-comment">
    // Two periods, left limit, positive r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">540</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">180</span>);<span class="tok-comment">
    // Two periods, right limit, negative r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">540</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">180</span>);<span class="tok-comment">
    // Two periods, left limit, negative r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">540</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">180</span>);<span class="tok-comment">

    // Floating point
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.125</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.0</span>)) == -<span class="tok-number">0.875</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">127.5</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">127.5</span>);<span class="tok-comment">

    // Mix of comptime and non-comptime
    </span><span class="tok-kw">var</span> i: <span class="tok-type">i32</span> = <span class="tok-number">1</span>;
    _ = &amp;i;
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(i, <span class="tok-number">10</span>) == <span class="tok-number">1</span>);

    <span class="tok-kw">const</span> limit: <span class="tok-type">i32</span> = <span class="tok-number">180</span>;<span class="tok-comment">
    // Within range
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">75</span>), limit) == -<span class="tok-number">75</span>);<span class="tok-comment">
    // Below
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">225</span>), limit) == <span class="tok-number">135</span>);<span class="tok-comment">
    // Above
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">361</span>), limit) == <span class="tok-number">1</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.wrap">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">wrap</span>(x: <span class="tok-kw">anytype</span>, r: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> info_x = <span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(x));
    <span class="tok-kw">const</span> info_r = <span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(r));
    <span class="tok-kw">if</span> (info_x == .int <span class="tok-kw">and</span> info_x.int.signedness != .signed) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;x must be floating point, comptime integer, or signed integer.&quot;</span>);
    }
    <span class="tok-kw">switch</span> (info_r) {
        .int =&gt; {<span class="tok-comment">
            // in the rare usecase of r not being comptime_int or float,
            // take the penalty of having an intermediary type conversion,
            // otherwise the alternative is to unwind iteratively to avoid overflow
            </span><span class="tok-kw">const</span> R = <span class="tok-kw">comptime</span> do: {
                <span class="tok-kw">var</span> info = info_r;
                info.int.bits += <span class="tok-number">1</span>;
                info.int.signedness = .signed;
                <span class="tok-kw">break</span> :do <span class="tok-builtin">@Type</span>(info);
            };
            <span class="tok-kw">const</span> radius: <span class="tok-kw">if</span> (info_r.int.signedness == .signed) <span class="tok-builtin">@TypeOf</span>(r) <span class="tok-kw">else</span> R = r;
            <span class="tok-kw">return</span> <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(x - radius, <span class="tok-number">2</span> * <span class="tok-builtin">@as</span>(R, r)) - r);<span class="tok-comment"> // provably impossible to overflow
        </span>},
        <span class="tok-kw">else</span> =&gt; {
            <span class="tok-kw">return</span> <span class="tok-builtin">@mod</span>(x - r, <span class="tok-number">2</span> * r) - r;
        },
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.clamp" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">clamp</span><a href="#src.zig-std.math.clamp">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">clamp</span>(val: <span class="tok-kw">anytype</span>, lower: <span class="tok-kw">anytype</span>, upper: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(val, lower, upper)</code></pre></div><div class="tldDocs"><p>Odd ramp function</p>
<pre><code>        |  _____
        | /
        |/
 -------/-------
       /|
 _____/ |
        |
</code></pre>
<p>Limit val to the inclusive range [lower, upper].</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> clamp {<span class="tok-comment">
    // Within range
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">1</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">4</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">7</span>)) == -<span class="tok-number">1</span>);<span class="tok-comment">
    // Below
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">5</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">4</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">7</span>)) == -<span class="tok-number">4</span>);<span class="tok-comment">
    // Above
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">8</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">4</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">7</span>)) == <span class="tok-number">7</span>);<span class="tok-comment">

    // Floating point
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.1</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.0</span>)) == <span class="tok-number">1.0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">127.5</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">200</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">100</span>)) == -<span class="tok-number">127.5</span>);<span class="tok-comment">

    // Vector
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@reduce</span>(.And, <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>), .{ <span class="tok-number">1.4</span>, <span class="tok-number">15.23</span>, <span class="tok-number">28.3</span> }), <span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>), .{ <span class="tok-number">9.8</span>, <span class="tok-number">13.2</span>, <span class="tok-number">15.6</span> }), <span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>), .{ <span class="tok-number">15.2</span>, <span class="tok-number">22.8</span>, <span class="tok-number">26.3</span> })) == <span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>), .{ <span class="tok-number">9.8</span>, <span class="tok-number">15.23</span>, <span class="tok-number">26.3</span> })));<span class="tok-comment">

    // Mix of comptime and non-comptime
    </span><span class="tok-kw">var</span> i: <span class="tok-type">i32</span> = <span class="tok-number">1</span>;
    _ = &amp;i;
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(i, <span class="tok-number">0</span>, <span class="tok-number">1</span>) == <span class="tok-number">1</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.clamp">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">clamp</span>(val: <span class="tok-kw">anytype</span>, lower: <span class="tok-kw">anytype</span>, upper: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(val, lower, upper) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(val, lower, upper);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .int, .float, .<span class="tok-type">comptime_int</span>, .<span class="tok-type">comptime_float</span> =&gt; <a href="std.debug.html#std.debug.assert">assert</a>(lower &lt;= upper),
        .vector =&gt; |vinfo| <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(vinfo.child)) {
            .int, .float =&gt; <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@reduce</span>(.And, lower &lt;= upper)),
            <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Expected vector of ints or floats, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Expected an int, float or vector of one, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    }
    <span class="tok-kw">return</span> <span class="tok-builtin">@max</span>(lower, <span class="tok-builtin">@min</span>(val, upper));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.mul" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">mul</span><a href="#src.zig-std.math.mul">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mul</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) (<span class="tok-kw">error</span>{Overflow}!T)</code></pre></div><div class="tldDocs"><p>Returns the product of a and b. Returns an error on overflow.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>a: T</code></pre></div><div><pre><code>b: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.mul">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mul</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) (<span class="tok-kw">error</span>{Overflow}!T) {
    <span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> a * b;
    <span class="tok-kw">const</span> ov = <span class="tok-builtin">@mulWithOverflow</span>(a, b);
    <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> ov[<span class="tok-number">0</span>];
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.add" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">add</span><a href="#src.zig-std.math.add">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">add</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) (<span class="tok-kw">error</span>{Overflow}!T)</code></pre></div><div class="tldDocs"><p>Returns the sum of a and b. Returns an error on overflow.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>a: T</code></pre></div><div><pre><code>b: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.add">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">add</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) (<span class="tok-kw">error</span>{Overflow}!T) {
    <span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> a + b;
    <span class="tok-kw">const</span> ov = <span class="tok-builtin">@addWithOverflow</span>(a, b);
    <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> ov[<span class="tok-number">0</span>];
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.sub" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">sub</span><a href="#src.zig-std.math.sub">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">sub</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) (<span class="tok-kw">error</span>{Overflow}!T)</code></pre></div><div class="tldDocs"><p>Returns a - b, or an error on overflow.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>a: T</code></pre></div><div><pre><code>b: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.sub">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">sub</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) (<span class="tok-kw">error</span>{Overflow}!T) {
    <span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> a - b;
    <span class="tok-kw">const</span> ov = <span class="tok-builtin">@subWithOverflow</span>(a, b);
    <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> ov[<span class="tok-number">0</span>];
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.negate" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">negate</span><a href="#src.zig-std.math.negate">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">negate</span>(x: <span class="tok-kw">anytype</span>) !<span class="tok-builtin">@TypeOf</span>(x)</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.negate">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">negate</span>(x: <span class="tok-kw">anytype</span>) !<span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">return</span> <a href="std.math.html#std.math.sub">sub</a>(<span class="tok-builtin">@TypeOf</span>(x), <span class="tok-number">0</span>, x);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.shlExact" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">shlExact</span><a href="#src.zig-std.math.shlExact">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">shlExact</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, shift_amt: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T)) !T</code></pre></div><div class="tldDocs"><p>Shifts a left by shift_amt. Returns an error on overflow. shift_amt
is unsigned.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>a: T</code></pre></div><div><pre><code>shift_amt: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T)</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.shlExact">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">shlExact</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, shift_amt: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T)) !T {
    <span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> a &lt;&lt; shift_amt;
    <span class="tok-kw">const</span> ov = <span class="tok-builtin">@shlWithOverflow</span>(a, shift_amt);
    <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> ov[<span class="tok-number">0</span>];
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.shl" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">shl</span><a href="#src.zig-std.math.shl">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">shl</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, shift_amt: <span class="tok-kw">anytype</span>) T</code></pre></div><div class="tldDocs"><p>Shifts left. Overflowed bits are truncated.
A negative shift amount results in a right shift.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>a: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> shl {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">3</span>)) == <span class="tok-number">0b11111000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">8</span>)) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">9</span>)) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">2</span>)) == <span class="tok-number">0b00111111</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">3</span>) == <span class="tok-number">0b11111000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">8</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">9</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, -<span class="tok-number">2</span>) == <span class="tok-number">0b00111111</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">42</span>) &lt;&lt; <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">42</span>) &gt;&gt; <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-number">33</span>)[<span class="tok-number">0</span>] == <span class="tok-number">0</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.shl">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">shl</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, shift_amt: <span class="tok-kw">anytype</span>) T {
    <span class="tok-kw">const</span> abs_shift_amt = <span class="tok-builtin">@abs</span>(shift_amt);

    <span class="tok-kw">const</span> casted_shift_amt = blk: {
        <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .vector) {
            <span class="tok-kw">const</span> C = <span class="tok-builtin">@typeInfo</span>(T).vector.child;
            <span class="tok-kw">const</span> len = <span class="tok-builtin">@typeInfo</span>(T).vector.len;
            <span class="tok-kw">if</span> (abs_shift_amt &gt;= <span class="tok-builtin">@typeInfo</span>(C).int.bits) <span class="tok-kw">return</span> <span class="tok-builtin">@splat</span>(<span class="tok-number">0</span>);
            <span class="tok-kw">break</span> :blk <span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(len, <a href="std.math.html#std.math.Log2Int">Log2Int</a>(C)), <span class="tok-builtin">@splat</span>(<span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(C), <span class="tok-builtin">@intCast</span>(abs_shift_amt))));
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">if</span> (abs_shift_amt &gt;= <span class="tok-builtin">@typeInfo</span>(T).int.bits) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
            <span class="tok-kw">break</span> :blk <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(T), <span class="tok-builtin">@intCast</span>(abs_shift_amt));
        }
    };

    <span class="tok-kw">if</span> (<span class="tok-builtin">@TypeOf</span>(shift_amt) == <span class="tok-type">comptime_int</span> <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(shift_amt)).int.signedness == .signed) {
        <span class="tok-kw">if</span> (shift_amt &lt; <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> a &gt;&gt; casted_shift_amt;
        }
    }

    <span class="tok-kw">return</span> a &lt;&lt; casted_shift_amt;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.shr" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">shr</span><a href="#src.zig-std.math.shr">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">shr</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, shift_amt: <span class="tok-kw">anytype</span>) T</code></pre></div><div class="tldDocs"><p>Shifts right. Overflowed bits are truncated.
A negative shift amount results in a left shift.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>a: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> shr {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">3</span>)) == <span class="tok-number">0b00011111</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">8</span>)) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">9</span>)) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">2</span>)) == <span class="tok-number">0b11111100</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">3</span>) == <span class="tok-number">0b00011111</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">8</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">9</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, -<span class="tok-number">2</span>) == <span class="tok-number">0b11111100</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">42</span>) &gt;&gt; <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">42</span>) &lt;&lt; <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-number">33</span>)[<span class="tok-number">0</span>] == <span class="tok-number">0</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.shr">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">shr</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, shift_amt: <span class="tok-kw">anytype</span>) T {
    <span class="tok-kw">const</span> abs_shift_amt = <span class="tok-builtin">@abs</span>(shift_amt);

    <span class="tok-kw">const</span> casted_shift_amt = blk: {
        <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .vector) {
            <span class="tok-kw">const</span> C = <span class="tok-builtin">@typeInfo</span>(T).vector.child;
            <span class="tok-kw">const</span> len = <span class="tok-builtin">@typeInfo</span>(T).vector.len;
            <span class="tok-kw">if</span> (abs_shift_amt &gt;= <span class="tok-builtin">@typeInfo</span>(C).int.bits) <span class="tok-kw">return</span> <span class="tok-builtin">@splat</span>(<span class="tok-number">0</span>);
            <span class="tok-kw">break</span> :blk <span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(len, <a href="std.math.html#std.math.Log2Int">Log2Int</a>(C)), <span class="tok-builtin">@splat</span>(<span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(C), <span class="tok-builtin">@intCast</span>(abs_shift_amt))));
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">if</span> (abs_shift_amt &gt;= <span class="tok-builtin">@typeInfo</span>(T).int.bits) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
            <span class="tok-kw">break</span> :blk <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(T), <span class="tok-builtin">@intCast</span>(abs_shift_amt));
        }
    };

    <span class="tok-kw">if</span> (<span class="tok-builtin">@TypeOf</span>(shift_amt) == <span class="tok-type">comptime_int</span> <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(shift_amt)).int.signedness == .signed) {
        <span class="tok-kw">if</span> (shift_amt &lt; <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> a &lt;&lt; casted_shift_amt;
        }
    }

    <span class="tok-kw">return</span> a &gt;&gt; casted_shift_amt;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.rotr" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">rotr</span><a href="#src.zig-std.math.rotr">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">rotr</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, r: <span class="tok-kw">anytype</span>) T</code></pre></div><div class="tldDocs"><p>Rotates right. Only unsigned values can be rotated.  Negative shift
values result in shift modulo the bit count.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> rotr {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u0</span>, <span class="tok-number">0b0</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">3</span>)) == <span class="tok-number">0b0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u5</span>, <span class="tok-number">0b00001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">0</span>)) == <span class="tok-number">0b00001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u6</span>, <span class="tok-number">0b000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">7</span>)) == <span class="tok-number">0b100000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">0</span>)) == <span class="tok-number">0b00000001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">9</span>)) == <span class="tok-number">0b10000000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">8</span>)) == <span class="tok-number">0b00000001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">4</span>)) == <span class="tok-number">0b00010000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>)) == <span class="tok-number">0b00000010</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u12</span>, <span class="tok-number">0o7777</span>, <span class="tok-number">1</span>) == <span class="tok-number">0o7777</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">1</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>) &lt;&lt; <span class="tok-number">31</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">1</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>) &lt;&lt; <span class="tok-number">1</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.rotr">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">rotr</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, r: <span class="tok-kw">anytype</span>) T {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .vector) {
        <span class="tok-kw">const</span> C = <span class="tok-builtin">@typeInfo</span>(T).vector.child;
        <span class="tok-kw">if</span> (C == <span class="tok-type">u0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;

        <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(C).int.signedness == .signed) {
            <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;cannot rotate signed integers&quot;</span>);
        }
        <span class="tok-kw">const</span> ar: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(C) = <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(C).int.bits));
        <span class="tok-kw">return</span> (x &gt;&gt; <span class="tok-builtin">@splat</span>(ar)) | (x &lt;&lt; <span class="tok-builtin">@splat</span>(<span class="tok-number">1</span> + ~ar));
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T).int.signedness == .signed) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;cannot rotate signed integer&quot;</span>);
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">if</span> (T == <span class="tok-type">u0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;

        <span class="tok-kw">if</span> (<span class="tok-kw">comptime</span> <a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@typeInfo</span>(T).int.bits)) {
            <span class="tok-kw">const</span> ar: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T) = <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(T).int.bits));
            <span class="tok-kw">return</span> x &gt;&gt; ar | x &lt;&lt; (<span class="tok-number">1</span> +% ~ar);
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">const</span> ar = <span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(T).int.bits);
            <span class="tok-kw">return</span> <a href="std.math.html#std.math.shr">shr</a>(T, x, ar) | <a href="std.math.html#std.math.shl">shl</a>(T, x, <span class="tok-builtin">@typeInfo</span>(T).int.bits - ar);
        }
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.rotl" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">rotl</span><a href="#src.zig-std.math.rotl">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">rotl</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, r: <span class="tok-kw">anytype</span>) T</code></pre></div><div class="tldDocs"><p>Rotates left. Only unsigned values can be rotated.  Negative shift
values result in shift modulo the bit count.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> rotl {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u0</span>, <span class="tok-number">0b0</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">3</span>)) == <span class="tok-number">0b0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u5</span>, <span class="tok-number">0b00001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">0</span>)) == <span class="tok-number">0b00001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u6</span>, <span class="tok-number">0b000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">7</span>)) == <span class="tok-number">0b000010</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">0</span>)) == <span class="tok-number">0b00000001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">9</span>)) == <span class="tok-number">0b00000010</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">8</span>)) == <span class="tok-number">0b00000001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">4</span>)) == <span class="tok-number">0b00010000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>)) == <span class="tok-number">0b10000000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u12</span>, <span class="tok-number">0o7777</span>, <span class="tok-number">1</span>) == <span class="tok-number">0o7777</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">1</span> &lt;&lt; <span class="tok-number">31</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">1</span> &lt;&lt; <span class="tok-number">31</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>) &lt;&lt; <span class="tok-number">30</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.rotl">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">rotl</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, r: <span class="tok-kw">anytype</span>) T {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .vector) {
        <span class="tok-kw">const</span> C = <span class="tok-builtin">@typeInfo</span>(T).vector.child;
        <span class="tok-kw">if</span> (C == <span class="tok-type">u0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;

        <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(C).int.signedness == .signed) {
            <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;cannot rotate signed integers&quot;</span>);
        }
        <span class="tok-kw">const</span> ar: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(C) = <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(C).int.bits));
        <span class="tok-kw">return</span> (x &lt;&lt; <span class="tok-builtin">@splat</span>(ar)) | (x &gt;&gt; <span class="tok-builtin">@splat</span>(<span class="tok-number">1</span> +% ~ar));
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T).int.signedness == .signed) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;cannot rotate signed integer&quot;</span>);
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">if</span> (T == <span class="tok-type">u0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;

        <span class="tok-kw">if</span> (<span class="tok-kw">comptime</span> <a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@typeInfo</span>(T).int.bits)) {
            <span class="tok-kw">const</span> ar: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T) = <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(T).int.bits));
            <span class="tok-kw">return</span> x &lt;&lt; ar | x &gt;&gt; <span class="tok-number">1</span> +% ~ar;
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">const</span> ar = <span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(T).int.bits);
            <span class="tok-kw">return</span> <a href="std.math.html#std.math.shl">shl</a>(T, x, ar) | <a href="std.math.html#std.math.shr">shr</a>(T, x, <span class="tok-builtin">@typeInfo</span>(T).int.bits - ar);
        }
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.divTrunc" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">divTrunc</span><a href="#src.zig-std.math.divTrunc">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divTrunc</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T</code></pre></div><div class="tldDocs"><p>Divide numerator by denominator, rounding toward zero. Returns an
error on overflow or when denominator is zero.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>numerator: T</code></pre></div><div><pre><code>denominator: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> divTrunc {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testDivTrunc">testDivTrunc</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testDivTrunc">testDivTrunc</a>();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.divTrunc">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divTrunc</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .int <span class="tok-kw">and</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness == .signed <span class="tok-kw">and</span> numerator == <a href="std.math.html#std.math.minInt">minInt</a>(T) <span class="tok-kw">and</span> denominator == -<span class="tok-number">1</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> <span class="tok-builtin">@divTrunc</span>(numerator, denominator);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.divFloor" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">divFloor</span><a href="#src.zig-std.math.divFloor">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divFloor</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T</code></pre></div><div class="tldDocs"><p>Divide numerator by denominator, rounding toward negative
infinity. Returns an error on overflow or when denominator is
zero.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>numerator: T</code></pre></div><div><pre><code>denominator: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> divFloor {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testDivFloor">testDivFloor</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testDivFloor">testDivFloor</a>();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.divFloor">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divFloor</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .int <span class="tok-kw">and</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness == .signed <span class="tok-kw">and</span> numerator == <a href="std.math.html#std.math.minInt">minInt</a>(T) <span class="tok-kw">and</span> denominator == -<span class="tok-number">1</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> <span class="tok-builtin">@divFloor</span>(numerator, denominator);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.divCeil" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">divCeil</span><a href="#src.zig-std.math.divCeil">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divCeil</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T</code></pre></div><div class="tldDocs"><p>Divide numerator by denominator, rounding toward positive
infinity. Returns an error on overflow or when denominator is
zero.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>numerator: T</code></pre></div><div><pre><code>denominator: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> divCeil {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testDivCeil">testDivCeil</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testDivCeil">testDivCeil</a>();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.divCeil">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divCeil</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">const</span> info = <span class="tok-builtin">@typeInfo</span>(T);
    <span class="tok-kw">switch</span> (info) {
        .<span class="tok-type">comptime_float</span>, .float =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@ceil</span>(numerator / denominator),
        .<span class="tok-type">comptime_int</span>, .int =&gt; {
            <span class="tok-kw">if</span> (numerator &lt; <span class="tok-number">0</span> <span class="tok-kw">and</span> denominator &lt; <span class="tok-number">0</span>) {
                <span class="tok-kw">if</span> (info == .int <span class="tok-kw">and</span> numerator == <a href="std.math.html#std.math.minInt">minInt</a>(T) <span class="tok-kw">and</span> denominator == -<span class="tok-number">1</span>)
                    <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
                <span class="tok-kw">return</span> <span class="tok-builtin">@divFloor</span>(numerator + <span class="tok-number">1</span>, denominator) + <span class="tok-number">1</span>;
            }
            <span class="tok-kw">if</span> (numerator &gt; <span class="tok-number">0</span> <span class="tok-kw">and</span> denominator &gt; <span class="tok-number">0</span>)
                <span class="tok-kw">return</span> <span class="tok-builtin">@divFloor</span>(numerator - <span class="tok-number">1</span>, denominator) + <span class="tok-number">1</span>;
            <span class="tok-kw">return</span> <span class="tok-builtin">@divTrunc</span>(numerator, denominator);
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;divCeil unsupported on &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.divExact" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">divExact</span><a href="#src.zig-std.math.divExact">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divExact</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T</code></pre></div><div class="tldDocs"><p>Divide numerator by denominator. Return an error if quotient is
not an integer, denominator is zero, or on overflow.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>numerator: T</code></pre></div><div><pre><code>denominator: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> divExact {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testDivExact">testDivExact</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testDivExact">testDivExact</a>();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.divExact">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divExact</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .int <span class="tok-kw">and</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness == .signed <span class="tok-kw">and</span> numerator == <a href="std.math.html#std.math.minInt">minInt</a>(T) <span class="tok-kw">and</span> denominator == -<span class="tok-number">1</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">const</span> result = <span class="tok-builtin">@divTrunc</span>(numerator, denominator);
    <span class="tok-kw">if</span> (result * denominator != numerator) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.UnexpectedRemainder;
    <span class="tok-kw">return</span> result;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.mod" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">mod</span><a href="#src.zig-std.math.mod">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mod</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T</code></pre></div><div class="tldDocs"><p>Returns numerator modulo denominator, or an error if denominator is
zero or negative. Negative numerators never result in negative
return values.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>numerator: T</code></pre></div><div><pre><code>denominator: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> mod {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testMod">testMod</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testMod">testMod</a>();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.mod">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mod</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">if</span> (denominator &lt; <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.NegativeDenominator;
    <span class="tok-kw">return</span> <span class="tok-builtin">@mod</span>(numerator, denominator);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.rem" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">rem</span><a href="#src.zig-std.math.rem">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">rem</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T</code></pre></div><div class="tldDocs"><p>Returns the remainder when numerator is divided by denominator, or
an error if denominator is zero or negative. Negative numerators
can give negative results.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>numerator: T</code></pre></div><div><pre><code>denominator: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> rem {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testRem">testRem</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testRem">testRem</a>();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.rem">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">rem</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">if</span> (denominator &lt; <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.NegativeDenominator;
    <span class="tok-kw">return</span> <span class="tok-builtin">@rem</span>(numerator, denominator);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.negateCast" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">negateCast</span><a href="#src.zig-std.math.negateCast">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">negateCast</span>(x: <span class="tok-kw">anytype</span>) !<a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.signed, <span class="tok-builtin">@bitSizeOf</span>(<span class="tok-builtin">@TypeOf</span>(x)))</code></pre></div><div class="tldDocs"><p>Returns the negation of the integer parameter.
Result is a signed integer.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> negateCast {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.negateCast">negateCast</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">999</span>)) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">999</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@TypeOf</span>(<a href="std.math.html#std.math.negateCast">negateCast</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">999</span>)) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-type">i32</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.negateCast">negateCast</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, -<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>))) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@TypeOf</span>(<a href="std.math.html#std.math.negateCast">negateCast</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, -<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>))) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-type">i32</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.html#std.math.negateCast">negateCast</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>) + <span class="tok-number">10</span>)));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.negateCast">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">negateCast</span>(x: <span class="tok-kw">anytype</span>) !<a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.signed, <span class="tok-builtin">@bitSizeOf</span>(<span class="tok-builtin">@TypeOf</span>(x))) {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(x)).int.signedness == .signed) <span class="tok-kw">return</span> <a href="std.math.html#std.math.negate">negate</a>(x);

    <span class="tok-kw">const</span> int = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.signed, <span class="tok-builtin">@bitSizeOf</span>(<span class="tok-builtin">@TypeOf</span>(x)));
    <span class="tok-kw">if</span> (x &gt; -<a href="std.math.html#std.math.minInt">minInt</a>(int)) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;

    <span class="tok-kw">if</span> (x == -<a href="std.math.html#std.math.minInt">minInt</a>(int)) <span class="tok-kw">return</span> <a href="std.math.html#std.math.minInt">minInt</a>(int);

    <span class="tok-kw">return</span> -<span class="tok-builtin">@as</span>(int, <span class="tok-builtin">@intCast</span>(x));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.cast" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">cast</span><a href="#src.zig-std.math.cast">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">cast</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: <span class="tok-kw">anytype</span>) ?T</code></pre></div><div class="tldDocs"><p>Cast an integer to a different integer type. If the value doesn't fit,
return null.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> cast {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-number">300</span>) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">300</span>)) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">i8</span>, -<span class="tok-number">200</span>) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">i8</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">200</span>)) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, -<span class="tok-number">1</span>) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u64</span>, -<span class="tok-number">1</span>) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u64</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)) == <span class="tok-null">null</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>).? == <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">255</span>)).? == <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@TypeOf</span>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>).?) == <span class="tok-type">u8</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@TypeOf</span>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">255</span>)).?) == <span class="tok-type">u8</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.cast">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">cast</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: <span class="tok-kw">anytype</span>) ?T {
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .int);<span class="tok-comment"> // must pass an integer
    </span><span class="tok-kw">const</span> is_comptime = <span class="tok-builtin">@TypeOf</span>(x) == <span class="tok-type">comptime_int</span>;
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(is_comptime <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(x)) == .int);<span class="tok-comment"> // must pass an integer
    </span><span class="tok-kw">if</span> ((is_comptime <span class="tok-kw">or</span> <a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-builtin">@TypeOf</span>(x)) &gt; <a href="std.math.html#std.math.maxInt">maxInt</a>(T)) <span class="tok-kw">and</span> x &gt; <a href="std.math.html#std.math.maxInt">maxInt</a>(T)) {
        <span class="tok-kw">return</span> <span class="tok-null">null</span>;
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> ((is_comptime <span class="tok-kw">or</span> <a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-builtin">@TypeOf</span>(x)) &lt; <a href="std.math.html#std.math.minInt">minInt</a>(T)) <span class="tok-kw">and</span> x &lt; <a href="std.math.html#std.math.minInt">minInt</a>(T)) {
        <span class="tok-kw">return</span> <span class="tok-null">null</span>;
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@intCast</span>(x));
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.alignCast" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">alignCast</span><a href="#src.zig-std.math.alignCast">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">alignCast</span>(<span class="tok-kw">comptime</span> alignment: <span class="tok-type">u29</span>, ptr: <span class="tok-kw">anytype</span>) <a href="std.math.html#std.math.AlignCastError">AlignCastError</a>!<a href="std.math.html#std.math.AlignCastResult">AlignCastResult</a>(alignment, <span class="tok-builtin">@TypeOf</span>(ptr))</code></pre></div><div class="tldDocs"><p>Align cast a pointer but return an error if it's the wrong alignment</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>alignment: <span class="tok-type">u29</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.alignCast">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">alignCast</span>(<span class="tok-kw">comptime</span> alignment: <span class="tok-type">u29</span>, ptr: <span class="tok-kw">anytype</span>) <a href="std.math.html#std.math.AlignCastError">AlignCastError</a>!<a href="std.math.html#std.math.AlignCastResult">AlignCastResult</a>(alignment, <span class="tok-builtin">@TypeOf</span>(ptr)) {
    <span class="tok-kw">const</span> addr = <span class="tok-builtin">@intFromPtr</span>(ptr);
    <span class="tok-kw">if</span> (addr % alignment != <span class="tok-number">0</span>) {
        <span class="tok-kw">return</span> <span class="tok-kw">error</span>.UnalignedMemory;
    }
    <span class="tok-kw">return</span> <span class="tok-builtin">@alignCast</span>(ptr);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.isPowerOfTwo" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">isPowerOfTwo</span><a href="#src.zig-std.math.isPowerOfTwo">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isPowerOfTwo</span>(int: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>Asserts <code>int &gt; 0</code>.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> isPowerOfTwo {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-number">2</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i16</span>, <span class="tok-number">3</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-number">4</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">31</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-number">32</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i64</span>, <span class="tok-number">63</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-number">128</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u128</span>, <span class="tok-number">256</span>)));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.isPowerOfTwo">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isPowerOfTwo</span>(int: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <a href="std.debug.html#std.debug.assert">assert</a>(int &gt; <span class="tok-number">0</span>);
    <span class="tok-kw">return</span> (int &amp; (int - <span class="tok-number">1</span>)) == <span class="tok-number">0</span>;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.round" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">round</span><a href="#src.zig-std.math.round">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">round</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value)</code></pre></div><div class="tldDocs"><p>Rounds the given floating point number to the nearest integer.
If two integers are equally close, rounds away from zero.
Uses a dedicated hardware instruction when available.
This is the same as calling the builtin @round</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.round">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">round</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@round</span>(value);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.trunc" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">trunc</span><a href="#src.zig-std.math.trunc">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">trunc</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value)</code></pre></div><div class="tldDocs"><p>Rounds the given floating point number to an integer, towards zero.
Uses a dedicated hardware instruction when available.
This is the same as calling the builtin @trunc</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.trunc">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">trunc</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@trunc</span>(value);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.floor" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floor</span><a href="#src.zig-std.math.floor">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floor</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value)</code></pre></div><div class="tldDocs"><p>Returns the largest integral value not greater than the given floating point number.
Uses a dedicated hardware instruction when available.
This is the same as calling the builtin @floor</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.floor">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floor</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@floor</span>(value);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.floorPowerOfTwo" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">floorPowerOfTwo</span><a href="#src.zig-std.math.floorPowerOfTwo">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">floorPowerOfTwo</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre></div><div class="tldDocs"><p>Returns the nearest power of two less than or equal to value, or
zero if value is less than or equal to zero.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>value: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> floorPowerOfTwo {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testFloorPowerOfTwo">testFloorPowerOfTwo</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testFloorPowerOfTwo">testFloorPowerOfTwo</a>();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.floorPowerOfTwo">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">floorPowerOfTwo</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T {
    <span class="tok-kw">const</span> uT = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@typeInfo</span>(T).int.bits);
    <span class="tok-kw">if</span> (value &lt;= <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>) &lt;&lt; <a href="std.math.html#std.math.log2_int">log2_int</a>(uT, <span class="tok-builtin">@as</span>(uT, <span class="tok-builtin">@intCast</span>(value)));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.ceil" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">ceil</span><a href="#src.zig-std.math.ceil">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceil</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value)</code></pre></div><div class="tldDocs"><p>Returns the smallest integral value not less than the given floating point number.
Uses a dedicated hardware instruction when available.
This is the same as calling the builtin @ceil</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.ceil">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceil</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@ceil</span>(value);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.ceilPowerOfTwoPromote" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">ceilPowerOfTwoPromote</span><a href="#src.zig-std.math.ceilPowerOfTwoPromote">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceilPowerOfTwoPromote</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(<span class="tok-builtin">@typeInfo</span>(T).int.signedness, <span class="tok-builtin">@typeInfo</span>(T).int.bits + <span class="tok-number">1</span>)</code></pre></div><div class="tldDocs"><p>Returns the next power of two (if the value is not already a power of two).
Only unsigned integers can be used. Zero is not an allowed input.
Result is a type with 1 more bit than the input type.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>value: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> ceilPowerOfTwoPromote {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testCeilPowerOfTwoPromote">testCeilPowerOfTwoPromote</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testCeilPowerOfTwoPromote">testCeilPowerOfTwoPromote</a>();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.ceilPowerOfTwoPromote">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceilPowerOfTwoPromote</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(<span class="tok-builtin">@typeInfo</span>(T).int.signedness, <span class="tok-builtin">@typeInfo</span>(T).int.bits + <span class="tok-number">1</span>) {
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .int);
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T).int.signedness == .unsigned);
    <a href="std.debug.html#std.debug.assert">assert</a>(value != <span class="tok-number">0</span>);
    <span class="tok-kw">const</span> PromotedType = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(<span class="tok-builtin">@typeInfo</span>(T).int.signedness, <span class="tok-builtin">@typeInfo</span>(T).int.bits + <span class="tok-number">1</span>);
    <span class="tok-kw">const</span> ShiftType = <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.Log2Int">Log2Int</a>(PromotedType);
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(PromotedType, <span class="tok-number">1</span>) &lt;&lt; <span class="tok-builtin">@as</span>(ShiftType, <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@typeInfo</span>(T).int.bits - <span class="tok-builtin">@clz</span>(value - <span class="tok-number">1</span>)));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.ceilPowerOfTwo" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">ceilPowerOfTwo</span><a href="#src.zig-std.math.ceilPowerOfTwo">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceilPowerOfTwo</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) (<span class="tok-kw">error</span>{Overflow}!T)</code></pre></div><div class="tldDocs"><p>Returns the next power of two (if the value is not already a power of two).
Only unsigned integers can be used. Zero is not an allowed input.
If the value doesn't fit, returns an error.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>value: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> ceilPowerOfTwo {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testCeilPowerOfTwo">testCeilPowerOfTwo</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testCeilPowerOfTwo">testCeilPowerOfTwo</a>();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.ceilPowerOfTwo">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceilPowerOfTwo</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) (<span class="tok-kw">error</span>{Overflow}!T) {
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .int);
    <span class="tok-kw">const</span> info = <span class="tok-builtin">@typeInfo</span>(T).int;
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(info.signedness == .unsigned);
    <span class="tok-kw">const</span> PromotedType = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(info.signedness, info.bits + <span class="tok-number">1</span>);
    <span class="tok-kw">const</span> overflowBit = <span class="tok-builtin">@as</span>(PromotedType, <span class="tok-number">1</span>) &lt;&lt; info.bits;
    <span class="tok-kw">const</span> x = <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(T, value);
    <span class="tok-kw">if</span> (overflowBit &amp; x != <span class="tok-number">0</span>) {
        <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    }
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@intCast</span>(x));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.ceilPowerOfTwoAssert" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">ceilPowerOfTwoAssert</span><a href="#src.zig-std.math.ceilPowerOfTwoAssert">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceilPowerOfTwoAssert</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T</code></pre></div><div class="tldDocs"><p>Returns the next power of two (if the value is not already a power
of two). Only unsigned integers can be used. Zero is not an
allowed input. Asserts that the value fits.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>value: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.ceilPowerOfTwoAssert">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceilPowerOfTwoAssert</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T {
    <span class="tok-kw">return</span> <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(T, value) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.log2_int" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">log2_int</span><a href="#src.zig-std.math.log2_int">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log2_int</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T)</code></pre></div><div class="tldDocs"><p>Return the log base 2 of integer value x, rounding down to the
nearest integer.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.log2_int">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log2_int</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T) {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) != .int <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness != .unsigned)
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log2_int requires an unsigned integer, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T));
    <a href="std.debug.html#std.debug.assert">assert</a>(x != <span class="tok-number">0</span>);
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(T), <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@typeInfo</span>(T).int.bits - <span class="tok-number">1</span> - <span class="tok-builtin">@clz</span>(x)));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.log2_int_ceil" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">log2_int_ceil</span><a href="#src.zig-std.math.log2_int_ceil">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log2_int_ceil</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) <a href="std.math.html#std.math.Log2IntCeil">Log2IntCeil</a>(T)</code></pre></div><div class="tldDocs"><p>Return the log base 2 of integer value x, rounding up to the
nearest integer.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>x: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> log2_int_ceil {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">2</span>) == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">3</span>) == <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">4</span>) == <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">5</span>) == <span class="tok-number">3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">6</span>) == <span class="tok-number">3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">7</span>) == <span class="tok-number">3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">8</span>) == <span class="tok-number">3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">9</span>) == <span class="tok-number">4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">10</span>) == <span class="tok-number">4</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.log2_int_ceil">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log2_int_ceil</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) <a href="std.math.html#std.math.Log2IntCeil">Log2IntCeil</a>(T) {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) != .int <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness != .unsigned)
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log2_int_ceil requires an unsigned integer, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T));
    <a href="std.debug.html#std.debug.assert">assert</a>(x != <span class="tok-number">0</span>);
    <span class="tok-kw">if</span> (x == <span class="tok-number">1</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
    <span class="tok-kw">const</span> log2_val: <a href="std.math.html#std.math.Log2IntCeil">Log2IntCeil</a>(T) = <a href="std.math.html#std.math.log2_int">log2_int</a>(T, x - <span class="tok-number">1</span>);
    <span class="tok-kw">return</span> log2_val + <span class="tok-number">1</span>;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.lossyCast" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">lossyCast</span><a href="#src.zig-std.math.lossyCast">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">lossyCast</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: <span class="tok-kw">anytype</span>) T</code></pre></div><div class="tldDocs"><p>Cast a value to a different type. If the value doesn't fit in, or
can't be perfectly represented by, the new type, it will be
converted to the closest possible representation.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> lossyCast {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">i16</span>, <span class="tok-number">70000.0</span>) == <span class="tok-builtin">@as</span>(<span class="tok-type">i16</span>, <span class="tok-number">32767</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">u32</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">i16</span>, -<span class="tok-number">255</span>)) == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">i9</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">200</span>)) == <span class="tok-builtin">@as</span>(<span class="tok-type">i9</span>, <span class="tok-number">200</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">u32</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u32</span>))) == <a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u32</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">u32</span>, <a href="std.math.float.html#std.math.float.nan">nan</a>(<span class="tok-type">f32</span>)) == <span class="tok-number">0</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.lossyCast">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">lossyCast</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: <span class="tok-kw">anytype</span>) T {
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .float =&gt; {
            <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(value))) {
                .int =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@floatFromInt</span>(value),
                .float =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@floatCast</span>(value),
                .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-kw">return</span> value,
                .<span class="tok-type">comptime_float</span> =&gt; <span class="tok-kw">return</span> value,
                <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;bad type&quot;</span>),
            }
        },
        .int =&gt; {
            <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(value))) {
                .int, .<span class="tok-type">comptime_int</span> =&gt; {
                    <span class="tok-kw">if</span> (value &gt;= <a href="std.math.html#std.math.maxInt">maxInt</a>(T)) {
                        <span class="tok-kw">return</span> <a href="std.math.html#std.math.maxInt">maxInt</a>(T);
                    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (value &lt;= <a href="std.math.html#std.math.minInt">minInt</a>(T)) {
                        <span class="tok-kw">return</span> <a href="std.math.html#std.math.minInt">minInt</a>(T);
                    } <span class="tok-kw">else</span> {
                        <span class="tok-kw">return</span> <span class="tok-builtin">@intCast</span>(value);
                    }
                },
                .float, .<span class="tok-type">comptime_float</span> =&gt; {
                    <span class="tok-kw">if</span> (<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(value)) {
                        <span class="tok-kw">return</span> <span class="tok-number">0</span>;
                    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (value &gt;= <a href="std.math.html#std.math.maxInt">maxInt</a>(T)) {
                        <span class="tok-kw">return</span> <a href="std.math.html#std.math.maxInt">maxInt</a>(T);
                    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (value &lt;= <a href="std.math.html#std.math.minInt">minInt</a>(T)) {
                        <span class="tok-kw">return</span> <a href="std.math.html#std.math.minInt">minInt</a>(T);
                    } <span class="tok-kw">else</span> {
                        <span class="tok-kw">return</span> <span class="tok-builtin">@intFromFloat</span>(value);
                    }
                },
                <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;bad type&quot;</span>),
            }
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;bad result type&quot;</span>),
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.lerp" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">lerp</span><a href="#src.zig-std.math.lerp">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">lerp</span>(a: <span class="tok-kw">anytype</span>, b: <span class="tok-kw">anytype</span>, t: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(a, b, t)</code></pre></div><div class="tldDocs"><p>Performs linear interpolation between <em>a</em> and <em>b</em> based on <em>t</em>.
<em>t</em> ranges from 0.0 to 1.0, but may exceed these bounds.
Supports floats and vectors of floats.</p>
<p>This does not guarantee returning <em>b</em> if <em>t</em> is 1 due to floating-point errors.
This is monotonic.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> lerp {
    <span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> == .stage2_c) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;<span class="tok-comment"> // https://github.com/ziglang/zig/issues/17884
    </span><span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> == .stage2_x86_64 <span class="tok-kw">and</span>
        !<span class="tok-kw">comptime</span> <a href="std.html">std</a>.<a href="std.Target.html">Target</a>.<a href="std.Target.x86.html">x86</a>.<a href="std.Target.x86.html#std.Target.x86.featureSetHas">featureSetHas</a>(<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.cpu">cpu</a>.<a href="#">features</a>, .fma)) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;<span class="tok-comment"> // https://github.com/ziglang/zig/issues/17884

    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">75</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-number">50</span>, <span class="tok-number">100</span>, <span class="tok-number">0.5</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">43.75</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-number">50</span>, <span class="tok-number">25</span>, <span class="tok-number">0.25</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, -<span class="tok-number">31.25</span>), <a href="std.math.html#std.math.lerp">lerp</a>(-<span class="tok-number">50</span>, <span class="tok-number">25</span>, <span class="tok-number">0.25</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">30</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-number">10</span>, <span class="tok-number">20</span>, <span class="tok-number">2.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">5</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-number">10</span>, <span class="tok-number">20</span>, -<span class="tok-number">0.5</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">7.16067345e+03</span>), <a href="std.math.html#std.math.lerp">lerp</a>(-<span class="tok-number">10000.12345</span>, -<span class="tok-number">5000.12345</span>, <span class="tok-number">0.56789</span>), <span class="tok-number">1e-19</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">7.010987590521e+62</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-number">0.123456789e-64</span>, <span class="tok-number">0.123456789e64</span>, <span class="tok-number">0.56789</span>), <span class="tok-number">1e-33</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.0e8</span>), <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.0</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">1.0e16</span>), <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.0</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.0e7</span>), <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">1.0</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">1.0e15</span>), <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>));

    {
        <span class="tok-kw">const</span> a: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">0</span>);
        <span class="tok-kw">const</span> b: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">50</span>);
        <span class="tok-kw">const</span> t: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">0.5</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(
            <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>){ <span class="tok-number">25</span>, <span class="tok-number">25</span>, <span class="tok-number">25</span> },
            <a href="std.math.html#std.math.lerp">lerp</a>(a, b, t),
        );
    }
    {
        <span class="tok-kw">const</span> a: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f64</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">50</span>);
        <span class="tok-kw">const</span> b: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f64</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">100</span>);
        <span class="tok-kw">const</span> t: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f64</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">0.5</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(
            <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f64</span>){ <span class="tok-number">75</span>, <span class="tok-number">75</span>, <span class="tok-number">75</span> },
            <a href="std.math.html#std.math.lerp">lerp</a>(a, b, t),
        );
    }
    {
        <span class="tok-kw">const</span> a: <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">40</span>);
        <span class="tok-kw">const</span> b: <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">80</span>);
        <span class="tok-kw">const</span> t: <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">f32</span>){ <span class="tok-number">0.25</span>, <span class="tok-number">0.75</span> };
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(
            <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">f32</span>){ <span class="tok-number">50</span>, <span class="tok-number">70</span> },
            <a href="std.math.html#std.math.lerp">lerp</a>(a, b, t),
        );
    }
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.lerp">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">lerp</span>(a: <span class="tok-kw">anytype</span>, b: <span class="tok-kw">anytype</span>, t: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(a, b, t) {
    <span class="tok-kw">const</span> Type = <span class="tok-builtin">@TypeOf</span>(a, b, t);
    <span class="tok-kw">return</span> <span class="tok-builtin">@mulAdd</span>(Type, b - a, t, a);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.maxInt" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">maxInt</span><a href="#src.zig-std.math.maxInt">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">maxInt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span></code></pre></div><div class="tldDocs"><p>Returns the maximum value of integer type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> maxInt {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u0</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u1</span>) == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u8</span>) == <span class="tok-number">255</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u16</span>) == <span class="tok-number">65535</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u32</span>) == <span class="tok-number">4294967295</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u64</span>) == <span class="tok-number">18446744073709551615</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u128</span>) == <span class="tok-number">340282366920938463463374607431768211455</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i0</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i1</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i8</span>) == <span class="tok-number">127</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i16</span>) == <span class="tok-number">32767</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>) == <span class="tok-number">2147483647</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i63</span>) == <span class="tok-number">4611686018427387903</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i64</span>) == <span class="tok-number">9223372036854775807</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i128</span>) == <span class="tok-number">170141183460469231731687303715884105727</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.maxInt">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">maxInt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span> {
    <span class="tok-kw">const</span> info = <span class="tok-builtin">@typeInfo</span>(T);
    <span class="tok-kw">const</span> bit_count = info.int.bits;
    <span class="tok-kw">if</span> (bit_count == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
    <span class="tok-kw">return</span> (<span class="tok-number">1</span> &lt;&lt; (bit_count - <span class="tok-builtin">@intFromBool</span>(info.int.signedness == .signed))) - <span class="tok-number">1</span>;
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.minInt" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">minInt</span><a href="#src.zig-std.math.minInt">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">minInt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span></code></pre></div><div class="tldDocs"><p>Returns the minimum value of integer type T.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> minInt {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u0</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u1</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u8</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u16</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u32</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u63</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u64</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u128</span>) == <span class="tok-number">0</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i0</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i1</span>) == -<span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i8</span>) == -<span class="tok-number">128</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i16</span>) == -<span class="tok-number">32768</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>) == -<span class="tok-number">2147483648</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i63</span>) == -<span class="tok-number">4611686018427387904</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i64</span>) == -<span class="tok-number">9223372036854775808</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i128</span>) == -<span class="tok-number">170141183460469231731687303715884105728</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.minInt">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">minInt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span> {
    <span class="tok-kw">const</span> info = <span class="tok-builtin">@typeInfo</span>(T);
    <span class="tok-kw">const</span> bit_count = info.int.bits;
    <span class="tok-kw">if</span> (info.int.signedness == .unsigned) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
    <span class="tok-kw">if</span> (bit_count == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
    <span class="tok-kw">return</span> -(<span class="tok-number">1</span> &lt;&lt; (bit_count - <span class="tok-number">1</span>));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.mulWide" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">mulWide</span><a href="#src.zig-std.math.mulWide">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mulWide</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>( <span class="tok-builtin">@typeInfo</span>(T).int.signedness, <span class="tok-builtin">@typeInfo</span>(T).int.bits * <span class="tok-number">2</span>, )</code></pre></div><div class="tldDocs"><p>Multiply a and b. Return type is wide enough to guarantee no
overflow.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>a: T</code></pre></div><div><pre><code>b: T</code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> mulWide {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.mulWide">mulWide</a>(<span class="tok-type">u8</span>, <span class="tok-number">5</span>, <span class="tok-number">5</span>) == <span class="tok-number">25</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.mulWide">mulWide</a>(<span class="tok-type">i8</span>, <span class="tok-number">5</span>, -<span class="tok-number">5</span>) == -<span class="tok-number">25</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.mulWide">mulWide</a>(<span class="tok-type">u8</span>, <span class="tok-number">100</span>, <span class="tok-number">100</span>) == <span class="tok-number">10000</span>);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.mulWide">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mulWide</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(
    <span class="tok-builtin">@typeInfo</span>(T).int.signedness,
    <span class="tok-builtin">@typeInfo</span>(T).int.bits * <span class="tok-number">2</span>,
) {
    <span class="tok-kw">const</span> ResultInt = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(
        <span class="tok-builtin">@typeInfo</span>(T).int.signedness,
        <span class="tok-builtin">@typeInfo</span>(T).int.bits * <span class="tok-number">2</span>,
    );
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(ResultInt, a) * <span class="tok-builtin">@as</span>(ResultInt, b);
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.order" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">order</span><a href="#src.zig-std.math.order">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">order</span>(a: <span class="tok-kw">anytype</span>, b: <span class="tok-kw">anytype</span>) <a href="std.math.Order.html">Order</a></code></pre></div><div class="tldDocs"><p>Given two numbers, this function returns the order they are with respect to each other.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> order {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">0</span>, <span class="tok-number">0</span>) == .eq);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">1</span>, <span class="tok-number">0</span>) == .gt);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(-<span class="tok-number">1</span>, <span class="tok-number">0</span>) == .lt);
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.order">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">order</span>(a: <span class="tok-kw">anytype</span>, b: <span class="tok-kw">anytype</span>) <a href="std.math.Order.html">Order</a> {
    <span class="tok-kw">if</span> (a == b) {
        <span class="tok-kw">return</span> .eq;
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (a &lt; b) {
        <span class="tok-kw">return</span> .lt;
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (a &gt; b) {
        <span class="tok-kw">return</span> .gt;
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">unreachable</span>;
    }
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.compare" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">compare</span><a href="#src.zig-std.math.compare">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">compare</span>(a: <span class="tok-kw">anytype</span>, op: <a href="std.math.CompareOperator.html">CompareOperator</a>, b: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span></code></pre></div><div class="tldDocs"><p>This function does the same thing as comparison operators, however the
operator is a runtime-known enum value. Works on any operands that
support comparison operators.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>op: <a href="std.math.CompareOperator.html">CompareOperator</a></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> compare {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>), .lt, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, <span class="tok-number">2</span>), .gt, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>), .gte, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>), .gt, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>), .lte, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>), .lt, <span class="tok-builtin">@as</span>(<span class="tok-type">u9</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>), .gte, <span class="tok-builtin">@as</span>(<span class="tok-type">u9</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u9</span>, <span class="tok-number">255</span>), .gt, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u9</span>, <span class="tok-number">255</span>), .lte, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i9</span>, -<span class="tok-number">1</span>), .lt, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i9</span>, -<span class="tok-number">1</span>), .gte, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>), .gt, <span class="tok-builtin">@as</span>(<span class="tok-type">i9</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>), .lte, <span class="tok-builtin">@as</span>(<span class="tok-type">i9</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">1</span>), .lt, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">2</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-builtin">@bitCast</span>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>))) == <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>), .eq, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">1</span>), .eq, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">1</span>)));
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.compare">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">compare</span>(a: <span class="tok-kw">anytype</span>, op: <a href="std.math.CompareOperator.html">CompareOperator</a>, b: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (op) {
        .lt =&gt; a &lt; b,
        .lte =&gt; a &lt;= b,
        .eq =&gt; a == b,
        .neq =&gt; a != b,
        .gt =&gt; a &gt; b,
        .gte =&gt; a &gt;= b,
    };
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.boolMask" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">boolMask</span><a href="#src.zig-std.math.boolMask">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">boolMask</span>(<span class="tok-kw">comptime</span> MaskInt: <span class="tok-type">type</span>, value: <span class="tok-type">bool</span>) MaskInt</code></pre></div><div class="tldDocs"><p>Returns a mask of all ones if value is true,
and a mask of all zeroes if value is false.
Compiles to one instruction for register sized integers.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>MaskInt: <span class="tok-type">type</span></code></pre></div><div><pre><code>value: <span class="tok-type">bool</span></code></pre></div></div></div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> boolMask {
    <span class="tok-kw">const</span> runTest = <span class="tok-kw">struct</span> {
        <span class="tok-kw">fn</span> <span class="tok-fn">runTest</span>() !<span class="tok-type">void</span> {
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u1</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u1</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u1</span>, <span class="tok-number">1</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u1</span>, <span class="tok-null">true</span>));

            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i1</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i1</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i1</span>, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i1</span>, <span class="tok-null">true</span>));

            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u13</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u13</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u13</span>, <span class="tok-number">0x1FFF</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u13</span>, <span class="tok-null">true</span>));

            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i13</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i13</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i13</span>, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i13</span>, <span class="tok-null">true</span>));

            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u32</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">0xFFFF_FFFF</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u32</span>, <span class="tok-null">true</span>));

            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i32</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i32</span>, <span class="tok-null">true</span>));
        }
    }.runTest;
    <span class="tok-kw">try</span> runTest();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> runTest();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.boolMask">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">boolMask</span>(<span class="tok-kw">comptime</span> MaskInt: <span class="tok-type">type</span>, value: <span class="tok-type">bool</span>) MaskInt {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(MaskInt) != .int)
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;boolMask requires an integer mask type.&quot;</span>);

    <span class="tok-kw">if</span> (MaskInt == <span class="tok-type">u0</span> <span class="tok-kw">or</span> MaskInt == <span class="tok-type">i0</span>)
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;boolMask cannot convert to u0 or i0, they are too small.&quot;</span>);<span class="tok-comment">

    // The u1 and i1 cases tend to overflow,
    // so we special case them here.
    </span><span class="tok-kw">if</span> (MaskInt == <span class="tok-type">u1</span>) <span class="tok-kw">return</span> <span class="tok-builtin">@intFromBool</span>(value);
    <span class="tok-kw">if</span> (MaskInt == <span class="tok-type">i1</span>) {<span class="tok-comment">
        // The @as here is a workaround for #7950
        </span><span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<span class="tok-type">i1</span>, <span class="tok-builtin">@bitCast</span>(<span class="tok-builtin">@as</span>(<span class="tok-type">u1</span>, <span class="tok-builtin">@intFromBool</span>(value))));
    }

    <span class="tok-kw">return</span> -%<span class="tok-builtin">@as</span>(MaskInt, <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@intFromBool</span>(value)));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.comptimeMod" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">comptimeMod</span><a href="#src.zig-std.math.comptimeMod">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">comptimeMod</span>(num: <span class="tok-kw">anytype</span>, <span class="tok-kw">comptime</span> denom: <span class="tok-type">comptime_int</span>) <a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, denom - <span class="tok-number">1</span>)</code></pre></div><div class="tldDocs"><p>Return the mod of <code>num</code> with the smallest integer type</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>denom: <span class="tok-type">comptime_int</span></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.comptimeMod">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">comptimeMod</span>(num: <span class="tok-kw">anytype</span>, <span class="tok-kw">comptime</span> denom: <span class="tok-type">comptime_int</span>) <a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, denom - <span class="tok-number">1</span>) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, denom - <span class="tok-number">1</span>), <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(num, denom)));
}</code></pre></details></div></div><div class="decl"><h2 id="std.math.sign" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">sign</span><a href="#src.zig-std.math.sign">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">sign</span>(i: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(i)</code></pre></div><div class="tldDocs"><p>Returns -1, 0, or 1.
Supports integer and float types and vectors of integer and float types.
Unsigned integer types will always return 0 or 1.
Branchless.</p>
</div><div class="sectDocTests"><h3 class="sectionHeader">Example Usage</h3><pre><code class="docTestsCode"><span class="tok-kw">test</span> sign {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testSign">testSign</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testSign">testSign</a>();
}</code></pre></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.math.sign">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">sign</span>(i: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(i) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(i);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .int, .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@intFromBool</span>(i &gt; <span class="tok-number">0</span>)) - <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@intFromBool</span>(i &lt; <span class="tok-number">0</span>)),
        .float, .<span class="tok-type">comptime_float</span> =&gt; <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@floatFromInt</span>(<span class="tok-builtin">@intFromBool</span>(i &gt; <span class="tok-number">0</span>))) - <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@floatFromInt</span>(<span class="tok-builtin">@intFromBool</span>(i &lt; <span class="tok-number">0</span>))),
        .vector =&gt; |vinfo| blk: {
            <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(vinfo.child)) {
                .int, .float =&gt; {
                    <span class="tok-kw">const</span> zero: T = <span class="tok-builtin">@splat</span>(<span class="tok-number">0</span>);
                    <span class="tok-kw">const</span> one: T = <span class="tok-builtin">@splat</span>(<span class="tok-number">1</span>);
                    <span class="tok-kw">break</span> :blk <span class="tok-builtin">@select</span>(vinfo.child, i &gt; zero, one, zero) - <span class="tok-builtin">@select</span>(vinfo.child, i &lt; zero, one, zero);
                },
                <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Expected vector of ints or floats, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
            }
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Expected an int, float or vector of one, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}</code></pre></details></div></div></div></div><div class="sectSource"><h2 class="sectionHeader" id="src.zig-std.math">Source Code</h2><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">const</span> builtin = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;builtin&quot;</span>);
<span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std.zig&quot;</span>);
<span class="tok-kw">const</span> float = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/float.zig&quot;</span>);
<span class="tok-kw">const</span> assert = <a href="std.html">std</a>.<a href="std.debug.html">debug</a>.<a href="std.debug.html#std.debug.assert">assert</a>;
<span class="tok-kw">const</span> mem = <a href="std.html">std</a>.<a href="std.mem.html">mem</a>;
<span class="tok-kw">const</span> testing = <a href="std.html">std</a>.<a href="std.testing.html">testing</a>;

<span class="tok-comment">/// Euler's number (e)</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> e = <span class="tok-number">2.71828182845904523536028747135266249775724709369995</span>;

<span class="tok-comment">/// Archimedes' constant ()</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> pi = <span class="tok-number">3.14159265358979323846264338327950288419716939937510</span>;

<span class="tok-comment">/// Phi or Golden ratio constant () = (1 + sqrt(5))/2</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> phi = <span class="tok-number">1.6180339887498948482045868343656381177203091798057628621</span>;

<span class="tok-comment">/// Circle constant ()</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> tau = <span class="tok-number">2</span> * <a href="std.math.html#std.math.pi">pi</a>;

<span class="tok-comment">/// log2(e)</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> log2e = <span class="tok-number">1.442695040888963407359924681001892137</span>;

<span class="tok-comment">/// log10(e)</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> log10e = <span class="tok-number">0.434294481903251827651128918916605082</span>;

<span class="tok-comment">/// ln(2)</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> ln2 = <span class="tok-number">0.693147180559945309417232121458176568</span>;

<span class="tok-comment">/// ln(10)</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> ln10 = <span class="tok-number">2.302585092994045684017991454684364208</span>;

<span class="tok-comment">/// 2/sqrt()</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> two_sqrtpi = <span class="tok-number">1.128379167095512573896158903121545172</span>;

<span class="tok-comment">/// sqrt(2)</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> sqrt2 = <span class="tok-number">1.414213562373095048801688724209698079</span>;

<span class="tok-comment">/// 1/sqrt(2)</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> sqrt1_2 = <span class="tok-number">0.707106781186547524400844362104849039</span>;

<span class="tok-comment">/// pi/180.0</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> rad_per_deg = <span class="tok-number">0.0174532925199432957692369076848861271344287188854172545609719144</span>;

<span class="tok-comment">/// 180.0/pi</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> deg_per_rad = <span class="tok-number">57.295779513082320876798154814105170332405472466564321549160243861</span>;

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> floatExponentBits = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.floatExponentBits">floatExponentBits</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> floatMantissaBits = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.floatMantissaBits">floatMantissaBits</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> floatFractionalBits = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> floatExponentMin = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.floatExponentMin">floatExponentMin</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> floatExponentMax = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> floatTrueMin = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> floatMin = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.floatMin">floatMin</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> floatMax = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.floatMax">floatMax</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> floatEps = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.floatEps">floatEps</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> floatEpsAt = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.floatEpsAt">floatEpsAt</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> inf = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.inf">inf</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> nan = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.nan">nan</a>;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> snan = <a href="std.math.float.html">float</a>.<a href="std.math.float.html#std.math.float.snan">snan</a>;

<span class="tok-comment">/// Performs an approximate comparison of two floating point values `x` and `y`.</span>
<span class="tok-comment">/// Returns true if the absolute difference between them is less or equal than</span>
<span class="tok-comment">/// the specified tolerance.</span>
<span class="tok-comment">///</span>
<span class="tok-comment">/// The `tolerance` parameter is the absolute tolerance used when determining if</span>
<span class="tok-comment">/// the two numbers are close enough; a good value for this parameter is a small</span>
<span class="tok-comment">/// multiple of `floatEps(T)`.</span>
<span class="tok-comment">///</span>
<span class="tok-comment">/// Note that this function is recommended for comparing small numbers</span>
<span class="tok-comment">/// around zero; using `approxEqRel` is suggested otherwise.</span>
<span class="tok-comment">///</span>
<span class="tok-comment">/// NaN values are never considered equal to any value.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">approxEqAbs</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T, tolerance: T) <span class="tok-type">bool</span> {
    <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .float <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(T) == .<span class="tok-type">comptime_float</span>);
    <a href="std.debug.html#std.debug.assert">assert</a>(tolerance &gt;= <span class="tok-number">0</span>);<span class="tok-comment">

    // Fast path for equal values (and signed zeros and infinites).
    </span><span class="tok-kw">if</span> (x == y)
        <span class="tok-kw">return</span> <span class="tok-null">true</span>;

    <span class="tok-kw">if</span> (<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(x) <span class="tok-kw">or</span> <a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(y))
        <span class="tok-kw">return</span> <span class="tok-null">false</span>;

    <span class="tok-kw">return</span> <span class="tok-builtin">@abs</span>(x - y) &lt;= tolerance;
}

<span class="tok-comment">/// Performs an approximate comparison of two floating point values `x` and `y`.</span>
<span class="tok-comment">/// Returns true if the absolute difference between them is less or equal than</span>
<span class="tok-comment">/// `max(|x|, |y|) * tolerance`, where `tolerance` is a positive number greater</span>
<span class="tok-comment">/// than zero.</span>
<span class="tok-comment">///</span>
<span class="tok-comment">/// The `tolerance` parameter is the relative tolerance used when determining if</span>
<span class="tok-comment">/// the two numbers are close enough; a good value for this parameter is usually</span>
<span class="tok-comment">/// `sqrt(floatEps(T))`, meaning that the two numbers are considered equal if at</span>
<span class="tok-comment">/// least half of the digits are equal.</span>
<span class="tok-comment">///</span>
<span class="tok-comment">/// Note that for comparisons of small numbers around zero this function won't</span>
<span class="tok-comment">/// give meaningful results, use `approxEqAbs` instead.</span>
<span class="tok-comment">///</span>
<span class="tok-comment">/// NaN values are never considered equal to any value.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">approxEqRel</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, y: T, tolerance: T) <span class="tok-type">bool</span> {
    <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .float <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(T) == .<span class="tok-type">comptime_float</span>);
    <a href="std.debug.html#std.debug.assert">assert</a>(tolerance &gt; <span class="tok-number">0</span>);<span class="tok-comment">

    // Fast path for equal values (and signed zeros and infinites).
    </span><span class="tok-kw">if</span> (x == y)
        <span class="tok-kw">return</span> <span class="tok-null">true</span>;

    <span class="tok-kw">if</span> (<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(x) <span class="tok-kw">or</span> <a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(y))
        <span class="tok-kw">return</span> <span class="tok-null">false</span>;

    <span class="tok-kw">return</span> <span class="tok-builtin">@abs</span>(x - y) &lt;= <span class="tok-builtin">@max</span>(<span class="tok-builtin">@abs</span>(x), <span class="tok-builtin">@abs</span>(y)) * tolerance;
}

<span class="tok-kw">test</span> approxEqAbs {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">const</span> eps_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.floatEps">floatEps</a>(T);
        <span class="tok-kw">const</span> min_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T);

        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, <span class="tok-number">0.0</span>, <span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, -<span class="tok-number">0.0</span>, -<span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, <span class="tok-number">0.0</span>, -<span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, <span class="tok-number">1.0</span> + <span class="tok-number">2</span> * eps_value, <span class="tok-number">1.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, <span class="tok-number">1.0</span> + <span class="tok-number">1</span> * eps_value, <span class="tok-number">1.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, min_value, <span class="tok-number">0.0</span>, eps_value * <span class="tok-number">2</span>));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(T, -min_value, <span class="tok-number">0.0</span>, eps_value * <span class="tok-number">2</span>));
    }

    <span class="tok-kw">comptime</span> {<span class="tok-comment">
        // `comptime_float` is guaranteed to have the same precision and operations of
        // the largest other floating point type, which is f128 but it doesn't have a
        // defined layout so we can't rely on `@bitCast` to construct the smallest
        // possible epsilon value like we do in the tests above. In the same vein, we
        // also can't represent a max/min, `NaN` or `Inf` values.
        </span><span class="tok-kw">const</span> eps_value = <span class="tok-number">1e-4</span>;

        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">0.0</span>, <span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">comptime_float</span>, -<span class="tok-number">0.0</span>, -<span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">0.0</span>, -<span class="tok-number">0.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">1.0</span> + <span class="tok-number">2</span> * eps_value, <span class="tok-number">1.0</span>, eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqAbs">approxEqAbs</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">1.0</span> + <span class="tok-number">1</span> * eps_value, <span class="tok-number">1.0</span>, eps_value));
    }
}

<span class="tok-kw">test</span> approxEqRel {
    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> ([_]<span class="tok-type">type</span>{ <span class="tok-type">f16</span>, <span class="tok-type">f32</span>, <span class="tok-type">f64</span>, <span class="tok-type">f128</span> }) |T| {
        <span class="tok-kw">const</span> eps_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.floatEps">floatEps</a>(T);
        <span class="tok-kw">const</span> sqrt_eps_value = <span class="tok-kw">comptime</span> <a href="std.math.sqrt.html#std.math.sqrt.sqrt">sqrt</a>(eps_value);
        <span class="tok-kw">const</span> nan_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.nan">nan</a>(T);
        <span class="tok-kw">const</span> inf_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.inf">inf</a>(T);
        <span class="tok-kw">const</span> min_value = <span class="tok-kw">comptime</span> <a href="std.math.float.html#std.math.float.floatMin">floatMin</a>(T);

        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, <span class="tok-number">1.0</span>, <span class="tok-number">0.0</span>, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, <span class="tok-number">1.0</span>, nan_value, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, nan_value, nan_value, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, inf_value, inf_value, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, min_value, min_value, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(T, -min_value, -min_value, sqrt_eps_value));
    }

    <span class="tok-kw">comptime</span> {<span class="tok-comment">
        // `comptime_float` is guaranteed to have the same precision and operations of
        // the largest other floating point type, which is f128 but it doesn't have a
        // defined layout so we can't rely on `@bitCast` to construct the smallest
        // possible epsilon value like we do in the tests above. In the same vein, we
        // also can't represent a max/min, `NaN` or `Inf` values.
        </span><span class="tok-kw">const</span> eps_value = <span class="tok-number">1e-4</span>;
        <span class="tok-kw">const</span> sqrt_eps_value = <a href="std.math.sqrt.html#std.math.sqrt.sqrt">sqrt</a>(eps_value);

        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>, sqrt_eps_value));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.approxEqRel">approxEqRel</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">1.0</span>, <span class="tok-number">0.0</span>, sqrt_eps_value));
    }
}

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseInvalid</span>() <span class="tok-type">void</span> {<span class="tok-comment">
    // Raise INVALID fpu exception
</span>}

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseUnderflow</span>() <span class="tok-type">void</span> {<span class="tok-comment">
    // Raise UNDERFLOW fpu exception
</span>}

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseOverflow</span>() <span class="tok-type">void</span> {<span class="tok-comment">
    // Raise OVERFLOW fpu exception
</span>}

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseInexact</span>() <span class="tok-type">void</span> {<span class="tok-comment">
    // Raise INEXACT fpu exception
</span>}

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">raiseDivByZero</span>() <span class="tok-type">void</span> {<span class="tok-comment">
    // Raise INEXACT fpu exception
</span>}

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> isNan = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/isnan.zig&quot;</span>).isNan;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> isSignalNan = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/isnan.zig&quot;</span>).isSignalNan;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> frexp = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/frexp.zig&quot;</span>).frexp;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> Frexp = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/frexp.zig&quot;</span>).Frexp;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> modf = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/modf.zig&quot;</span>).modf;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> Modf = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/modf.zig&quot;</span>).Modf;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> copysign = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/copysign.zig&quot;</span>).copysign;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> isFinite = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/isfinite.zig&quot;</span>).isFinite;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> isInf = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/isinf.zig&quot;</span>).isInf;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> isPositiveInf = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/isinf.zig&quot;</span>).isPositiveInf;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> isNegativeInf = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/isinf.zig&quot;</span>).isNegativeInf;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> isPositiveZero = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/iszero.zig&quot;</span>).isPositiveZero;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> isNegativeZero = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/iszero.zig&quot;</span>).isNegativeZero;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> isNormal = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/isnormal.zig&quot;</span>).isNormal;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> nextAfter = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/nextafter.zig&quot;</span>).nextAfter;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> signbit = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/signbit.zig&quot;</span>).signbit;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> scalbn = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/scalbn.zig&quot;</span>).scalbn;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> ldexp = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/ldexp.zig&quot;</span>).ldexp;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> pow = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/pow.zig&quot;</span>).pow;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> powi = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/powi.zig&quot;</span>).powi;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> sqrt = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/sqrt.zig&quot;</span>).sqrt;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> cbrt = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/cbrt.zig&quot;</span>).cbrt;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> acos = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/acos.zig&quot;</span>).acos;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> asin = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/asin.zig&quot;</span>).asin;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> atan = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/atan.zig&quot;</span>).atan;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> atan2 = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/atan2.zig&quot;</span>).atan2;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> hypot = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/hypot.zig&quot;</span>).hypot;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> expm1 = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/expm1.zig&quot;</span>).expm1;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> ilogb = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/ilogb.zig&quot;</span>).ilogb;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> log = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/log.zig&quot;</span>).log;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> log2 = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/log2.zig&quot;</span>).log2;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> log10 = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/log10.zig&quot;</span>).log10;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> log10_int = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/log10.zig&quot;</span>).log10_int;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> log_int = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/log_int.zig&quot;</span>).log_int;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> log1p = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/log1p.zig&quot;</span>).log1p;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> asinh = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/asinh.zig&quot;</span>).asinh;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> acosh = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/acosh.zig&quot;</span>).acosh;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> atanh = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/atanh.zig&quot;</span>).atanh;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> sinh = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/sinh.zig&quot;</span>).sinh;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> cosh = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/cosh.zig&quot;</span>).cosh;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> tanh = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/tanh.zig&quot;</span>).tanh;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> gcd = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/gcd.zig&quot;</span>).gcd;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> gamma = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/gamma.zig&quot;</span>).gamma;
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> lgamma = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/gamma.zig&quot;</span>).lgamma;

<span class="tok-comment">/// Sine trigonometric function on a floating point number.</span>
<span class="tok-comment">/// Uses a dedicated hardware instruction when available.</span>
<span class="tok-comment">/// This is the same as calling the builtin @sin</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">sin</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@sin</span>(value);
}

<span class="tok-comment">/// Cosine trigonometric function on a floating point number.</span>
<span class="tok-comment">/// Uses a dedicated hardware instruction when available.</span>
<span class="tok-comment">/// This is the same as calling the builtin @cos</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">cos</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@cos</span>(value);
}

<span class="tok-comment">/// Tangent trigonometric function on a floating point number.</span>
<span class="tok-comment">/// Uses a dedicated hardware instruction when available.</span>
<span class="tok-comment">/// This is the same as calling the builtin @tan</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">tan</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@tan</span>(value);
}

<span class="tok-comment">/// Converts an angle in radians to degrees. T must be a float or comptime number or a vector of floats.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">radiansToDegrees</span>(ang: <span class="tok-kw">anytype</span>) <span class="tok-kw">if</span> (<span class="tok-builtin">@TypeOf</span>(ang) == <span class="tok-type">comptime_int</span>) <span class="tok-type">comptime_float</span> <span class="tok-kw">else</span> <span class="tok-builtin">@TypeOf</span>(ang) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(ang);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .float, .<span class="tok-type">comptime_float</span>, .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-kw">return</span> ang * <a href="std.math.html#std.math.deg_per_rad">deg_per_rad</a>,
        .vector =&gt; |V| <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(V.child) == .float) <span class="tok-kw">return</span> ang * <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@splat</span>(<a href="std.math.html#std.math.deg_per_rad">deg_per_rad</a>)),
        <span class="tok-kw">else</span> =&gt; {},
    }
    <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Input must be float or a comptime number, or a vector of floats.&quot;</span>);
}

<span class="tok-kw">test</span> radiansToDegrees {
    <span class="tok-kw">const</span> zero: <span class="tok-type">f32</span> = <span class="tok-number">0</span>;
    <span class="tok-kw">const</span> half_pi: <span class="tok-type">f32</span> = <a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">2.0</span>;
    <span class="tok-kw">const</span> neg_quart_pi: <span class="tok-type">f32</span> = -<a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">4.0</span>;
    <span class="tok-kw">const</span> one_pi: <span class="tok-type">f32</span> = <a href="std.math.html#std.math.pi">pi</a>;
    <span class="tok-kw">const</span> two_pi: <span class="tok-type">f32</span> = <span class="tok-number">2.0</span> * <a href="std.math.html#std.math.pi">pi</a>;
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(zero), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">90</span>), <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(half_pi), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">45</span>), <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(neg_quart_pi), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">180</span>), <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(one_pi), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">360</span>), <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(two_pi), <span class="tok-number">1e-6</span>);

    <span class="tok-kw">const</span> result = <a href="std.math.html#std.math.radiansToDegrees">radiansToDegrees</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">4</span>, <span class="tok-type">f32</span>){
        half_pi,
        neg_quart_pi,
        one_pi,
        two_pi,
    });
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">90</span>), result[<span class="tok-number">0</span>], <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">45</span>), result[<span class="tok-number">1</span>], <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">180</span>), result[<span class="tok-number">2</span>], <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">360</span>), result[<span class="tok-number">3</span>], <span class="tok-number">1e-6</span>);
}

<span class="tok-comment">/// Converts an angle in degrees to radians. T must be a float or comptime number or a vector of floats.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">degreesToRadians</span>(ang: <span class="tok-kw">anytype</span>) <span class="tok-kw">if</span> (<span class="tok-builtin">@TypeOf</span>(ang) == <span class="tok-type">comptime_int</span>) <span class="tok-type">comptime_float</span> <span class="tok-kw">else</span> <span class="tok-builtin">@TypeOf</span>(ang) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(ang);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .float, .<span class="tok-type">comptime_float</span>, .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-kw">return</span> ang * <a href="std.math.html#std.math.rad_per_deg">rad_per_deg</a>,
        .vector =&gt; |V| <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(V.child) == .float) <span class="tok-kw">return</span> ang * <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@splat</span>(<a href="std.math.html#std.math.rad_per_deg">rad_per_deg</a>)),
        <span class="tok-kw">else</span> =&gt; {},
    }
    <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Input must be float or a comptime number, or a vector of floats.&quot;</span>);
}

<span class="tok-kw">test</span> degreesToRadians {
    <span class="tok-kw">const</span> ninety: <span class="tok-type">f32</span> = <span class="tok-number">90</span>;
    <span class="tok-kw">const</span> neg_two_seventy: <span class="tok-type">f32</span> = -<span class="tok-number">270</span>;
    <span class="tok-kw">const</span> three_sixty: <span class="tok-type">f32</span> = <span class="tok-number">360</span>;
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">2.0</span>), <a href="std.math.html#std.math.degreesToRadians">degreesToRadians</a>(ninety), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">3</span> * <a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">2.0</span>), <a href="std.math.html#std.math.degreesToRadians">degreesToRadians</a>(neg_two_seventy), <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">2</span> * <a href="std.math.html#std.math.pi">pi</a>), <a href="std.math.html#std.math.degreesToRadians">degreesToRadians</a>(three_sixty), <span class="tok-number">1e-6</span>);

    <span class="tok-kw">const</span> result = <a href="std.math.html#std.math.degreesToRadians">degreesToRadians</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>){
        ninety,
        neg_two_seventy,
        three_sixty,
    });
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">2.0</span>), result[<span class="tok-number">0</span>], <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">3</span> * <a href="std.math.html#std.math.pi">pi</a> / <span class="tok-number">2.0</span>), result[<span class="tok-number">1</span>], <span class="tok-number">1e-6</span>);
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqAbs">expectApproxEqAbs</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">2</span> * <a href="std.math.html#std.math.pi">pi</a>), result[<span class="tok-number">2</span>], <span class="tok-number">1e-6</span>);
}

<span class="tok-comment">/// Base-e exponential function on a floating point number.</span>
<span class="tok-comment">/// Uses a dedicated hardware instruction when available.</span>
<span class="tok-comment">/// This is the same as calling the builtin @exp</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">exp</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@exp</span>(value);
}

<span class="tok-comment">/// Base-2 exponential function on a floating point number.</span>
<span class="tok-comment">/// Uses a dedicated hardware instruction when available.</span>
<span class="tok-comment">/// This is the same as calling the builtin @exp2</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">exp2</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@exp2</span>(value);
}

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> complex = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/complex.zig&quot;</span>);
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> Complex = <a href="std.math.complex.html">complex</a>.<a href="std.math.complex.html#std.math.complex.Complex">Complex</a>;

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> big = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;math/big.zig&quot;</span>);

<span class="tok-kw">test</span> {
    _ = <a href="std.math.float.html#std.math.float.floatExponentBits">floatExponentBits</a>;
    _ = <a href="std.math.float.html#std.math.float.floatMantissaBits">floatMantissaBits</a>;
    _ = <a href="std.math.float.html#std.math.float.floatFractionalBits">floatFractionalBits</a>;
    _ = <a href="std.math.float.html#std.math.float.floatExponentMin">floatExponentMin</a>;
    _ = <a href="std.math.float.html#std.math.float.floatExponentMax">floatExponentMax</a>;
    _ = <a href="std.math.float.html#std.math.float.floatTrueMin">floatTrueMin</a>;
    _ = <a href="std.math.float.html#std.math.float.floatMin">floatMin</a>;
    _ = <a href="std.math.float.html#std.math.float.floatMax">floatMax</a>;
    _ = <a href="std.math.float.html#std.math.float.floatEps">floatEps</a>;
    _ = <a href="std.math.float.html#std.math.float.inf">inf</a>;
    _ = <a href="std.math.float.html#std.math.float.nan">nan</a>;
    _ = <a href="std.math.float.html#std.math.float.snan">snan</a>;
    _ = <a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>;
    _ = <a href="std.math.isnan.html#std.math.isnan.isSignalNan">isSignalNan</a>;
    _ = <a href="std.math.frexp.html#std.math.frexp.frexp">frexp</a>;
    _ = <a href="std.math.frexp.html#std.math.frexp.Frexp">Frexp</a>;
    _ = <a href="std.math.modf.html#std.math.modf.modf">modf</a>;
    _ = <a href="std.math.modf.html#std.math.modf.Modf">Modf</a>;
    _ = <a href="std.math.copysign.html#std.math.copysign.copysign">copysign</a>;
    _ = <a href="std.math.isfinite.html#std.math.isfinite.isFinite">isFinite</a>;
    _ = <a href="std.math.isinf.html#std.math.isinf.isInf">isInf</a>;
    _ = <a href="std.math.isinf.html#std.math.isinf.isPositiveInf">isPositiveInf</a>;
    _ = <a href="std.math.isinf.html#std.math.isinf.isNegativeInf">isNegativeInf</a>;
    _ = <a href="std.math.isnormal.html#std.math.isnormal.isNormal">isNormal</a>;
    _ = <a href="std.math.nextafter.html#std.math.nextafter.nextAfter">nextAfter</a>;
    _ = <a href="std.math.signbit.html#std.math.signbit.signbit">signbit</a>;
    _ = <a href="std.math.ldexp.html#std.math.ldexp.ldexp">scalbn</a>;
    _ = <a href="std.math.ldexp.html#std.math.ldexp.ldexp">ldexp</a>;
    _ = <a href="std.math.pow.html#std.math.pow.pow">pow</a>;
    _ = <a href="std.math.powi.html#std.math.powi.powi">powi</a>;
    _ = <a href="std.math.sqrt.html#std.math.sqrt.sqrt">sqrt</a>;
    _ = <a href="std.math.cbrt.html#std.math.cbrt.cbrt">cbrt</a>;
    _ = <a href="std.math.acos.html#std.math.acos.acos">acos</a>;
    _ = <a href="std.math.asin.html#std.math.asin.asin">asin</a>;
    _ = <a href="std.math.atan.html#std.math.atan.atan">atan</a>;
    _ = <a href="std.math.atan2.html#std.math.atan2.atan2">atan2</a>;
    _ = <a href="std.math.hypot.html#std.math.hypot.hypot">hypot</a>;
    _ = <a href="std.math.expm1.html#std.math.expm1.expm1">expm1</a>;
    _ = <a href="std.math.ilogb.html#std.math.ilogb.ilogb">ilogb</a>;
    _ = <a href="std.math.log.html#std.math.log.log">log</a>;
    _ = <a href="std.math.log2.html#std.math.log2.log2">log2</a>;
    _ = <a href="std.math.log10.html#std.math.log10.log10">log10</a>;
    _ = <a href="std.math.log10.html#std.math.log10.log10_int">log10_int</a>;
    _ = <a href="std.math.log_int.html#std.math.log_int.log_int">log_int</a>;
    _ = <a href="std.math.log1p.html#std.math.log1p.log1p">log1p</a>;
    _ = <a href="std.math.asinh.html#std.math.asinh.asinh">asinh</a>;
    _ = <a href="std.math.acosh.html#std.math.acosh.acosh">acosh</a>;
    _ = <a href="std.math.atanh.html#std.math.atanh.atanh">atanh</a>;
    _ = <a href="std.math.sinh.html#std.math.sinh.sinh">sinh</a>;
    _ = <a href="std.math.cosh.html#std.math.cosh.cosh">cosh</a>;
    _ = <a href="std.math.tanh.html#std.math.tanh.tanh">tanh</a>;
    _ = <a href="std.math.gcd.html#std.math.gcd.gcd">gcd</a>;
    _ = <a href="std.math.gamma.html#std.math.gamma.gamma">gamma</a>;
    _ = <a href="std.math.gamma.html#std.math.gamma.lgamma">lgamma</a>;

    _ = <a href="std.math.complex.html">complex</a>;
    _ = <a href="std.math.complex.html#std.math.complex.Complex">Complex</a>;

    _ = <a href="std.math.big.html">big</a>;
}

<span class="tok-comment">/// Given two types, returns the smallest one which is capable of holding the</span>
<span class="tok-comment">/// full range of the minimum value.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">Min</span>(<span class="tok-kw">comptime</span> A: <span class="tok-type">type</span>, <span class="tok-kw">comptime</span> B: <span class="tok-type">type</span>) <span class="tok-type">type</span> {
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(A)) {
        .int =&gt; |a_info| <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(B)) {
            .int =&gt; |b_info| <span class="tok-kw">if</span> (a_info.signedness == .unsigned <span class="tok-kw">and</span> b_info.signedness == .unsigned) {
                <span class="tok-kw">if</span> (a_info.bits &lt; b_info.bits) {
                    <span class="tok-kw">return</span> A;
                } <span class="tok-kw">else</span> {
                    <span class="tok-kw">return</span> B;
                }
            },
            <span class="tok-kw">else</span> =&gt; {},
        },
        <span class="tok-kw">else</span> =&gt; {},
    }
    <span class="tok-kw">return</span> <span class="tok-builtin">@TypeOf</span>(<span class="tok-builtin">@as</span>(A, <span class="tok-number">0</span>) + <span class="tok-builtin">@as</span>(B, <span class="tok-number">0</span>));
}

<span class="tok-comment">/// Odd sawtooth function</span>
<span class="tok-comment">/// ```</span>
<span class="tok-comment">///         |</span>
<span class="tok-comment">///      /  | /    /</span>
<span class="tok-comment">///     /   |/    /</span>
<span class="tok-comment">///  --/----/----/--</span>
<span class="tok-comment">///   /    /|   /</span>
<span class="tok-comment">///  /    / |  /</span>
<span class="tok-comment">///         |</span>
<span class="tok-comment">/// ```</span>
<span class="tok-comment">/// Limit x to the half-open interval [-r, r).</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">wrap</span>(x: <span class="tok-kw">anytype</span>, r: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">const</span> info_x = <span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(x));
    <span class="tok-kw">const</span> info_r = <span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(r));
    <span class="tok-kw">if</span> (info_x == .int <span class="tok-kw">and</span> info_x.int.signedness != .signed) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;x must be floating point, comptime integer, or signed integer.&quot;</span>);
    }
    <span class="tok-kw">switch</span> (info_r) {
        .int =&gt; {<span class="tok-comment">
            // in the rare usecase of r not being comptime_int or float,
            // take the penalty of having an intermediary type conversion,
            // otherwise the alternative is to unwind iteratively to avoid overflow
            </span><span class="tok-kw">const</span> R = <span class="tok-kw">comptime</span> do: {
                <span class="tok-kw">var</span> info = info_r;
                info.int.bits += <span class="tok-number">1</span>;
                info.int.signedness = .signed;
                <span class="tok-kw">break</span> :do <span class="tok-builtin">@Type</span>(info);
            };
            <span class="tok-kw">const</span> radius: <span class="tok-kw">if</span> (info_r.int.signedness == .signed) <span class="tok-builtin">@TypeOf</span>(r) <span class="tok-kw">else</span> R = r;
            <span class="tok-kw">return</span> <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(x - radius, <span class="tok-number">2</span> * <span class="tok-builtin">@as</span>(R, r)) - r);<span class="tok-comment"> // provably impossible to overflow
        </span>},
        <span class="tok-kw">else</span> =&gt; {
            <span class="tok-kw">return</span> <span class="tok-builtin">@mod</span>(x - r, <span class="tok-number">2</span> * r) - r;
        },
    }
}
<span class="tok-kw">test</span> wrap {<span class="tok-comment">
    // Within range
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">75</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">75</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">75</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == -<span class="tok-number">75</span>);<span class="tok-comment">
    // Below
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">225</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == <span class="tok-number">135</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">225</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">135</span>);<span class="tok-comment">
    // Above
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">361</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">361</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">1</span>);<span class="tok-comment">

    // One period, right limit, positive r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">180</span>);<span class="tok-comment">
    // One period, left limit, positive r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">180</span>);<span class="tok-comment">
    // One period, right limit, negative r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">180</span>);<span class="tok-comment">
    // One period, left limit, negative r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">180</span>);<span class="tok-comment">

    // Two periods, right limit, positive r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">540</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">180</span>);<span class="tok-comment">
    // Two periods, left limit, positive r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">540</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">180</span>);<span class="tok-comment">
    // Two periods, right limit, negative r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">540</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">180</span>);<span class="tok-comment">
    // Two periods, left limit, negative r
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">540</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">180</span>)) == <span class="tok-number">180</span>);<span class="tok-comment">

    // Floating point
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.125</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.0</span>)) == -<span class="tok-number">0.875</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">127.5</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">180</span>)) == -<span class="tok-number">127.5</span>);<span class="tok-comment">

    // Mix of comptime and non-comptime
    </span><span class="tok-kw">var</span> i: <span class="tok-type">i32</span> = <span class="tok-number">1</span>;
    _ = &amp;i;
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(i, <span class="tok-number">10</span>) == <span class="tok-number">1</span>);

    <span class="tok-kw">const</span> limit: <span class="tok-type">i32</span> = <span class="tok-number">180</span>;<span class="tok-comment">
    // Within range
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">75</span>), limit) == -<span class="tok-number">75</span>);<span class="tok-comment">
    // Below
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">225</span>), limit) == <span class="tok-number">135</span>);<span class="tok-comment">
    // Above
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.wrap">wrap</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">361</span>), limit) == <span class="tok-number">1</span>);
}

<span class="tok-comment">/// Odd ramp function</span>
<span class="tok-comment">/// ```</span>
<span class="tok-comment">///         |  _____</span>
<span class="tok-comment">///         | /</span>
<span class="tok-comment">///         |/</span>
<span class="tok-comment">///  -------/-------</span>
<span class="tok-comment">///        /|</span>
<span class="tok-comment">///  _____/ |</span>
<span class="tok-comment">///         |</span>
<span class="tok-comment">/// ```</span>
<span class="tok-comment">/// Limit val to the inclusive range [lower, upper].</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">clamp</span>(val: <span class="tok-kw">anytype</span>, lower: <span class="tok-kw">anytype</span>, upper: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(val, lower, upper) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(val, lower, upper);
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .int, .float, .<span class="tok-type">comptime_int</span>, .<span class="tok-type">comptime_float</span> =&gt; <a href="std.debug.html#std.debug.assert">assert</a>(lower &lt;= upper),
        .vector =&gt; |vinfo| <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(vinfo.child)) {
            .int, .float =&gt; <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@reduce</span>(.And, lower &lt;= upper)),
            <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Expected vector of ints or floats, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Expected an int, float or vector of one, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    }
    <span class="tok-kw">return</span> <span class="tok-builtin">@max</span>(lower, <span class="tok-builtin">@min</span>(val, upper));
}
<span class="tok-kw">test</span> clamp {<span class="tok-comment">
    // Within range
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">1</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">4</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">7</span>)) == -<span class="tok-number">1</span>);<span class="tok-comment">
    // Below
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">5</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">4</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">7</span>)) == -<span class="tok-number">4</span>);<span class="tok-comment">
    // Above
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">8</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">4</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">7</span>)) == <span class="tok-number">7</span>);<span class="tok-comment">

    // Floating point
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.1</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.0</span>)) == <span class="tok-number">1.0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">127.5</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">200</span>), <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">100</span>)) == -<span class="tok-number">127.5</span>);<span class="tok-comment">

    // Vector
    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@reduce</span>(.And, <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(<span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>), .{ <span class="tok-number">1.4</span>, <span class="tok-number">15.23</span>, <span class="tok-number">28.3</span> }), <span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>), .{ <span class="tok-number">9.8</span>, <span class="tok-number">13.2</span>, <span class="tok-number">15.6</span> }), <span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>), .{ <span class="tok-number">15.2</span>, <span class="tok-number">22.8</span>, <span class="tok-number">26.3</span> })) == <span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>), .{ <span class="tok-number">9.8</span>, <span class="tok-number">15.23</span>, <span class="tok-number">26.3</span> })));<span class="tok-comment">

    // Mix of comptime and non-comptime
    </span><span class="tok-kw">var</span> i: <span class="tok-type">i32</span> = <span class="tok-number">1</span>;
    _ = &amp;i;
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.clamp">clamp</a>(i, <span class="tok-number">0</span>, <span class="tok-number">1</span>) == <span class="tok-number">1</span>);
}

<span class="tok-comment">/// Returns the product of a and b. Returns an error on overflow.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mul</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) (<span class="tok-kw">error</span>{Overflow}!T) {
    <span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> a * b;
    <span class="tok-kw">const</span> ov = <span class="tok-builtin">@mulWithOverflow</span>(a, b);
    <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> ov[<span class="tok-number">0</span>];
}

<span class="tok-comment">/// Returns the sum of a and b. Returns an error on overflow.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">add</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) (<span class="tok-kw">error</span>{Overflow}!T) {
    <span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> a + b;
    <span class="tok-kw">const</span> ov = <span class="tok-builtin">@addWithOverflow</span>(a, b);
    <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> ov[<span class="tok-number">0</span>];
}

<span class="tok-comment">/// Returns a - b, or an error on overflow.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">sub</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) (<span class="tok-kw">error</span>{Overflow}!T) {
    <span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> a - b;
    <span class="tok-kw">const</span> ov = <span class="tok-builtin">@subWithOverflow</span>(a, b);
    <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> ov[<span class="tok-number">0</span>];
}

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">negate</span>(x: <span class="tok-kw">anytype</span>) !<span class="tok-builtin">@TypeOf</span>(x) {
    <span class="tok-kw">return</span> <a href="std.math.html#std.math.sub">sub</a>(<span class="tok-builtin">@TypeOf</span>(x), <span class="tok-number">0</span>, x);
}

<span class="tok-comment">/// Shifts a left by shift_amt. Returns an error on overflow. shift_amt</span>
<span class="tok-comment">/// is unsigned.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">shlExact</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, shift_amt: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T)) !T {
    <span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> a &lt;&lt; shift_amt;
    <span class="tok-kw">const</span> ov = <span class="tok-builtin">@shlWithOverflow</span>(a, shift_amt);
    <span class="tok-kw">if</span> (ov[<span class="tok-number">1</span>] != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> ov[<span class="tok-number">0</span>];
}

<span class="tok-comment">/// Shifts left. Overflowed bits are truncated.</span>
<span class="tok-comment">/// A negative shift amount results in a right shift.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">shl</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, shift_amt: <span class="tok-kw">anytype</span>) T {
    <span class="tok-kw">const</span> abs_shift_amt = <span class="tok-builtin">@abs</span>(shift_amt);

    <span class="tok-kw">const</span> casted_shift_amt = blk: {
        <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .vector) {
            <span class="tok-kw">const</span> C = <span class="tok-builtin">@typeInfo</span>(T).vector.child;
            <span class="tok-kw">const</span> len = <span class="tok-builtin">@typeInfo</span>(T).vector.len;
            <span class="tok-kw">if</span> (abs_shift_amt &gt;= <span class="tok-builtin">@typeInfo</span>(C).int.bits) <span class="tok-kw">return</span> <span class="tok-builtin">@splat</span>(<span class="tok-number">0</span>);
            <span class="tok-kw">break</span> :blk <span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(len, <a href="std.math.html#std.math.Log2Int">Log2Int</a>(C)), <span class="tok-builtin">@splat</span>(<span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(C), <span class="tok-builtin">@intCast</span>(abs_shift_amt))));
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">if</span> (abs_shift_amt &gt;= <span class="tok-builtin">@typeInfo</span>(T).int.bits) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
            <span class="tok-kw">break</span> :blk <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(T), <span class="tok-builtin">@intCast</span>(abs_shift_amt));
        }
    };

    <span class="tok-kw">if</span> (<span class="tok-builtin">@TypeOf</span>(shift_amt) == <span class="tok-type">comptime_int</span> <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(shift_amt)).int.signedness == .signed) {
        <span class="tok-kw">if</span> (shift_amt &lt; <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> a &gt;&gt; casted_shift_amt;
        }
    }

    <span class="tok-kw">return</span> a &lt;&lt; casted_shift_amt;
}

<span class="tok-kw">test</span> shl {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">3</span>)) == <span class="tok-number">0b11111000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">8</span>)) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">9</span>)) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">2</span>)) == <span class="tok-number">0b00111111</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">3</span>) == <span class="tok-number">0b11111000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">8</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">9</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, -<span class="tok-number">2</span>) == <span class="tok-number">0b00111111</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">42</span>) &lt;&lt; <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">42</span>) &gt;&gt; <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shl">shl</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-number">33</span>)[<span class="tok-number">0</span>] == <span class="tok-number">0</span>);
}

<span class="tok-comment">/// Shifts right. Overflowed bits are truncated.</span>
<span class="tok-comment">/// A negative shift amount results in a left shift.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">shr</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, shift_amt: <span class="tok-kw">anytype</span>) T {
    <span class="tok-kw">const</span> abs_shift_amt = <span class="tok-builtin">@abs</span>(shift_amt);

    <span class="tok-kw">const</span> casted_shift_amt = blk: {
        <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .vector) {
            <span class="tok-kw">const</span> C = <span class="tok-builtin">@typeInfo</span>(T).vector.child;
            <span class="tok-kw">const</span> len = <span class="tok-builtin">@typeInfo</span>(T).vector.len;
            <span class="tok-kw">if</span> (abs_shift_amt &gt;= <span class="tok-builtin">@typeInfo</span>(C).int.bits) <span class="tok-kw">return</span> <span class="tok-builtin">@splat</span>(<span class="tok-number">0</span>);
            <span class="tok-kw">break</span> :blk <span class="tok-builtin">@as</span>(<span class="tok-builtin">@Vector</span>(len, <a href="std.math.html#std.math.Log2Int">Log2Int</a>(C)), <span class="tok-builtin">@splat</span>(<span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(C), <span class="tok-builtin">@intCast</span>(abs_shift_amt))));
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">if</span> (abs_shift_amt &gt;= <span class="tok-builtin">@typeInfo</span>(T).int.bits) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
            <span class="tok-kw">break</span> :blk <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(T), <span class="tok-builtin">@intCast</span>(abs_shift_amt));
        }
    };

    <span class="tok-kw">if</span> (<span class="tok-builtin">@TypeOf</span>(shift_amt) == <span class="tok-type">comptime_int</span> <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(shift_amt)).int.signedness == .signed) {
        <span class="tok-kw">if</span> (shift_amt &lt; <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> a &lt;&lt; casted_shift_amt;
        }
    }

    <span class="tok-kw">return</span> a &gt;&gt; casted_shift_amt;
}

<span class="tok-kw">test</span> shr {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">3</span>)) == <span class="tok-number">0b00011111</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">8</span>)) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">9</span>)) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">2</span>)) == <span class="tok-number">0b11111100</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">3</span>) == <span class="tok-number">0b00011111</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">8</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, <span class="tok-number">9</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b11111111</span>, -<span class="tok-number">2</span>) == <span class="tok-number">0b11111100</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">42</span>) &gt;&gt; <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">42</span>) &lt;&lt; <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.shr">shr</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">42</span>}, <span class="tok-number">33</span>)[<span class="tok-number">0</span>] == <span class="tok-number">0</span>);
}

<span class="tok-comment">/// Rotates right. Only unsigned values can be rotated.  Negative shift</span>
<span class="tok-comment">/// values result in shift modulo the bit count.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">rotr</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, r: <span class="tok-kw">anytype</span>) T {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .vector) {
        <span class="tok-kw">const</span> C = <span class="tok-builtin">@typeInfo</span>(T).vector.child;
        <span class="tok-kw">if</span> (C == <span class="tok-type">u0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;

        <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(C).int.signedness == .signed) {
            <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;cannot rotate signed integers&quot;</span>);
        }
        <span class="tok-kw">const</span> ar: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(C) = <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(C).int.bits));
        <span class="tok-kw">return</span> (x &gt;&gt; <span class="tok-builtin">@splat</span>(ar)) | (x &lt;&lt; <span class="tok-builtin">@splat</span>(<span class="tok-number">1</span> + ~ar));
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T).int.signedness == .signed) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;cannot rotate signed integer&quot;</span>);
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">if</span> (T == <span class="tok-type">u0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;

        <span class="tok-kw">if</span> (<span class="tok-kw">comptime</span> <a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@typeInfo</span>(T).int.bits)) {
            <span class="tok-kw">const</span> ar: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T) = <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(T).int.bits));
            <span class="tok-kw">return</span> x &gt;&gt; ar | x &lt;&lt; (<span class="tok-number">1</span> +% ~ar);
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">const</span> ar = <span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(T).int.bits);
            <span class="tok-kw">return</span> <a href="std.math.html#std.math.shr">shr</a>(T, x, ar) | <a href="std.math.html#std.math.shl">shl</a>(T, x, <span class="tok-builtin">@typeInfo</span>(T).int.bits - ar);
        }
    }
}

<span class="tok-kw">test</span> rotr {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u0</span>, <span class="tok-number">0b0</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">3</span>)) == <span class="tok-number">0b0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u5</span>, <span class="tok-number">0b00001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">0</span>)) == <span class="tok-number">0b00001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u6</span>, <span class="tok-number">0b000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">7</span>)) == <span class="tok-number">0b100000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">0</span>)) == <span class="tok-number">0b00000001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">9</span>)) == <span class="tok-number">0b10000000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">8</span>)) == <span class="tok-number">0b00000001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">4</span>)) == <span class="tok-number">0b00010000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>)) == <span class="tok-number">0b00000010</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-type">u12</span>, <span class="tok-number">0o7777</span>, <span class="tok-number">1</span>) == <span class="tok-number">0o7777</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">1</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>) &lt;&lt; <span class="tok-number">31</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotr">rotr</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">1</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>) &lt;&lt; <span class="tok-number">1</span>);
}

<span class="tok-comment">/// Rotates left. Only unsigned values can be rotated.  Negative shift</span>
<span class="tok-comment">/// values result in shift modulo the bit count.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">rotl</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T, r: <span class="tok-kw">anytype</span>) T {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .vector) {
        <span class="tok-kw">const</span> C = <span class="tok-builtin">@typeInfo</span>(T).vector.child;
        <span class="tok-kw">if</span> (C == <span class="tok-type">u0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;

        <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(C).int.signedness == .signed) {
            <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;cannot rotate signed integers&quot;</span>);
        }
        <span class="tok-kw">const</span> ar: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(C) = <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(C).int.bits));
        <span class="tok-kw">return</span> (x &lt;&lt; <span class="tok-builtin">@splat</span>(ar)) | (x &gt;&gt; <span class="tok-builtin">@splat</span>(<span class="tok-number">1</span> +% ~ar));
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T).int.signedness == .signed) {
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;cannot rotate signed integer&quot;</span>);
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">if</span> (T == <span class="tok-type">u0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;

        <span class="tok-kw">if</span> (<span class="tok-kw">comptime</span> <a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@typeInfo</span>(T).int.bits)) {
            <span class="tok-kw">const</span> ar: <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T) = <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(T).int.bits));
            <span class="tok-kw">return</span> x &lt;&lt; ar | x &gt;&gt; <span class="tok-number">1</span> +% ~ar;
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">const</span> ar = <span class="tok-builtin">@mod</span>(r, <span class="tok-builtin">@typeInfo</span>(T).int.bits);
            <span class="tok-kw">return</span> <a href="std.math.html#std.math.shl">shl</a>(T, x, ar) | <a href="std.math.html#std.math.shr">shr</a>(T, x, <span class="tok-builtin">@typeInfo</span>(T).int.bits - ar);
        }
    }
}

<span class="tok-kw">test</span> rotl {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u0</span>, <span class="tok-number">0b0</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">3</span>)) == <span class="tok-number">0b0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u5</span>, <span class="tok-number">0b00001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">0</span>)) == <span class="tok-number">0b00001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u6</span>, <span class="tok-number">0b000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">7</span>)) == <span class="tok-number">0b000010</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">0</span>)) == <span class="tok-number">0b00000001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">9</span>)) == <span class="tok-number">0b00000010</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">8</span>)) == <span class="tok-number">0b00000001</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">4</span>)) == <span class="tok-number">0b00010000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u8</span>, <span class="tok-number">0b00000001</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>)) == <span class="tok-number">0b10000000</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-type">u12</span>, <span class="tok-number">0o7777</span>, <span class="tok-number">1</span>) == <span class="tok-number">0o7777</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">1</span> &lt;&lt; <span class="tok-number">31</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">usize</span>, <span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.rotl">rotl</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>), <span class="tok-builtin">@Vector</span>(<span class="tok-number">1</span>, <span class="tok-type">u32</span>){<span class="tok-number">1</span> &lt;&lt; <span class="tok-number">31</span>}, <span class="tok-builtin">@as</span>(<span class="tok-type">isize</span>, -<span class="tok-number">1</span>))[<span class="tok-number">0</span>] == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>) &lt;&lt; <span class="tok-number">30</span>);
}

<span class="tok-comment">/// Returns an unsigned int type that can hold the number of bits in T - 1.</span>
<span class="tok-comment">/// Suitable for 0-based bit indices of T.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">Log2Int</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">type</span> {<span class="tok-comment">
    // comptime ceil log2
    </span><span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> <span class="tok-type">comptime_int</span>;
    <span class="tok-kw">const</span> bits: <span class="tok-type">u16</span> = <span class="tok-builtin">@typeInfo</span>(T).int.bits;
    <span class="tok-kw">const</span> log2_bits = <span class="tok-number">16</span> - <span class="tok-builtin">@clz</span>(bits - <span class="tok-number">1</span>);
    <span class="tok-kw">return</span> <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, log2_bits);
}

<span class="tok-comment">/// Returns an unsigned int type that can hold the number of bits in T.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">Log2IntCeil</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">type</span> {<span class="tok-comment">
    // comptime ceil log2
    </span><span class="tok-kw">if</span> (T == <span class="tok-type">comptime_int</span>) <span class="tok-kw">return</span> <span class="tok-type">comptime_int</span>;
    <span class="tok-kw">const</span> bits: <span class="tok-type">u16</span> = <span class="tok-builtin">@typeInfo</span>(T).int.bits;
    <span class="tok-kw">const</span> log2_bits = <span class="tok-number">16</span> - <span class="tok-builtin">@clz</span>(bits);
    <span class="tok-kw">return</span> <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, log2_bits);
}

<span class="tok-comment">/// Returns the smallest integer type that can hold both from and to.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">IntFittingRange</span>(<span class="tok-kw">comptime</span> from: <span class="tok-type">comptime_int</span>, <span class="tok-kw">comptime</span> to: <span class="tok-type">comptime_int</span>) <span class="tok-type">type</span> {
    <a href="std.debug.html#std.debug.assert">assert</a>(from &lt;= to);
    <span class="tok-kw">if</span> (from == <span class="tok-number">0</span> <span class="tok-kw">and</span> to == <span class="tok-number">0</span>) {
        <span class="tok-kw">return</span> <span class="tok-type">u0</span>;
    }
    <span class="tok-kw">const</span> signedness: <a href="std.html">std</a>.<a href="std.builtin.html">builtin</a>.<a href="std.builtin.Signedness.html">Signedness</a> = <span class="tok-kw">if</span> (from &lt; <span class="tok-number">0</span>) .signed <span class="tok-kw">else</span> .unsigned;
    <span class="tok-kw">const</span> largest_positive_integer = <span class="tok-builtin">@max</span>(<span class="tok-kw">if</span> (from &lt; <span class="tok-number">0</span>) (-from) - <span class="tok-number">1</span> <span class="tok-kw">else</span> from, to);<span class="tok-comment"> // two's complement
    </span><span class="tok-kw">const</span> base = <a href="std.math.log2.html#std.math.log2.log2">log2</a>(largest_positive_integer);
    <span class="tok-kw">const</span> upper = (<span class="tok-number">1</span> &lt;&lt; base) - <span class="tok-number">1</span>;
    <span class="tok-kw">var</span> magnitude_bits = <span class="tok-kw">if</span> (upper &gt;= largest_positive_integer) base <span class="tok-kw">else</span> base + <span class="tok-number">1</span>;
    <span class="tok-kw">if</span> (signedness == .signed) {
        magnitude_bits += <span class="tok-number">1</span>;
    }
    <span class="tok-kw">return</span> <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(signedness, magnitude_bits);
}

<span class="tok-kw">test</span> IntFittingRange {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">0</span>) == <span class="tok-type">u0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">1</span>) == <span class="tok-type">u1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">2</span>) == <span class="tok-type">u2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">3</span>) == <span class="tok-type">u2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">4</span>) == <span class="tok-type">u3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">7</span>) == <span class="tok-type">u3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">8</span>) == <span class="tok-type">u4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">9</span>) == <span class="tok-type">u4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">15</span>) == <span class="tok-type">u4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">16</span>) == <span class="tok-type">u5</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">17</span>) == <span class="tok-type">u5</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">4095</span>) == <span class="tok-type">u12</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">2000</span>, <span class="tok-number">4095</span>) == <span class="tok-type">u12</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">4096</span>) == <span class="tok-type">u13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">2000</span>, <span class="tok-number">4096</span>) == <span class="tok-type">u13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">4097</span>) == <span class="tok-type">u13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">2000</span>, <span class="tok-number">4097</span>) == <span class="tok-type">u13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">123456789123456798123456789</span>) == <span class="tok-type">u87</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, <span class="tok-number">123456789123456798123456789123456789123456798123456789</span>) == <span class="tok-type">u177</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, -<span class="tok-number">1</span>) == <span class="tok-type">i1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">0</span>) == <span class="tok-type">i1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">1</span>) == <span class="tok-type">i2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">2</span>, -<span class="tok-number">2</span>) == <span class="tok-type">i2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">2</span>, -<span class="tok-number">1</span>) == <span class="tok-type">i2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">2</span>, <span class="tok-number">0</span>) == <span class="tok-type">i2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">2</span>, <span class="tok-number">1</span>) == <span class="tok-type">i2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">2</span>, <span class="tok-number">2</span>) == <span class="tok-type">i3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">2</span>) == <span class="tok-type">i3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">3</span>) == <span class="tok-type">i3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">4</span>) == <span class="tok-type">i4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">7</span>) == <span class="tok-type">i4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">8</span>) == <span class="tok-type">i5</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">9</span>) == <span class="tok-type">i5</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">15</span>) == <span class="tok-type">i5</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">16</span>) == <span class="tok-type">i6</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">17</span>) == <span class="tok-type">i6</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">4095</span>) == <span class="tok-type">i13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">4096</span>, <span class="tok-number">4095</span>) == <span class="tok-type">i13</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">4096</span>) == <span class="tok-type">i14</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">4097</span>, <span class="tok-number">4095</span>) == <span class="tok-type">i14</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">4097</span>) == <span class="tok-type">i14</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">123456789123456798123456789</span>) == <span class="tok-type">i88</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(-<span class="tok-number">1</span>, <span class="tok-number">123456789123456798123456789123456789123456798123456789</span>) == <span class="tok-type">i178</span>);
}

<span class="tok-kw">test</span> <span class="tok-str">&quot;overflow functions&quot;</span> {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testOverflow">testOverflow</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testOverflow">testOverflow</a>();
}

<span class="tok-kw">fn</span> <span class="tok-fn">testOverflow</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.mul">mul</a>(<span class="tok-type">i32</span>, <span class="tok-number">3</span>, <span class="tok-number">4</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">12</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.add">add</a>(<span class="tok-type">i32</span>, <span class="tok-number">3</span>, <span class="tok-number">4</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">7</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.sub">sub</a>(<span class="tok-type">i32</span>, <span class="tok-number">3</span>, <span class="tok-number">4</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.shlExact">shlExact</a>(<span class="tok-type">i32</span>, <span class="tok-number">0b11</span>, <span class="tok-number">4</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">0b110000</span>);
}

<span class="tok-comment">/// Divide numerator by denominator, rounding toward zero. Returns an</span>
<span class="tok-comment">/// error on overflow or when denominator is zero.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divTrunc</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .int <span class="tok-kw">and</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness == .signed <span class="tok-kw">and</span> numerator == <a href="std.math.html#std.math.minInt">minInt</a>(T) <span class="tok-kw">and</span> denominator == -<span class="tok-number">1</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> <span class="tok-builtin">@divTrunc</span>(numerator, denominator);
}

<span class="tok-kw">test</span> divTrunc {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testDivTrunc">testDivTrunc</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testDivTrunc">testDivTrunc</a>();
}
<span class="tok-kw">fn</span> <span class="tok-fn">testDivTrunc</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divTrunc">divTrunc</a>(<span class="tok-type">i32</span>, <span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divTrunc">divTrunc</a>(<span class="tok-type">i32</span>, -<span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.DivisionByZero, <a href="std.math.html#std.math.divTrunc">divTrunc</a>(<span class="tok-type">i8</span>, -<span class="tok-number">5</span>, <span class="tok-number">0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.html#std.math.divTrunc">divTrunc</a>(<span class="tok-type">i8</span>, -<span class="tok-number">128</span>, -<span class="tok-number">1</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divTrunc">divTrunc</a>(<span class="tok-type">f32</span>, <span class="tok-number">5.0</span>, <span class="tok-number">3.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">1.0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divTrunc">divTrunc</a>(<span class="tok-type">f32</span>, -<span class="tok-number">5.0</span>, <span class="tok-number">3.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">1.0</span>);
}

<span class="tok-comment">/// Divide numerator by denominator, rounding toward negative</span>
<span class="tok-comment">/// infinity. Returns an error on overflow or when denominator is</span>
<span class="tok-comment">/// zero.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divFloor</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .int <span class="tok-kw">and</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness == .signed <span class="tok-kw">and</span> numerator == <a href="std.math.html#std.math.minInt">minInt</a>(T) <span class="tok-kw">and</span> denominator == -<span class="tok-number">1</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">return</span> <span class="tok-builtin">@divFloor</span>(numerator, denominator);
}

<span class="tok-kw">test</span> divFloor {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testDivFloor">testDivFloor</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testDivFloor">testDivFloor</a>();
}
<span class="tok-kw">fn</span> <span class="tok-fn">testDivFloor</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divFloor">divFloor</a>(<span class="tok-type">i32</span>, <span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divFloor">divFloor</a>(<span class="tok-type">i32</span>, -<span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.DivisionByZero, <a href="std.math.html#std.math.divFloor">divFloor</a>(<span class="tok-type">i8</span>, -<span class="tok-number">5</span>, <span class="tok-number">0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.html#std.math.divFloor">divFloor</a>(<span class="tok-type">i8</span>, -<span class="tok-number">128</span>, -<span class="tok-number">1</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divFloor">divFloor</a>(<span class="tok-type">f32</span>, <span class="tok-number">5.0</span>, <span class="tok-number">3.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">1.0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divFloor">divFloor</a>(<span class="tok-type">f32</span>, -<span class="tok-number">5.0</span>, <span class="tok-number">3.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">2.0</span>);
}

<span class="tok-comment">/// Divide numerator by denominator, rounding toward positive</span>
<span class="tok-comment">/// infinity. Returns an error on overflow or when denominator is</span>
<span class="tok-comment">/// zero.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divCeil</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">const</span> info = <span class="tok-builtin">@typeInfo</span>(T);
    <span class="tok-kw">switch</span> (info) {
        .<span class="tok-type">comptime_float</span>, .float =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@ceil</span>(numerator / denominator),
        .<span class="tok-type">comptime_int</span>, .int =&gt; {
            <span class="tok-kw">if</span> (numerator &lt; <span class="tok-number">0</span> <span class="tok-kw">and</span> denominator &lt; <span class="tok-number">0</span>) {
                <span class="tok-kw">if</span> (info == .int <span class="tok-kw">and</span> numerator == <a href="std.math.html#std.math.minInt">minInt</a>(T) <span class="tok-kw">and</span> denominator == -<span class="tok-number">1</span>)
                    <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
                <span class="tok-kw">return</span> <span class="tok-builtin">@divFloor</span>(numerator + <span class="tok-number">1</span>, denominator) + <span class="tok-number">1</span>;
            }
            <span class="tok-kw">if</span> (numerator &gt; <span class="tok-number">0</span> <span class="tok-kw">and</span> denominator &gt; <span class="tok-number">0</span>)
                <span class="tok-kw">return</span> <span class="tok-builtin">@divFloor</span>(numerator - <span class="tok-number">1</span>, denominator) + <span class="tok-number">1</span>;
            <span class="tok-kw">return</span> <span class="tok-builtin">@divTrunc</span>(numerator, denominator);
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;divCeil unsupported on &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    }
}

<span class="tok-kw">test</span> divCeil {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testDivCeil">testDivCeil</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testDivCeil">testDivCeil</a>();
}
<span class="tok-kw">fn</span> <span class="tok-fn">testDivCeil</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">2</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">i32</span>, <span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">i32</span>, -<span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">i32</span>, <span class="tok-number">5</span>, -<span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">2</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">i32</span>, -<span class="tok-number">5</span>, -<span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">i32</span>, <span class="tok-number">0</span>, <span class="tok-number">5</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">u32</span>, <span class="tok-number">0</span>, <span class="tok-number">5</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.DivisionByZero, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">i8</span>, -<span class="tok-number">5</span>, <span class="tok-number">0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">i8</span>, -<span class="tok-number">128</span>, -<span class="tok-number">1</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>, <span class="tok-number">5.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">2.0</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">f32</span>, <span class="tok-number">5.0</span>, <span class="tok-number">3.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">1.0</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">f32</span>, -<span class="tok-number">5.0</span>, <span class="tok-number">3.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">1.0</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">f32</span>, <span class="tok-number">5.0</span>, -<span class="tok-number">3.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">2.0</span>), <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">f32</span>, -<span class="tok-number">5.0</span>, -<span class="tok-number">3.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">6</span>, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">comptime_int</span>, <span class="tok-number">23</span>, <span class="tok-number">4</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(-<span class="tok-number">5</span>, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">comptime_int</span>, -<span class="tok-number">23</span>, <span class="tok-number">4</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(-<span class="tok-number">5</span>, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">comptime_int</span>, <span class="tok-number">23</span>, -<span class="tok-number">4</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">6</span>, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">comptime_int</span>, -<span class="tok-number">23</span>, -<span class="tok-number">4</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.DivisionByZero, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">comptime_int</span>, <span class="tok-number">23</span>, <span class="tok-number">0</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">6.0</span>, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">23.0</span>, <span class="tok-number">4.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(-<span class="tok-number">5.0</span>, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">comptime_float</span>, -<span class="tok-number">23.0</span>, <span class="tok-number">4.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(-<span class="tok-number">5.0</span>, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">23.0</span>, -<span class="tok-number">4.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">6.0</span>, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">comptime_float</span>, -<span class="tok-number">23.0</span>, -<span class="tok-number">4.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.DivisionByZero, <a href="std.math.html#std.math.divCeil">divCeil</a>(<span class="tok-type">comptime_float</span>, <span class="tok-number">23.0</span>, <span class="tok-number">0.0</span>));
}

<span class="tok-comment">/// Divide numerator by denominator. Return an error if quotient is</span>
<span class="tok-comment">/// not an integer, denominator is zero, or on overflow.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">divExact</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) == .int <span class="tok-kw">and</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness == .signed <span class="tok-kw">and</span> numerator == <a href="std.math.html#std.math.minInt">minInt</a>(T) <span class="tok-kw">and</span> denominator == -<span class="tok-number">1</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    <span class="tok-kw">const</span> result = <span class="tok-builtin">@divTrunc</span>(numerator, denominator);
    <span class="tok-kw">if</span> (result * denominator != numerator) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.UnexpectedRemainder;
    <span class="tok-kw">return</span> result;
}

<span class="tok-kw">test</span> divExact {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testDivExact">testDivExact</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testDivExact">testDivExact</a>();
}
<span class="tok-kw">fn</span> <span class="tok-fn">testDivExact</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divExact">divExact</a>(<span class="tok-type">i32</span>, <span class="tok-number">10</span>, <span class="tok-number">5</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divExact">divExact</a>(<span class="tok-type">i32</span>, -<span class="tok-number">10</span>, <span class="tok-number">5</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.DivisionByZero, <a href="std.math.html#std.math.divExact">divExact</a>(<span class="tok-type">i8</span>, -<span class="tok-number">5</span>, <span class="tok-number">0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.html#std.math.divExact">divExact</a>(<span class="tok-type">i8</span>, -<span class="tok-number">128</span>, -<span class="tok-number">1</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.UnexpectedRemainder, <a href="std.math.html#std.math.divExact">divExact</a>(<span class="tok-type">i32</span>, <span class="tok-number">5</span>, <span class="tok-number">2</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divExact">divExact</a>(<span class="tok-type">f32</span>, <span class="tok-number">10.0</span>, <span class="tok-number">5.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">2.0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.divExact">divExact</a>(<span class="tok-type">f32</span>, -<span class="tok-number">10.0</span>, <span class="tok-number">5.0</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">2.0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.UnexpectedRemainder, <a href="std.math.html#std.math.divExact">divExact</a>(<span class="tok-type">f32</span>, <span class="tok-number">5.0</span>, <span class="tok-number">2.0</span>));
}

<span class="tok-comment">/// Returns numerator modulo denominator, or an error if denominator is</span>
<span class="tok-comment">/// zero or negative. Negative numerators never result in negative</span>
<span class="tok-comment">/// return values.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mod</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">if</span> (denominator &lt; <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.NegativeDenominator;
    <span class="tok-kw">return</span> <span class="tok-builtin">@mod</span>(numerator, denominator);
}

<span class="tok-kw">test</span> mod {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testMod">testMod</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testMod">testMod</a>();
}
<span class="tok-kw">fn</span> <span class="tok-fn">testMod</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.mod">mod</a>(<span class="tok-type">i32</span>, -<span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.mod">mod</a>(<span class="tok-type">i32</span>, <span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.NegativeDenominator, <a href="std.math.html#std.math.mod">mod</a>(<span class="tok-type">i32</span>, <span class="tok-number">10</span>, -<span class="tok-number">1</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.DivisionByZero, <a href="std.math.html#std.math.mod">mod</a>(<span class="tok-type">i32</span>, <span class="tok-number">10</span>, <span class="tok-number">0</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.mod">mod</a>(<span class="tok-type">f32</span>, -<span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.mod">mod</a>(<span class="tok-type">f32</span>, <span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.NegativeDenominator, <a href="std.math.html#std.math.mod">mod</a>(<span class="tok-type">f32</span>, <span class="tok-number">10</span>, -<span class="tok-number">1</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.DivisionByZero, <a href="std.math.html#std.math.mod">mod</a>(<span class="tok-type">f32</span>, <span class="tok-number">10</span>, <span class="tok-number">0</span>));
}

<span class="tok-comment">/// Returns the remainder when numerator is divided by denominator, or</span>
<span class="tok-comment">/// an error if denominator is zero or negative. Negative numerators</span>
<span class="tok-comment">/// can give negative results.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">rem</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, numerator: T, denominator: T) !T {
    <span class="tok-builtin">@setRuntimeSafety</span>(<span class="tok-null">false</span>);
    <span class="tok-kw">if</span> (denominator == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.DivisionByZero;
    <span class="tok-kw">if</span> (denominator &lt; <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.NegativeDenominator;
    <span class="tok-kw">return</span> <span class="tok-builtin">@rem</span>(numerator, denominator);
}

<span class="tok-kw">test</span> rem {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testRem">testRem</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testRem">testRem</a>();
}
<span class="tok-kw">fn</span> <span class="tok-fn">testRem</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.rem">rem</a>(<span class="tok-type">i32</span>, -<span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.rem">rem</a>(<span class="tok-type">i32</span>, <span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.NegativeDenominator, <a href="std.math.html#std.math.rem">rem</a>(<span class="tok-type">i32</span>, <span class="tok-number">10</span>, -<span class="tok-number">1</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.DivisionByZero, <a href="std.math.html#std.math.rem">rem</a>(<span class="tok-type">i32</span>, <span class="tok-number">10</span>, <span class="tok-number">0</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.rem">rem</a>(<span class="tok-type">f32</span>, -<span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.rem">rem</a>(<span class="tok-type">f32</span>, <span class="tok-number">5</span>, <span class="tok-number">3</span>) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.NegativeDenominator, <a href="std.math.html#std.math.rem">rem</a>(<span class="tok-type">f32</span>, <span class="tok-number">10</span>, -<span class="tok-number">1</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.DivisionByZero, <a href="std.math.html#std.math.rem">rem</a>(<span class="tok-type">f32</span>, <span class="tok-number">10</span>, <span class="tok-number">0</span>));
}

<span class="tok-comment">/// Returns the negation of the integer parameter.</span>
<span class="tok-comment">/// Result is a signed integer.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">negateCast</span>(x: <span class="tok-kw">anytype</span>) !<a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.signed, <span class="tok-builtin">@bitSizeOf</span>(<span class="tok-builtin">@TypeOf</span>(x))) {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(x)).int.signedness == .signed) <span class="tok-kw">return</span> <a href="std.math.html#std.math.negate">negate</a>(x);

    <span class="tok-kw">const</span> int = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.signed, <span class="tok-builtin">@bitSizeOf</span>(<span class="tok-builtin">@TypeOf</span>(x)));
    <span class="tok-kw">if</span> (x &gt; -<a href="std.math.html#std.math.minInt">minInt</a>(int)) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;

    <span class="tok-kw">if</span> (x == -<a href="std.math.html#std.math.minInt">minInt</a>(int)) <span class="tok-kw">return</span> <a href="std.math.html#std.math.minInt">minInt</a>(int);

    <span class="tok-kw">return</span> -<span class="tok-builtin">@as</span>(int, <span class="tok-builtin">@intCast</span>(x));
}

<span class="tok-kw">test</span> negateCast {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.negateCast">negateCast</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">999</span>)) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == -<span class="tok-number">999</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@TypeOf</span>(<a href="std.math.html#std.math.negateCast">negateCast</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">999</span>)) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-type">i32</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>((<a href="std.math.html#std.math.negateCast">negateCast</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, -<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>))) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@TypeOf</span>(<a href="std.math.html#std.math.negateCast">negateCast</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, -<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>))) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>) == <span class="tok-type">i32</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.html#std.math.negateCast">negateCast</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>) + <span class="tok-number">10</span>)));
}

<span class="tok-comment">/// Cast an integer to a different integer type. If the value doesn't fit,</span>
<span class="tok-comment">/// return null.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">cast</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: <span class="tok-kw">anytype</span>) ?T {
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .int);<span class="tok-comment"> // must pass an integer
    </span><span class="tok-kw">const</span> is_comptime = <span class="tok-builtin">@TypeOf</span>(x) == <span class="tok-type">comptime_int</span>;
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(is_comptime <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(x)) == .int);<span class="tok-comment"> // must pass an integer
    </span><span class="tok-kw">if</span> ((is_comptime <span class="tok-kw">or</span> <a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-builtin">@TypeOf</span>(x)) &gt; <a href="std.math.html#std.math.maxInt">maxInt</a>(T)) <span class="tok-kw">and</span> x &gt; <a href="std.math.html#std.math.maxInt">maxInt</a>(T)) {
        <span class="tok-kw">return</span> <span class="tok-null">null</span>;
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> ((is_comptime <span class="tok-kw">or</span> <a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-builtin">@TypeOf</span>(x)) &lt; <a href="std.math.html#std.math.minInt">minInt</a>(T)) <span class="tok-kw">and</span> x &lt; <a href="std.math.html#std.math.minInt">minInt</a>(T)) {
        <span class="tok-kw">return</span> <span class="tok-null">null</span>;
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@intCast</span>(x));
    }
}

<span class="tok-kw">test</span> cast {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-number">300</span>) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">300</span>)) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">i8</span>, -<span class="tok-number">200</span>) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">i8</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">200</span>)) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, -<span class="tok-number">1</span>) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u64</span>, -<span class="tok-number">1</span>) == <span class="tok-null">null</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u64</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)) == <span class="tok-null">null</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>).? == <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">255</span>)).? == <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@TypeOf</span>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>).?) == <span class="tok-type">u8</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@TypeOf</span>(<a href="std.math.html#std.math.cast">cast</a>(<span class="tok-type">u8</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">255</span>)).?) == <span class="tok-type">u8</span>);
}

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> AlignCastError = <span class="tok-kw">error</span>{UnalignedMemory};

<span class="tok-kw">fn</span> <span class="tok-fn">AlignCastResult</span>(<span class="tok-kw">comptime</span> alignment: <span class="tok-type">u29</span>, <span class="tok-kw">comptime</span> Ptr: <span class="tok-type">type</span>) <span class="tok-type">type</span> {
    <span class="tok-kw">var</span> ptr_info = <span class="tok-builtin">@typeInfo</span>(Ptr);
    ptr_info.pointer.alignment = alignment;
    <span class="tok-kw">return</span> <span class="tok-builtin">@Type</span>(ptr_info);
}

<span class="tok-comment">/// Align cast a pointer but return an error if it's the wrong alignment</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">alignCast</span>(<span class="tok-kw">comptime</span> alignment: <span class="tok-type">u29</span>, ptr: <span class="tok-kw">anytype</span>) <a href="std.math.html#std.math.AlignCastError">AlignCastError</a>!<a href="std.math.html#std.math.AlignCastResult">AlignCastResult</a>(alignment, <span class="tok-builtin">@TypeOf</span>(ptr)) {
    <span class="tok-kw">const</span> addr = <span class="tok-builtin">@intFromPtr</span>(ptr);
    <span class="tok-kw">if</span> (addr % alignment != <span class="tok-number">0</span>) {
        <span class="tok-kw">return</span> <span class="tok-kw">error</span>.UnalignedMemory;
    }
    <span class="tok-kw">return</span> <span class="tok-builtin">@alignCast</span>(ptr);
}

<span class="tok-comment">/// Asserts `int &gt; 0`.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">isPowerOfTwo</span>(int: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <a href="std.debug.html#std.debug.assert">assert</a>(int &gt; <span class="tok-number">0</span>);
    <span class="tok-kw">return</span> (int &amp; (int - <span class="tok-number">1</span>)) == <span class="tok-number">0</span>;
}

<span class="tok-kw">test</span> isPowerOfTwo {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-number">2</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i16</span>, <span class="tok-number">3</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-number">4</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">31</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-number">32</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i64</span>, <span class="tok-number">63</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-number">128</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.isPowerOfTwo">isPowerOfTwo</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u128</span>, <span class="tok-number">256</span>)));
}

<span class="tok-comment">/// Aligns the given integer type bit width to a width divisible by 8.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ByteAlignedInt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">type</span> {
    <span class="tok-kw">const</span> info = <span class="tok-builtin">@typeInfo</span>(T).int;
    <span class="tok-kw">const</span> bits = (info.bits + <span class="tok-number">7</span>) / <span class="tok-number">8</span> * <span class="tok-number">8</span>;
    <span class="tok-kw">const</span> extended_type = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(info.signedness, bits);
    <span class="tok-kw">return</span> extended_type;
}

<span class="tok-kw">test</span> ByteAlignedInt {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">u0</span>) == <span class="tok-type">u0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">i0</span>) == <span class="tok-type">i0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">u3</span>) == <span class="tok-type">u8</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">u8</span>) == <span class="tok-type">u8</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">i111</span>) == <span class="tok-type">i112</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.ByteAlignedInt">ByteAlignedInt</a>(<span class="tok-type">u129</span>) == <span class="tok-type">u136</span>);
}

<span class="tok-comment">/// Rounds the given floating point number to the nearest integer.</span>
<span class="tok-comment">/// If two integers are equally close, rounds away from zero.</span>
<span class="tok-comment">/// Uses a dedicated hardware instruction when available.</span>
<span class="tok-comment">/// This is the same as calling the builtin @round</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">round</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@round</span>(value);
}

<span class="tok-comment">/// Rounds the given floating point number to an integer, towards zero.</span>
<span class="tok-comment">/// Uses a dedicated hardware instruction when available.</span>
<span class="tok-comment">/// This is the same as calling the builtin @trunc</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">trunc</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@trunc</span>(value);
}

<span class="tok-comment">/// Returns the largest integral value not greater than the given floating point number.</span>
<span class="tok-comment">/// Uses a dedicated hardware instruction when available.</span>
<span class="tok-comment">/// This is the same as calling the builtin @floor</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">floor</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@floor</span>(value);
}

<span class="tok-comment">/// Returns the nearest power of two less than or equal to value, or</span>
<span class="tok-comment">/// zero if value is less than or equal to zero.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">floorPowerOfTwo</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T {
    <span class="tok-kw">const</span> uT = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(.unsigned, <span class="tok-builtin">@typeInfo</span>(T).int.bits);
    <span class="tok-kw">if</span> (value &lt;= <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>) &lt;&lt; <a href="std.math.html#std.math.log2_int">log2_int</a>(uT, <span class="tok-builtin">@as</span>(uT, <span class="tok-builtin">@intCast</span>(value)));
}

<span class="tok-kw">test</span> floorPowerOfTwo {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testFloorPowerOfTwo">testFloorPowerOfTwo</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testFloorPowerOfTwo">testFloorPowerOfTwo</a>();
}

<span class="tok-kw">fn</span> <span class="tok-fn">testFloorPowerOfTwo</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">u32</span>, <span class="tok-number">63</span>) == <span class="tok-number">32</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">u32</span>, <span class="tok-number">64</span>) == <span class="tok-number">64</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">u32</span>, <span class="tok-number">65</span>) == <span class="tok-number">64</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">u32</span>, <span class="tok-number">0</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">u4</span>, <span class="tok-number">7</span>) == <span class="tok-number">4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">u4</span>, <span class="tok-number">8</span>) == <span class="tok-number">8</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">u4</span>, <span class="tok-number">9</span>) == <span class="tok-number">8</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">u4</span>, <span class="tok-number">0</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">i4</span>, <span class="tok-number">7</span>) == <span class="tok-number">4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">i4</span>, -<span class="tok-number">8</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">i4</span>, -<span class="tok-number">1</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.floorPowerOfTwo">floorPowerOfTwo</a>(<span class="tok-type">i4</span>, <span class="tok-number">0</span>) == <span class="tok-number">0</span>);
}

<span class="tok-comment">/// Returns the smallest integral value not less than the given floating point number.</span>
<span class="tok-comment">/// Uses a dedicated hardware instruction when available.</span>
<span class="tok-comment">/// This is the same as calling the builtin @ceil</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceil</span>(value: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(value) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@ceil</span>(value);
}

<span class="tok-comment">/// Returns the next power of two (if the value is not already a power of two).</span>
<span class="tok-comment">/// Only unsigned integers can be used. Zero is not an allowed input.</span>
<span class="tok-comment">/// Result is a type with 1 more bit than the input type.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceilPowerOfTwoPromote</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(<span class="tok-builtin">@typeInfo</span>(T).int.signedness, <span class="tok-builtin">@typeInfo</span>(T).int.bits + <span class="tok-number">1</span>) {
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .int);
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T).int.signedness == .unsigned);
    <a href="std.debug.html#std.debug.assert">assert</a>(value != <span class="tok-number">0</span>);
    <span class="tok-kw">const</span> PromotedType = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(<span class="tok-builtin">@typeInfo</span>(T).int.signedness, <span class="tok-builtin">@typeInfo</span>(T).int.bits + <span class="tok-number">1</span>);
    <span class="tok-kw">const</span> ShiftType = <a href="std.html">std</a>.<a href="std.math.html">math</a>.<a href="std.math.html#std.math.Log2Int">Log2Int</a>(PromotedType);
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(PromotedType, <span class="tok-number">1</span>) &lt;&lt; <span class="tok-builtin">@as</span>(ShiftType, <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@typeInfo</span>(T).int.bits - <span class="tok-builtin">@clz</span>(value - <span class="tok-number">1</span>)));
}

<span class="tok-comment">/// Returns the next power of two (if the value is not already a power of two).</span>
<span class="tok-comment">/// Only unsigned integers can be used. Zero is not an allowed input.</span>
<span class="tok-comment">/// If the value doesn't fit, returns an error.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceilPowerOfTwo</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) (<span class="tok-kw">error</span>{Overflow}!T) {
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(<span class="tok-builtin">@typeInfo</span>(T) == .int);
    <span class="tok-kw">const</span> info = <span class="tok-builtin">@typeInfo</span>(T).int;
    <span class="tok-kw">comptime</span> <a href="std.debug.html#std.debug.assert">assert</a>(info.signedness == .unsigned);
    <span class="tok-kw">const</span> PromotedType = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(info.signedness, info.bits + <span class="tok-number">1</span>);
    <span class="tok-kw">const</span> overflowBit = <span class="tok-builtin">@as</span>(PromotedType, <span class="tok-number">1</span>) &lt;&lt; info.bits;
    <span class="tok-kw">const</span> x = <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(T, value);
    <span class="tok-kw">if</span> (overflowBit &amp; x != <span class="tok-number">0</span>) {
        <span class="tok-kw">return</span> <span class="tok-kw">error</span>.Overflow;
    }
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@intCast</span>(x));
}

<span class="tok-comment">/// Returns the next power of two (if the value is not already a power</span>
<span class="tok-comment">/// of two). Only unsigned integers can be used. Zero is not an</span>
<span class="tok-comment">/// allowed input. Asserts that the value fits.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">ceilPowerOfTwoAssert</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T) T {
    <span class="tok-kw">return</span> <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(T, value) <span class="tok-kw">catch</span> <span class="tok-kw">unreachable</span>;
}

<span class="tok-kw">test</span> ceilPowerOfTwoPromote {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testCeilPowerOfTwoPromote">testCeilPowerOfTwoPromote</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testCeilPowerOfTwoPromote">testCeilPowerOfTwoPromote</a>();
}

<span class="tok-kw">fn</span> <span class="tok-fn">testCeilPowerOfTwoPromote</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u33</span>, <span class="tok-number">1</span>), <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u33</span>, <span class="tok-number">2</span>), <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(<span class="tok-type">u32</span>, <span class="tok-number">2</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u33</span>, <span class="tok-number">64</span>), <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(<span class="tok-type">u32</span>, <span class="tok-number">63</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u33</span>, <span class="tok-number">64</span>), <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(<span class="tok-type">u32</span>, <span class="tok-number">64</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u33</span>, <span class="tok-number">128</span>), <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(<span class="tok-type">u32</span>, <span class="tok-number">65</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u6</span>, <span class="tok-number">8</span>), <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(<span class="tok-type">u5</span>, <span class="tok-number">7</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u6</span>, <span class="tok-number">8</span>), <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(<span class="tok-type">u5</span>, <span class="tok-number">8</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u6</span>, <span class="tok-number">16</span>), <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(<span class="tok-type">u5</span>, <span class="tok-number">9</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u5</span>, <span class="tok-number">16</span>), <a href="std.math.html#std.math.ceilPowerOfTwoPromote">ceilPowerOfTwoPromote</a>(<span class="tok-type">u4</span>, <span class="tok-number">9</span>));
}

<span class="tok-kw">test</span> ceilPowerOfTwo {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testCeilPowerOfTwo">testCeilPowerOfTwo</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testCeilPowerOfTwo">testCeilPowerOfTwo</a>();
}

<span class="tok-kw">fn</span> <span class="tok-fn">testCeilPowerOfTwo</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>), <span class="tok-kw">try</span> <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">2</span>), <span class="tok-kw">try</span> <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(<span class="tok-type">u32</span>, <span class="tok-number">2</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">64</span>), <span class="tok-kw">try</span> <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(<span class="tok-type">u32</span>, <span class="tok-number">63</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">64</span>), <span class="tok-kw">try</span> <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(<span class="tok-type">u32</span>, <span class="tok-number">64</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">128</span>), <span class="tok-kw">try</span> <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(<span class="tok-type">u32</span>, <span class="tok-number">65</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u5</span>, <span class="tok-number">8</span>), <span class="tok-kw">try</span> <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(<span class="tok-type">u5</span>, <span class="tok-number">7</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u5</span>, <span class="tok-number">8</span>), <span class="tok-kw">try</span> <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(<span class="tok-type">u5</span>, <span class="tok-number">8</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u5</span>, <span class="tok-number">16</span>), <span class="tok-kw">try</span> <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(<span class="tok-type">u5</span>, <span class="tok-number">9</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectError">expectError</a>(<span class="tok-kw">error</span>.Overflow, <a href="std.math.html#std.math.ceilPowerOfTwo">ceilPowerOfTwo</a>(<span class="tok-type">u4</span>, <span class="tok-number">9</span>));
}

<span class="tok-comment">/// Return the log base 2 of integer value x, rounding down to the</span>
<span class="tok-comment">/// nearest integer.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log2_int</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) <a href="std.math.html#std.math.Log2Int">Log2Int</a>(T) {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) != .int <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness != .unsigned)
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log2_int requires an unsigned integer, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T));
    <a href="std.debug.html#std.debug.assert">assert</a>(x != <span class="tok-number">0</span>);
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.Log2Int">Log2Int</a>(T), <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@typeInfo</span>(T).int.bits - <span class="tok-number">1</span> - <span class="tok-builtin">@clz</span>(x)));
}

<span class="tok-comment">/// Return the log base 2 of integer value x, rounding up to the</span>
<span class="tok-comment">/// nearest integer.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">log2_int_ceil</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, x: T) <a href="std.math.html#std.math.Log2IntCeil">Log2IntCeil</a>(T) {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(T) != .int <span class="tok-kw">or</span> <span class="tok-builtin">@typeInfo</span>(T).int.signedness != .unsigned)
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;log2_int_ceil requires an unsigned integer, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T));
    <a href="std.debug.html#std.debug.assert">assert</a>(x != <span class="tok-number">0</span>);
    <span class="tok-kw">if</span> (x == <span class="tok-number">1</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
    <span class="tok-kw">const</span> log2_val: <a href="std.math.html#std.math.Log2IntCeil">Log2IntCeil</a>(T) = <a href="std.math.html#std.math.log2_int">log2_int</a>(T, x - <span class="tok-number">1</span>);
    <span class="tok-kw">return</span> log2_val + <span class="tok-number">1</span>;
}

<span class="tok-kw">test</span> log2_int_ceil {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">1</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">2</span>) == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">3</span>) == <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">4</span>) == <span class="tok-number">2</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">5</span>) == <span class="tok-number">3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">6</span>) == <span class="tok-number">3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">7</span>) == <span class="tok-number">3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">8</span>) == <span class="tok-number">3</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">9</span>) == <span class="tok-number">4</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.log2_int_ceil">log2_int_ceil</a>(<span class="tok-type">u32</span>, <span class="tok-number">10</span>) == <span class="tok-number">4</span>);
}

<span class="tok-comment">/// Cast a value to a different type. If the value doesn't fit in, or</span>
<span class="tok-comment">/// can't be perfectly represented by, the new type, it will be</span>
<span class="tok-comment">/// converted to the closest possible representation.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">lossyCast</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: <span class="tok-kw">anytype</span>) T {
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .float =&gt; {
            <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(value))) {
                .int =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@floatFromInt</span>(value),
                .float =&gt; <span class="tok-kw">return</span> <span class="tok-builtin">@floatCast</span>(value),
                .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-kw">return</span> value,
                .<span class="tok-type">comptime_float</span> =&gt; <span class="tok-kw">return</span> value,
                <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;bad type&quot;</span>),
            }
        },
        .int =&gt; {
            <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(value))) {
                .int, .<span class="tok-type">comptime_int</span> =&gt; {
                    <span class="tok-kw">if</span> (value &gt;= <a href="std.math.html#std.math.maxInt">maxInt</a>(T)) {
                        <span class="tok-kw">return</span> <a href="std.math.html#std.math.maxInt">maxInt</a>(T);
                    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (value &lt;= <a href="std.math.html#std.math.minInt">minInt</a>(T)) {
                        <span class="tok-kw">return</span> <a href="std.math.html#std.math.minInt">minInt</a>(T);
                    } <span class="tok-kw">else</span> {
                        <span class="tok-kw">return</span> <span class="tok-builtin">@intCast</span>(value);
                    }
                },
                .float, .<span class="tok-type">comptime_float</span> =&gt; {
                    <span class="tok-kw">if</span> (<a href="std.math.isnan.html#std.math.isnan.isNan">isNan</a>(value)) {
                        <span class="tok-kw">return</span> <span class="tok-number">0</span>;
                    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (value &gt;= <a href="std.math.html#std.math.maxInt">maxInt</a>(T)) {
                        <span class="tok-kw">return</span> <a href="std.math.html#std.math.maxInt">maxInt</a>(T);
                    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (value &lt;= <a href="std.math.html#std.math.minInt">minInt</a>(T)) {
                        <span class="tok-kw">return</span> <a href="std.math.html#std.math.minInt">minInt</a>(T);
                    } <span class="tok-kw">else</span> {
                        <span class="tok-kw">return</span> <span class="tok-builtin">@intFromFloat</span>(value);
                    }
                },
                <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;bad type&quot;</span>),
            }
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;bad result type&quot;</span>),
    }
}

<span class="tok-kw">test</span> lossyCast {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">i16</span>, <span class="tok-number">70000.0</span>) == <span class="tok-builtin">@as</span>(<span class="tok-type">i16</span>, <span class="tok-number">32767</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">u32</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">i16</span>, -<span class="tok-number">255</span>)) == <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">i9</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">200</span>)) == <span class="tok-builtin">@as</span>(<span class="tok-type">i9</span>, <span class="tok-number">200</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">u32</span>, <span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u32</span>))) == <a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u32</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.lossyCast">lossyCast</a>(<span class="tok-type">u32</span>, <a href="std.math.float.html#std.math.float.nan">nan</a>(<span class="tok-type">f32</span>)) == <span class="tok-number">0</span>);
}

<span class="tok-comment">/// Performs linear interpolation between *a* and *b* based on *t*.</span>
<span class="tok-comment">/// *t* ranges from 0.0 to 1.0, but may exceed these bounds.</span>
<span class="tok-comment">/// Supports floats and vectors of floats.</span>
<span class="tok-comment">///</span>
<span class="tok-comment">/// This does not guarantee returning *b* if *t* is 1 due to floating-point errors.</span>
<span class="tok-comment">/// This is monotonic.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">lerp</span>(a: <span class="tok-kw">anytype</span>, b: <span class="tok-kw">anytype</span>, t: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(a, b, t) {
    <span class="tok-kw">const</span> Type = <span class="tok-builtin">@TypeOf</span>(a, b, t);
    <span class="tok-kw">return</span> <span class="tok-builtin">@mulAdd</span>(Type, b - a, t, a);
}

<span class="tok-kw">test</span> lerp {
    <span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> == .stage2_c) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;<span class="tok-comment"> // https://github.com/ziglang/zig/issues/17884
    </span><span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.zig_backend">zig_backend</a> == .stage2_x86_64 <span class="tok-kw">and</span>
        !<span class="tok-kw">comptime</span> <a href="std.html">std</a>.<a href="std.Target.html">Target</a>.<a href="std.Target.x86.html">x86</a>.<a href="std.Target.x86.html#std.Target.x86.featureSetHas">featureSetHas</a>(<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.cpu">cpu</a>.<a href="#">features</a>, .fma)) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;<span class="tok-comment"> // https://github.com/ziglang/zig/issues/17884

    </span><span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">75</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-number">50</span>, <span class="tok-number">100</span>, <span class="tok-number">0.5</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">43.75</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-number">50</span>, <span class="tok-number">25</span>, <span class="tok-number">0.25</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, -<span class="tok-number">31.25</span>), <a href="std.math.html#std.math.lerp">lerp</a>(-<span class="tok-number">50</span>, <span class="tok-number">25</span>, <span class="tok-number">0.25</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">30</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-number">10</span>, <span class="tok-number">20</span>, <span class="tok-number">2.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">5</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-number">10</span>, <span class="tok-number">20</span>, -<span class="tok-number">0.5</span>));

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, -<span class="tok-number">7.16067345e+03</span>), <a href="std.math.html#std.math.lerp">lerp</a>(-<span class="tok-number">10000.12345</span>, -<span class="tok-number">5000.12345</span>, <span class="tok-number">0.56789</span>), <span class="tok-number">1e-19</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectApproxEqRel">expectApproxEqRel</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">7.010987590521e+62</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-number">0.123456789e-64</span>, <span class="tok-number">0.123456789e64</span>, <span class="tok-number">0.56789</span>), <span class="tok-number">1e-33</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">0.0</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.0e8</span>), <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">0.0</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">1.0e16</span>), <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.0</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f32</span>, <span class="tok-number">1.0e7</span>), <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">1.0</span>), <a href="std.math.html#std.math.lerp">lerp</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">f64</span>, <span class="tok-number">1.0e15</span>), <span class="tok-number">1.0</span>, <span class="tok-number">1.0</span>));

    {
        <span class="tok-kw">const</span> a: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">0</span>);
        <span class="tok-kw">const</span> b: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">50</span>);
        <span class="tok-kw">const</span> t: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">0.5</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(
            <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f32</span>){ <span class="tok-number">25</span>, <span class="tok-number">25</span>, <span class="tok-number">25</span> },
            <a href="std.math.html#std.math.lerp">lerp</a>(a, b, t),
        );
    }
    {
        <span class="tok-kw">const</span> a: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f64</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">50</span>);
        <span class="tok-kw">const</span> b: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f64</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">100</span>);
        <span class="tok-kw">const</span> t: <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f64</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">0.5</span>);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(
            <span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, <span class="tok-type">f64</span>){ <span class="tok-number">75</span>, <span class="tok-number">75</span>, <span class="tok-number">75</span> },
            <a href="std.math.html#std.math.lerp">lerp</a>(a, b, t),
        );
    }
    {
        <span class="tok-kw">const</span> a: <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">40</span>);
        <span class="tok-kw">const</span> b: <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@splat</span>(<span class="tok-number">80</span>);
        <span class="tok-kw">const</span> t: <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">f32</span>) = <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">f32</span>){ <span class="tok-number">0.25</span>, <span class="tok-number">0.75</span> };
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(
            <span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, <span class="tok-type">f32</span>){ <span class="tok-number">50</span>, <span class="tok-number">70</span> },
            <a href="std.math.html#std.math.lerp">lerp</a>(a, b, t),
        );
    }
}

<span class="tok-comment">/// Returns the maximum value of integer type T.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">maxInt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span> {
    <span class="tok-kw">const</span> info = <span class="tok-builtin">@typeInfo</span>(T);
    <span class="tok-kw">const</span> bit_count = info.int.bits;
    <span class="tok-kw">if</span> (bit_count == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
    <span class="tok-kw">return</span> (<span class="tok-number">1</span> &lt;&lt; (bit_count - <span class="tok-builtin">@intFromBool</span>(info.int.signedness == .signed))) - <span class="tok-number">1</span>;
}

<span class="tok-comment">/// Returns the minimum value of integer type T.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">minInt</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>) <span class="tok-type">comptime_int</span> {
    <span class="tok-kw">const</span> info = <span class="tok-builtin">@typeInfo</span>(T);
    <span class="tok-kw">const</span> bit_count = info.int.bits;
    <span class="tok-kw">if</span> (info.int.signedness == .unsigned) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
    <span class="tok-kw">if</span> (bit_count == <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-number">0</span>;
    <span class="tok-kw">return</span> -(<span class="tok-number">1</span> &lt;&lt; (bit_count - <span class="tok-number">1</span>));
}

<span class="tok-kw">test</span> maxInt {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u0</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u1</span>) == <span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u8</span>) == <span class="tok-number">255</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u16</span>) == <span class="tok-number">65535</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u32</span>) == <span class="tok-number">4294967295</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u64</span>) == <span class="tok-number">18446744073709551615</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">u128</span>) == <span class="tok-number">340282366920938463463374607431768211455</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i0</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i1</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i8</span>) == <span class="tok-number">127</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i16</span>) == <span class="tok-number">32767</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>) == <span class="tok-number">2147483647</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i63</span>) == <span class="tok-number">4611686018427387903</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i64</span>) == <span class="tok-number">9223372036854775807</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i128</span>) == <span class="tok-number">170141183460469231731687303715884105727</span>);
}

<span class="tok-kw">test</span> minInt {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u0</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u1</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u8</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u16</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u32</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u63</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u64</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">u128</span>) == <span class="tok-number">0</span>);

    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i0</span>) == <span class="tok-number">0</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i1</span>) == -<span class="tok-number">1</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i8</span>) == -<span class="tok-number">128</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i16</span>) == -<span class="tok-number">32768</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i32</span>) == -<span class="tok-number">2147483648</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i63</span>) == -<span class="tok-number">4611686018427387904</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i64</span>) == -<span class="tok-number">9223372036854775808</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.minInt">minInt</a>(<span class="tok-type">i128</span>) == -<span class="tok-number">170141183460469231731687303715884105728</span>);
}

<span class="tok-kw">test</span> <span class="tok-str">&quot;max value type&quot;</span> {
    <span class="tok-kw">const</span> x: <span class="tok-type">u32</span> = <a href="std.math.html#std.math.maxInt">maxInt</a>(<span class="tok-type">i32</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(x == <span class="tok-number">2147483647</span>);
}

<span class="tok-comment">/// Multiply a and b. Return type is wide enough to guarantee no</span>
<span class="tok-comment">/// overflow.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">mulWide</span>(<span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, a: T, b: T) <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(
    <span class="tok-builtin">@typeInfo</span>(T).int.signedness,
    <span class="tok-builtin">@typeInfo</span>(T).int.bits * <span class="tok-number">2</span>,
) {
    <span class="tok-kw">const</span> ResultInt = <a href="std.html">std</a>.<a href="std.meta.html">meta</a>.<a href="std.meta.html#std.meta.Int">Int</a>(
        <span class="tok-builtin">@typeInfo</span>(T).int.signedness,
        <span class="tok-builtin">@typeInfo</span>(T).int.bits * <span class="tok-number">2</span>,
    );
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(ResultInt, a) * <span class="tok-builtin">@as</span>(ResultInt, b);
}

<span class="tok-kw">test</span> mulWide {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.mulWide">mulWide</a>(<span class="tok-type">u8</span>, <span class="tok-number">5</span>, <span class="tok-number">5</span>) == <span class="tok-number">25</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.mulWide">mulWide</a>(<span class="tok-type">i8</span>, <span class="tok-number">5</span>, -<span class="tok-number">5</span>) == -<span class="tok-number">25</span>);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.mulWide">mulWide</a>(<span class="tok-type">u8</span>, <span class="tok-number">100</span>, <span class="tok-number">100</span>) == <span class="tok-number">10000</span>);
}

<span class="tok-comment">/// See also `CompareOperator`.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> Order = <span class="tok-kw">enum</span> {
    <span class="tok-comment">/// Greater than (`&gt;`)</span>
    gt,

    <span class="tok-comment">/// Less than (`&lt;`)</span>
    lt,

    <span class="tok-comment">/// Equal (`==`)</span>
    eq,

    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">invert</span>(self: <a href="std.math.Order.html">Order</a>) <a href="std.math.Order.html">Order</a> {
        <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (self) {
            .lt =&gt; .gt,
            .eq =&gt; .eq,
            .gt =&gt; .lt,
        };
    }

    <span class="tok-kw">test</span> invert {
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.Order.html">Order</a>.<a href="std.math.Order.html#std.math.Order.invert">invert</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">0</span>, <span class="tok-number">0</span>)) == .eq);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.Order.html">Order</a>.<a href="std.math.Order.html#std.math.Order.invert">invert</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">1</span>, <span class="tok-number">0</span>)) == .lt);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.Order.html">Order</a>.<a href="std.math.Order.html#std.math.Order.invert">invert</a>(<a href="std.math.html#std.math.order">order</a>(-<span class="tok-number">1</span>, <span class="tok-number">0</span>)) == .gt);
    }

    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">differ</span>(self: <a href="std.math.Order.html">Order</a>) ?<a href="std.math.Order.html">Order</a> {
        <span class="tok-kw">return</span> <span class="tok-kw">if</span> (self != .eq) self <span class="tok-kw">else</span> <span class="tok-null">null</span>;
    }

    <span class="tok-kw">test</span> differ {
        <span class="tok-kw">const</span> neg: <span class="tok-type">i32</span> = -<span class="tok-number">1</span>;
        <span class="tok-kw">const</span> zero: <span class="tok-type">i32</span> = <span class="tok-number">0</span>;
        <span class="tok-kw">const</span> pos: <span class="tok-type">i32</span> = <span class="tok-number">1</span>;
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(zero, neg).differ() <span class="tok-kw">orelse</span>
            <a href="std.math.html#std.math.order">order</a>(pos, zero) == .gt);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(zero, zero).differ() <span class="tok-kw">orelse</span>
            <a href="std.math.html#std.math.order">order</a>(zero, zero) == .eq);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(pos, pos).differ() <span class="tok-kw">orelse</span>
            <a href="std.math.html#std.math.order">order</a>(neg, zero) == .lt);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(zero, zero).differ() <span class="tok-kw">orelse</span>
            <a href="std.math.html#std.math.order">order</a>(pos, neg).differ() <span class="tok-kw">orelse</span>
            <a href="std.math.html#std.math.order">order</a>(neg, zero) == .gt);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(pos, pos).differ() <span class="tok-kw">orelse</span>
            <a href="std.math.html#std.math.order">order</a>(pos, pos).differ() <span class="tok-kw">orelse</span>
            <a href="std.math.html#std.math.order">order</a>(neg, neg) == .eq);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(zero, pos).differ() <span class="tok-kw">orelse</span>
            <a href="std.math.html#std.math.order">order</a>(neg, pos).differ() <span class="tok-kw">orelse</span>
            <a href="std.math.html#std.math.order">order</a>(pos, neg) == .lt);
    }

    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">compare</span>(self: <a href="std.math.Order.html">Order</a>, op: <a href="std.math.CompareOperator.html">CompareOperator</a>) <span class="tok-type">bool</span> {
        <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (self) {
            .lt =&gt; <span class="tok-kw">switch</span> (op) {
                .lt =&gt; <span class="tok-null">true</span>,
                .lte =&gt; <span class="tok-null">true</span>,
                .eq =&gt; <span class="tok-null">false</span>,
                .gte =&gt; <span class="tok-null">false</span>,
                .gt =&gt; <span class="tok-null">false</span>,
                .neq =&gt; <span class="tok-null">true</span>,
            },
            .eq =&gt; <span class="tok-kw">switch</span> (op) {
                .lt =&gt; <span class="tok-null">false</span>,
                .lte =&gt; <span class="tok-null">true</span>,
                .eq =&gt; <span class="tok-null">true</span>,
                .gte =&gt; <span class="tok-null">true</span>,
                .gt =&gt; <span class="tok-null">false</span>,
                .neq =&gt; <span class="tok-null">false</span>,
            },
            .gt =&gt; <span class="tok-kw">switch</span> (op) {
                .lt =&gt; <span class="tok-null">false</span>,
                .lte =&gt; <span class="tok-null">false</span>,
                .eq =&gt; <span class="tok-null">false</span>,
                .gte =&gt; <span class="tok-null">true</span>,
                .gt =&gt; <span class="tok-null">true</span>,
                .neq =&gt; <span class="tok-null">true</span>,
            },
        };
    }<span class="tok-comment">

    // https://github.com/ziglang/zig/issues/19295
    </span><span class="tok-kw">test</span> <span class="tok-str">&quot;compare&quot;</span> {
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(-<span class="tok-number">1</span>, <span class="tok-number">0</span>).compare(.lt));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(-<span class="tok-number">1</span>, <span class="tok-number">0</span>).compare(.lte));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">0</span>, <span class="tok-number">0</span>).compare(.lte));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">0</span>, <span class="tok-number">0</span>).compare(.eq));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">0</span>, <span class="tok-number">0</span>).compare(.gte));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">1</span>, <span class="tok-number">0</span>).compare(.gte));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">1</span>, <span class="tok-number">0</span>).compare(.gt));
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">1</span>, <span class="tok-number">0</span>).compare(.neq));
    }
};

<span class="tok-comment">/// Given two numbers, this function returns the order they are with respect to each other.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">order</span>(a: <span class="tok-kw">anytype</span>, b: <span class="tok-kw">anytype</span>) <a href="std.math.Order.html">Order</a> {
    <span class="tok-kw">if</span> (a == b) {
        <span class="tok-kw">return</span> .eq;
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (a &lt; b) {
        <span class="tok-kw">return</span> .lt;
    } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (a &gt; b) {
        <span class="tok-kw">return</span> .gt;
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">unreachable</span>;
    }
}

<span class="tok-comment">/// See also `Order`.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> CompareOperator = <span class="tok-kw">enum</span> {
    <span class="tok-comment">/// Less than (`&lt;`)</span>
    lt,
    <span class="tok-comment">/// Less than or equal (`&lt;=`)</span>
    lte,
    <span class="tok-comment">/// Equal (`==`)</span>
    eq,
    <span class="tok-comment">/// Greater than or equal (`&gt;=`)</span>
    gte,
    <span class="tok-comment">/// Greater than (`&gt;`)</span>
    gt,
    <span class="tok-comment">/// Not equal (`!=`)</span>
    neq,

    <span class="tok-comment">/// Reverse the direction of the comparison.</span>
    <span class="tok-comment">/// Use when swapping the left and right hand operands.</span>
    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">reverse</span>(op: <a href="std.math.CompareOperator.html">CompareOperator</a>) <a href="std.math.CompareOperator.html">CompareOperator</a> {
        <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (op) {
            .lt =&gt; .gt,
            .lte =&gt; .gte,
            .gt =&gt; .lt,
            .gte =&gt; .lte,
            .eq =&gt; .eq,
            .neq =&gt; .neq,
        };
    }

    <span class="tok-kw">test</span> reverse {
        <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (<span class="tok-builtin">@typeInfo</span>(<a href="std.math.CompareOperator.html">CompareOperator</a>).@&quot;enum&quot;.fields) |op_field| {
            <span class="tok-kw">const</span> op = <span class="tok-builtin">@as</span>(<a href="std.math.CompareOperator.html">CompareOperator</a>, <span class="tok-builtin">@enumFromInt</span>(op_field.value));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-number">2</span>, op, <span class="tok-number">3</span>) == <a href="std.math.html#std.math.compare">compare</a>(<span class="tok-number">3</span>, op.reverse(), <span class="tok-number">2</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-number">3</span>, op, <span class="tok-number">3</span>) == <a href="std.math.html#std.math.compare">compare</a>(<span class="tok-number">3</span>, op.reverse(), <span class="tok-number">3</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-number">4</span>, op, <span class="tok-number">3</span>) == <a href="std.math.html#std.math.compare">compare</a>(<span class="tok-number">3</span>, op.reverse(), <span class="tok-number">4</span>));
        }
    }
};

<span class="tok-comment">/// This function does the same thing as comparison operators, however the</span>
<span class="tok-comment">/// operator is a runtime-known enum value. Works on any operands that</span>
<span class="tok-comment">/// support comparison operators.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">compare</span>(a: <span class="tok-kw">anytype</span>, op: <a href="std.math.CompareOperator.html">CompareOperator</a>, b: <span class="tok-kw">anytype</span>) <span class="tok-type">bool</span> {
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (op) {
        .lt =&gt; a &lt; b,
        .lte =&gt; a &lt;= b,
        .eq =&gt; a == b,
        .neq =&gt; a != b,
        .gt =&gt; a &gt; b,
        .gte =&gt; a &gt;= b,
    };
}

<span class="tok-kw">test</span> compare {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>), .lt, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, <span class="tok-number">2</span>), .gt, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>), .gte, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>), .gt, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>), .lte, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>), .lt, <span class="tok-builtin">@as</span>(<span class="tok-type">u9</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>), .gte, <span class="tok-builtin">@as</span>(<span class="tok-type">u9</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u9</span>, <span class="tok-number">255</span>), .gt, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u9</span>, <span class="tok-number">255</span>), .lte, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i9</span>, -<span class="tok-number">1</span>), .lt, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i9</span>, -<span class="tok-number">1</span>), .gte, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>), .gt, <span class="tok-builtin">@as</span>(<span class="tok-type">i9</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>), .lte, <span class="tok-builtin">@as</span>(<span class="tok-type">i9</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">1</span>), .lt, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">2</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-builtin">@bitCast</span>(<span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>))) == <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(!<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">255</span>), .eq, <span class="tok-builtin">@as</span>(<span class="tok-type">i8</span>, -<span class="tok-number">1</span>)));
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.compare">compare</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">1</span>), .eq, <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-number">1</span>)));
}

<span class="tok-kw">test</span> order {
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">0</span>, <span class="tok-number">0</span>) == .eq);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(<span class="tok-number">1</span>, <span class="tok-number">0</span>) == .gt);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(<a href="std.math.html#std.math.order">order</a>(-<span class="tok-number">1</span>, <span class="tok-number">0</span>) == .lt);
}

<span class="tok-comment">/// Returns a mask of all ones if value is true,</span>
<span class="tok-comment">/// and a mask of all zeroes if value is false.</span>
<span class="tok-comment">/// Compiles to one instruction for register sized integers.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">boolMask</span>(<span class="tok-kw">comptime</span> MaskInt: <span class="tok-type">type</span>, value: <span class="tok-type">bool</span>) MaskInt {
    <span class="tok-kw">if</span> (<span class="tok-builtin">@typeInfo</span>(MaskInt) != .int)
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;boolMask requires an integer mask type.&quot;</span>);

    <span class="tok-kw">if</span> (MaskInt == <span class="tok-type">u0</span> <span class="tok-kw">or</span> MaskInt == <span class="tok-type">i0</span>)
        <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;boolMask cannot convert to u0 or i0, they are too small.&quot;</span>);<span class="tok-comment">

    // The u1 and i1 cases tend to overflow,
    // so we special case them here.
    </span><span class="tok-kw">if</span> (MaskInt == <span class="tok-type">u1</span>) <span class="tok-kw">return</span> <span class="tok-builtin">@intFromBool</span>(value);
    <span class="tok-kw">if</span> (MaskInt == <span class="tok-type">i1</span>) {<span class="tok-comment">
        // The @as here is a workaround for #7950
        </span><span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<span class="tok-type">i1</span>, <span class="tok-builtin">@bitCast</span>(<span class="tok-builtin">@as</span>(<span class="tok-type">u1</span>, <span class="tok-builtin">@intFromBool</span>(value))));
    }

    <span class="tok-kw">return</span> -%<span class="tok-builtin">@as</span>(MaskInt, <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@intFromBool</span>(value)));
}

<span class="tok-kw">test</span> boolMask {
    <span class="tok-kw">const</span> runTest = <span class="tok-kw">struct</span> {
        <span class="tok-kw">fn</span> <span class="tok-fn">runTest</span>() !<span class="tok-type">void</span> {
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u1</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u1</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u1</span>, <span class="tok-number">1</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u1</span>, <span class="tok-null">true</span>));

            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i1</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i1</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i1</span>, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i1</span>, <span class="tok-null">true</span>));

            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u13</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u13</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u13</span>, <span class="tok-number">0x1FFF</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u13</span>, <span class="tok-null">true</span>));

            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i13</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i13</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i13</span>, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i13</span>, <span class="tok-null">true</span>));

            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u32</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">0xFFFF_FFFF</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">u32</span>, <span class="tok-null">true</span>));

            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, <span class="tok-number">0</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i32</span>, <span class="tok-null">false</span>));
            <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(<span class="tok-type">i32</span>, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.boolMask">boolMask</a>(<span class="tok-type">i32</span>, <span class="tok-null">true</span>));
        }
    }.runTest;
    <span class="tok-kw">try</span> runTest();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> runTest();
}

<span class="tok-comment">/// Return the mod of `num` with the smallest integer type</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">comptimeMod</span>(num: <span class="tok-kw">anytype</span>, <span class="tok-kw">comptime</span> denom: <span class="tok-type">comptime_int</span>) <a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, denom - <span class="tok-number">1</span>) {
    <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<a href="std.math.html#std.math.IntFittingRange">IntFittingRange</a>(<span class="tok-number">0</span>, denom - <span class="tok-number">1</span>), <span class="tok-builtin">@intCast</span>(<span class="tok-builtin">@mod</span>(num, denom)));
}

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> F80 = <span class="tok-kw">struct</span> {
    fraction: <span class="tok-type">u64</span>,
    exp: <span class="tok-type">u16</span>,

    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">toFloat</span>(self: <a href="std.math.F80.html">F80</a>) <span class="tok-type">f80</span> {
        <span class="tok-kw">const</span> int = (<span class="tok-builtin">@as</span>(<span class="tok-type">u80</span>, self.exp) &lt;&lt; <span class="tok-number">64</span>) | self.fraction;
        <span class="tok-kw">return</span> <span class="tok-builtin">@as</span>(<span class="tok-type">f80</span>, <span class="tok-builtin">@bitCast</span>(int));
    }

    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">fromFloat</span>(x: <span class="tok-type">f80</span>) <a href="std.math.F80.html">F80</a> {
        <span class="tok-kw">const</span> int = <span class="tok-builtin">@as</span>(<span class="tok-type">u80</span>, <span class="tok-builtin">@bitCast</span>(x));
        <span class="tok-kw">return</span> .{
            .fraction = <span class="tok-builtin">@as</span>(<span class="tok-type">u64</span>, <span class="tok-builtin">@truncate</span>(int)),
            .exp = <span class="tok-builtin">@as</span>(<span class="tok-type">u16</span>, <span class="tok-builtin">@truncate</span>(int &gt;&gt; <span class="tok-number">64</span>)),
        };
    }
};

<span class="tok-comment">/// Returns -1, 0, or 1.</span>
<span class="tok-comment">/// Supports integer and float types and vectors of integer and float types.</span>
<span class="tok-comment">/// Unsigned integer types will always return 0 or 1.</span>
<span class="tok-comment">/// Branchless.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">inline</span> <span class="tok-kw">fn</span> <span class="tok-fn">sign</span>(i: <span class="tok-kw">anytype</span>) <span class="tok-builtin">@TypeOf</span>(i) {
    <span class="tok-kw">const</span> T = <span class="tok-builtin">@TypeOf</span>(i);
    <span class="tok-kw">return</span> <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .int, .<span class="tok-type">comptime_int</span> =&gt; <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@intFromBool</span>(i &gt; <span class="tok-number">0</span>)) - <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@intFromBool</span>(i &lt; <span class="tok-number">0</span>)),
        .float, .<span class="tok-type">comptime_float</span> =&gt; <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@floatFromInt</span>(<span class="tok-builtin">@intFromBool</span>(i &gt; <span class="tok-number">0</span>))) - <span class="tok-builtin">@as</span>(T, <span class="tok-builtin">@floatFromInt</span>(<span class="tok-builtin">@intFromBool</span>(i &lt; <span class="tok-number">0</span>))),
        .vector =&gt; |vinfo| blk: {
            <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(vinfo.child)) {
                .int, .float =&gt; {
                    <span class="tok-kw">const</span> zero: T = <span class="tok-builtin">@splat</span>(<span class="tok-number">0</span>);
                    <span class="tok-kw">const</span> one: T = <span class="tok-builtin">@splat</span>(<span class="tok-number">1</span>);
                    <span class="tok-kw">break</span> :blk <span class="tok-builtin">@select</span>(vinfo.child, i &gt; zero, one, zero) - <span class="tok-builtin">@select</span>(vinfo.child, i &lt; zero, one, zero);
                },
                <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Expected vector of ints or floats, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
            }
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Expected an int, float or vector of one, found &quot;</span> ++ <span class="tok-builtin">@typeName</span>(T)),
    };
}

<span class="tok-kw">fn</span> <span class="tok-fn">testSign</span>() !<span class="tok-type">void</span> {<span class="tok-comment">
    // each of the following blocks checks the inputs
    // 2, -2, 0, { 2, -2, 0 } provide expected output
    // 1, -1, 0, { 1, -1, 0 } for the given T
    // (negative values omitted for unsigned types)
    </span>{
        <span class="tok-kw">const</span> T = <span class="tok-type">i8</span>;
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">1</span>, -<span class="tok-number">1</span>, <span class="tok-number">0</span> }, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">2</span>, -<span class="tok-number">2</span>, <span class="tok-number">0</span> }));
    }
    {
        <span class="tok-kw">const</span> T = <span class="tok-type">i32</span>;
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">1</span>, -<span class="tok-number">1</span>, <span class="tok-number">0</span> }, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">2</span>, -<span class="tok-number">2</span>, <span class="tok-number">0</span> }));
    }
    {
        <span class="tok-kw">const</span> T = <span class="tok-type">i64</span>;
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">1</span>, -<span class="tok-number">1</span>, <span class="tok-number">0</span> }, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">2</span>, -<span class="tok-number">2</span>, <span class="tok-number">0</span> }));
    }
    {
        <span class="tok-kw">const</span> T = <span class="tok-type">u8</span>;
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, T){ <span class="tok-number">1</span>, <span class="tok-number">0</span> }, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, T){ <span class="tok-number">2</span>, <span class="tok-number">0</span> }));
    }
    {
        <span class="tok-kw">const</span> T = <span class="tok-type">u32</span>;
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, T){ <span class="tok-number">1</span>, <span class="tok-number">0</span> }, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, T){ <span class="tok-number">2</span>, <span class="tok-number">0</span> }));
    }
    {
        <span class="tok-kw">const</span> T = <span class="tok-type">u64</span>;
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, T){ <span class="tok-number">1</span>, <span class="tok-number">0</span> }, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">2</span>, T){ <span class="tok-number">2</span>, <span class="tok-number">0</span> }));
    }
    {
        <span class="tok-kw">const</span> T = <span class="tok-type">f16</span>;
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">1</span>, -<span class="tok-number">1</span>, <span class="tok-number">0</span> }, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">2</span>, -<span class="tok-number">2</span>, <span class="tok-number">0</span> }));
    }
    {
        <span class="tok-kw">const</span> T = <span class="tok-type">f32</span>;
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">1</span>, -<span class="tok-number">1</span>, <span class="tok-number">0</span> }, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">2</span>, -<span class="tok-number">2</span>, <span class="tok-number">0</span> }));
    }
    {
        <span class="tok-kw">const</span> T = <span class="tok-type">f64</span>;
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">1</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, -<span class="tok-number">2</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>), <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@as</span>(T, <span class="tok-number">0</span>)));
        <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">1</span>, -<span class="tok-number">1</span>, <span class="tok-number">0</span> }, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-builtin">@Vector</span>(<span class="tok-number">3</span>, T){ <span class="tok-number">2</span>, -<span class="tok-number">2</span>, <span class="tok-number">0</span> }));
    }<span class="tok-comment">

    // comptime_int
    </span><span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(-<span class="tok-number">1</span>, <a href="std.math.html#std.math.sign">sign</a>(-<span class="tok-number">10</span>));
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">1</span>, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-number">10</span>));
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">0</span>, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-number">0</span>));<span class="tok-comment">
    // comptime_float
    </span><span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(-<span class="tok-number">1.0</span>, <a href="std.math.html#std.math.sign">sign</a>(-<span class="tok-number">10.0</span>));
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">1.0</span>, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-number">10.0</span>));
    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqual">expectEqual</a>(<span class="tok-number">0.0</span>, <a href="std.math.html#std.math.sign">sign</a>(<span class="tok-number">0.0</span>));
}

<span class="tok-kw">test</span> sign {
    <span class="tok-kw">try</span> <a href="std.math.html#std.math.testSign">testSign</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.math.html#std.math.testSign">testSign</a>();
}</code></pre></details></div></div></section>
    <div class="sectSearchResults hidden">
      <h2>Search Results</h2>
      <ul class="listSearchResults"></ul>
    </div>
    <div class="sectSearchNoResults hidden">
      <h2>No Results Found</h2>
      <p>Press escape to exit search and then '?' to see more options.</p>
    </div>
    <div id="helpDialog" class="hidden">
      <h1>Keyboard Shortcuts</h1>
      <dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd></dl>
      <dl><dt><kbd>Esc</kbd></dt><dd>Clear focus; close this dialog</dd></dl>
      <dl><dt><kbd>s</kbd></dt><dd>Focus the search field</dd></dl>
      <dl><dt><kbd>u</kbd></dt><dd>Go to source code</dd></dl>
      <dl><dt><kbd></kbd></dt><dd>Move up in search results</dd></dl>
      <dl><dt><kbd></kbd></dt><dd>Move down in search results</dd></dl>
      <dl><dt><kbd></kbd></dt><dd>Go to active search result</dd></dl>
    </div>
    <div id="errors" class="hidden">
      <h1>Errors</h1>
      <pre id="errorsText"></pre>
    </div>
    <script src="main.js"></script>
  </body>
</html>
