<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zig Documentation</title>
    <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTMgMTQwIj48ZyBmaWxsPSIjRjdBNDFEIj48Zz48cG9seWdvbiBwb2ludHM9IjQ2LDIyIDI4LDQ0IDE5LDMwIi8+PHBvbHlnb24gcG9pbnRzPSI0NiwyMiAzMywzMyAyOCw0NCAyMiw0NCAyMiw5NSAzMSw5NSAyMCwxMDAgMTIsMTE3IDAsMTE3IDAsMjIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMzEsOTUgMTIsMTE3IDQsMTA2Ii8+PC9nPjxnPjxwb2x5Z29uIHBvaW50cz0iNTYsMjIgNjIsMzYgMzcsNDQiLz48cG9seWdvbiBwb2ludHM9IjU2LDIyIDExMSwyMiAxMTEsNDQgMzcsNDQgNTYsMzIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTE2LDk1IDk3LDExNyA5MCwxMDQiLz48cG9seWdvbiBwb2ludHM9IjExNiw5NSAxMDAsMTA0IDk3LDExNyA0MiwxMTcgNDIsOTUiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTUwLDAgNTIsMTE3IDMsMTQwIDEwMSwyMiIvPjwvZz48Zz48cG9seWdvbiBwb2ludHM9IjE0MSwyMiAxNDAsNDAgMTIyLDQ1Ii8+PHBvbHlnb24gcG9pbnRzPSIxNTMsMjIgMTUzLDExNyAxMDYsMTE3IDEyMCwxMDUgMTI1LDk1IDEzMSw5NSAxMzEsNDUgMTIyLDQ1IDEzMiwzNiAxNDEsMjIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTI1LDk1IDEzMCwxMTAgMTA2LDExNyIvPjwvZz48L2c+PC9zdmc+">
    <style type="text/css">
      *, *::before, *::after {
        box-sizing: border-box;
      }
      body {
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        font-size: 16px;
        color: #000000;
      }
      .hidden {
        display: none;
      }
      table {
        width: 100%;
      }
      a {
        color: #2A6286;
      }
      details summary {
        cursor: pointer;
      }
      pre {
        font-family: "Source Code Pro",monospace;
        font-size: 1rem;
        background-color: #F5F5F5;
        padding: 1rem;
        margin: 0;
        overflow-x: auto;
      }
      :not(pre) > code {
        white-space: break-spaces;
      }
      code, code a {
        font-family: "Source Code Pro", monospace;
        font-size: 0.9rem;
      }
      code a {
        color: #000000;
      }
      .listFields > div, .listParams > div {
        margin-bottom: 1rem;
      }
      .declHeader a {
        font-size: 0.7rem;
        padding-left: 1rem;
      }
      .declHeader .declHeaderIdentifier {
        padding-left: 0.75rem;
      }
      .fieldDocs {
        border: 1px solid #F5F5F5;
        border-top: 0px;
        padding: 1px 1rem;
      }

      #logo {
        width: 8rem;
        padding: 0.5rem 1rem;
      }

      #navWrap {
        width: -moz-available;
        width: -webkit-fill-available;
        width: stretch;
        margin-left: 11rem;
      }

      #search {
        width: 100%;
      }

      nav {
        width: 10rem;
        float: left;
      }
      nav h2 {
        font-size: 1.2rem;
        text-decoration: underline;
        margin: 0;
        padding: 0.5rem 0;
        text-align: center;
      }
      nav p {
        margin: 0;
        padding: 0;
        text-align: center;
      }
      section {
        clear: both;
        padding-top: 1rem;
      }
      section .declHeader {
        font-size: 1.3rem;
        border-bottom: 1px dashed;
        margin: 0 0;
      }
      section .sectionHeader {
        font-size: 1.3rem;
        margin: 0.5rem 0;
        padding: 0;
        border-bottom: 1px solid;
      }
      #listNav {
        list-style-type: none;
        margin: 0.5rem 0 0 0;
        padding: 0;
        overflow: hidden;
        background-color: #f1f1f1;
      }
      #listNav li {
        float:left;
      }
      #listNav li a {
        display: block;
        color: #000;
        text-align: center;
        padding: .5rem .8rem;
        text-decoration: none;
      }
      #listNav li a:hover {
        background-color: #555;
        color: #fff;
      }
      #listNav li a.active {
        background-color: #FFBB4D;
        color: #000;
      }
      .sectSource {
        margin-bottom: 2rem;
      }

      #helpDialog {
        width: 21rem;
        height: 21rem;
        position: fixed;
        top: 0;
        left: 0;
        background-color: #333;
        color: #fff;
        border: 1px solid #fff;
      }
      #helpDialog h1 {
        text-align: center;
        font-size: 1.5rem;
      }
      #helpDialog dt, #helpDialog dd {
        display: inline;
        margin: 0 0.2rem;
      }
      kbd {
        color: #000;
        background-color: #fafbfc;
        border-color: #d1d5da;
        border-bottom-color: #c6cbd1;
        box-shadow-color: #c6cbd1;
        display: inline-block;
        padding: 0.3rem 0.2rem;
        font: 1.2rem monospace;
        line-height: 0.8rem;
        vertical-align: middle;
        border: solid 1px;
        border-radius: 3px;
        box-shadow: inset 0 -1px 0;
        cursor: default;
      }

      #errors {
        background-color: #faa;
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        max-height: min(20rem, 50vh);
        padding: 0.5rem;
        overflow: auto;
      }
      #errors h1 {
        font-size: 1.5rem;
      }
      #errors pre {
        background-color: #fcc;
      }
      
      .decl .decl {
        padding-left: 1rem;
        border-left: 4px solid;
        border-color: #555;
      }

      .listSearchResults li.selected {
        background-color: #93e196;
      }

      .tableFnErrors dt {
        font-weight: bold;
      }

      dl > div {
          padding: 0.5rem;
          border: 1px solid #c0c0c0;
          margin-top: 0.5rem;
      }

      td, th {
        text-align: unset;
        vertical-align: top;
        margin: 0;
        padding: 0.5rem;
        max-width: 20rem;
        text-overflow: ellipsis;
        overflow-x: hidden;
      }

      ul.columns {
        column-width: 20rem;
      }

      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #0086b3;
      }
      .tok-comment {
          color: #777;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #008080;
      }
      .tok-number {
          color: #008080;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }

      @media (prefers-color-scheme: dark) {
        body {
          background-color: #111;
          color: #bbb;
        }
        pre {
          background-color: #222;
          color: #ccc;
        }
        a {
          color: #88f;
        }
        code a {
          color: #ccc;
        }
        .fieldDocs {
          border-color:#2A2A2A;
        }
        #listNav {
          background-color: #333;
        }
        #listNav li a {
          color: #fff;
        }
        #listNav li a:hover {
          background-color: #555;
          color: #fff;
        }
        #listNav li a.active {
          background-color: #FFBB4D;
          color: #000;
        }
        .listSearchResults li.selected {
          background-color: #000;
        }
        .listSearchResults li.selected a {
          color: #fff;
        }
        #errors {
          background-color: #800;
          color: #fff;
        }
        #errors pre {
          background-color: #a00;
          color: #fff;
        }
        dl > div {
          border-color: #373737;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #B1A0F8;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
      }
    </style>
  </head>
  <body>
    <nav>
      <a class="logo" href="#">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 140">
        <g fill="#F7A41D">
          <g>
            <polygon points="46,22 28,44 19,30"/>
            <polygon points="46,22 33,33 28,44 22,44 22,95 31,95 20,100 12,117 0,117 0,22" shape-rendering="crispEdges"/>
            <polygon points="31,95 12,117 4,106"/>
          </g>
          <g>
            <polygon points="56,22 62,36 37,44"/>
            <polygon points="56,22 111,22 111,44 37,44 56,32" shape-rendering="crispEdges"/>
            <polygon points="116,95 97,117 90,104"/>
            <polygon points="116,95 100,104 97,117 42,117 42,95" shape-rendering="crispEdges"/>
            <polygon points="150,0 52,117 3,140 101,22"/>
          </g>
          <g>
            <polygon points="141,22 140,40 122,45"/>
            <polygon points="153,22 153,117 106,117 120,105 125,95 131,95 131,45 122,45 132,36 141,22" shape-rendering="crispEdges"/>
            <polygon points="125,95 130,110 106,117"/>
          </g>
        </g>
        <style>
        #text { fill: #121212 }
        @media (prefers-color-scheme: dark) { #text { fill: #f2f2f2 } }
        </style>
        <g id="text">
          <g>
            <polygon points="260,22 260,37 229,40 177,40 177,22" shape-rendering="crispEdges"/>
            <polygon points="260,37 207,99 207,103 176,103 229,40 229,37"/>
            <polygon points="261,99 261,117 176,117 176,103 206,99" shape-rendering="crispEdges"/>
          </g>
          <rect x="272" y="22" shape-rendering="crispEdges" width="22" height="95"/>
          <g>
            <polygon points="394,67 394,106 376,106 376,81 360,70 346,67" shape-rendering="crispEdges"/>
            <polygon points="360,68 376,81 346,67"/>
            <path d="M394,106c-10.2,7.3-24,12-37.7,12c-29,0-51.1-20.8-51.1-48.3c0-27.3,22.5-48.1,52-48.1    c14.3,0,29.2,5.5,38.9,14l-13,15c-7.1-6.3-16.8-10-25.9-10c-17,0-30.2,12.9-30.2,29.5c0,16.8,13.3,29.6,30.3,29.6    c5.7,0,12.8-2.3,19-5.5L394,106z"/>
          </g>
        </g>
        </svg>
      </a>
    </nav>
    <div id="navWrap">
      <input disabled type="search" id="search" autocomplete="off" spellcheck="false" placeholder="`s` to search, `?` to see more options">
      <div id="sectNav"><ul id="listNav"><li><a href="#" class="">std</a></li><li><a href="std.base64.html" class="active">base64</a></li></ul></div>
    </div>
    <section><div class="decl"><h1 id="std.base64" class="declHeader"><span class="declHeaderCategory">struct</span><span class="declHeaderIdentifier">std.base64</span><a href="#src.zig-std.base64">[src]</a></h1><div class="tldDocs"><p>Base64 encoding/decoding as specified by
<a href="https://datatracker.ietf.org/doc/html/rfc4648">RFC 4648</a>.</p>
</div><div class="sectContainers"><h2 class="sectionHeader">Container Types</h2><ul class="listContainers columns"><li><a href="std.base64.Codecs.html">std.base64.Codecs</a></li><li><a href="std.base64.Base64Encoder.html">std.base64.Base64Encoder</a></li><li><a href="std.base64.Base64Decoder.html">std.base64.Base64Decoder</a></li><li><a href="std.base64.Base64DecoderWithIgnore.html">std.base64.Base64DecoderWithIgnore</a></li></ul></div><div class="sectValues"><h2 class="sectionHeader">Values</h2><div class="listValues"><div class="decl"><h2 id="std.base64.standard_alphabet_chars" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">standard_alphabet_chars</span><a href="#src.zig-std.base64.standard_alphabet_chars">[src]</a></h2><div class="tldDocs"><p>The Base64 alphabet defined in
<a href="https://datatracker.ietf.org/doc/html/rfc4648#section-4">RFC 4648 section 4</a>.</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.base64.standard_alphabet_chars">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> standard_alphabet_chars = <span class="tok-str">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span>.*</code></pre></details></div></div><div class="decl"><h2 id="std.base64.standard" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">standard</span><a href="#src.zig-std.base64.standard">[src]</a></h2><div class="tldDocs"><p>Standard Base64 codecs, with padding, as defined in
<a href="https://datatracker.ietf.org/doc/html/rfc4648#section-4">RFC 4648 section 4</a>.</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.base64.standard">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> standard = <a href="std.base64.Codecs.html">Codecs</a>{
    .alphabet_chars = <a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>,
    .pad_char = <span class="tok-str">'='</span>,
    .decoderWithIgnore = <a href="std.base64.html#std.base64.standardBase64DecoderWithIgnore">standardBase64DecoderWithIgnore</a>,
    .Encoder = <a href="std.base64.Base64Encoder.html">Base64Encoder</a>.<a href="std.base64.Base64Encoder.html#std.base64.Base64Encoder.init">init</a>(<a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>, <span class="tok-str">'='</span>),
    .Decoder = <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.init">init</a>(<a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>, <span class="tok-str">'='</span>),
}</code></pre></details></div></div><div class="decl"><h2 id="std.base64.standard_no_pad" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">standard_no_pad</span><a href="#src.zig-std.base64.standard_no_pad">[src]</a></h2><div class="tldDocs"><p>Standard Base64 codecs, without padding, as defined in
<a href="https://datatracker.ietf.org/doc/html/rfc4648#section-3.2">RFC 4648 section 3.2</a>.</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.base64.standard_no_pad">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> standard_no_pad = <a href="std.base64.Codecs.html">Codecs</a>{
    .alphabet_chars = <a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>,
    .pad_char = <span class="tok-null">null</span>,
    .decoderWithIgnore = <a href="std.base64.html#std.base64.standardBase64DecoderWithIgnore">standardBase64DecoderWithIgnore</a>,
    .Encoder = <a href="std.base64.Base64Encoder.html">Base64Encoder</a>.<a href="std.base64.Base64Encoder.html#std.base64.Base64Encoder.init">init</a>(<a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>, <span class="tok-null">null</span>),
    .Decoder = <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.init">init</a>(<a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>, <span class="tok-null">null</span>),
}</code></pre></details></div></div><div class="decl"><h2 id="std.base64.url_safe_alphabet_chars" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">url_safe_alphabet_chars</span><a href="#src.zig-std.base64.url_safe_alphabet_chars">[src]</a></h2><div class="tldDocs"><p>The URL-safe Base64 alphabet defined in
<a href="https://datatracker.ietf.org/doc/html/rfc4648#section-5">RFC 4648 section 5</a>.</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.base64.url_safe_alphabet_chars">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> url_safe_alphabet_chars = <span class="tok-str">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&quot;</span>.*</code></pre></details></div></div><div class="decl"><h2 id="std.base64.url_safe" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">url_safe</span><a href="#src.zig-std.base64.url_safe">[src]</a></h2><div class="tldDocs"><p>URL-safe Base64 codecs, with padding, as defined in
<a href="https://datatracker.ietf.org/doc/html/rfc4648#section-5">RFC 4648 section 5</a>.</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.base64.url_safe">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> url_safe = <a href="std.base64.Codecs.html">Codecs</a>{
    .alphabet_chars = <a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>,
    .pad_char = <span class="tok-str">'='</span>,
    .decoderWithIgnore = <a href="std.base64.html#std.base64.urlSafeBase64DecoderWithIgnore">urlSafeBase64DecoderWithIgnore</a>,
    .Encoder = <a href="std.base64.Base64Encoder.html">Base64Encoder</a>.<a href="std.base64.Base64Encoder.html#std.base64.Base64Encoder.init">init</a>(<a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>, <span class="tok-str">'='</span>),
    .Decoder = <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.init">init</a>(<a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>, <span class="tok-str">'='</span>),
}</code></pre></details></div></div><div class="decl"><h2 id="std.base64.url_safe_no_pad" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">url_safe_no_pad</span><a href="#src.zig-std.base64.url_safe_no_pad">[src]</a></h2><div class="tldDocs"><p>URL-safe Base64 codecs, without padding, as defined in
<a href="https://datatracker.ietf.org/doc/html/rfc4648#section-3.2">RFC 4648 section 3.2</a>.</p>
</div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.base64.url_safe_no_pad">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> url_safe_no_pad = <a href="std.base64.Codecs.html">Codecs</a>{
    .alphabet_chars = <a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>,
    .pad_char = <span class="tok-null">null</span>,
    .decoderWithIgnore = <a href="std.base64.html#std.base64.urlSafeBase64DecoderWithIgnore">urlSafeBase64DecoderWithIgnore</a>,
    .Encoder = <a href="std.base64.Base64Encoder.html">Base64Encoder</a>.<a href="std.base64.Base64Encoder.html#std.base64.Base64Encoder.init">init</a>(<a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>, <span class="tok-null">null</span>),
    .Decoder = <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.init">init</a>(<a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>, <span class="tok-null">null</span>),
}</code></pre></details></div></div></div></div><div class="sectErrSets"><h2 class="sectionHeader">Error Sets</h2><div class="listErrSets"><div class="decl"><h2 id="std.base64.Error" class="declHeader"><span class="declHeaderCategory">Error Set</span><span class="declHeaderIdentifier">Error</span><a href="#src.zig-std.base64.Error">[src]</a></h2><div class="sectFnErrors"><h3 class="sectionHeader">Errors</h3><div class="fnErrorsAnyError"><p><span class="tok-type">anyerror</span> means the error set is known only at runtime.</p></div><div class="tableFnErrors"><dl class="listFnErrors"><div><dt>InvalidCharacter</dt></div><div><dt>InvalidPadding</dt></div><div><dt>NoSpaceLeft</dt></div></dl></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.base64.Error">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> Error = <span class="tok-kw">error</span>{
    InvalidCharacter,
    InvalidPadding,
    NoSpaceLeft,
}</code></pre></details></div></div></div></div><div class="sectSource"><h2 class="sectionHeader" id="src.zig-std.base64">Source Code</h2><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-comment">//! Base64 encoding/decoding as specified by</span>
<span class="tok-comment">//! [RFC 4648](https://datatracker.ietf.org/doc/html/rfc4648).</span>

<span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std.zig&quot;</span>);
<span class="tok-kw">const</span> assert = <a href="std.html">std</a>.<a href="std.debug.html">debug</a>.<a href="std.debug.html#std.debug.assert">assert</a>;
<span class="tok-kw">const</span> builtin = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;builtin&quot;</span>);
<span class="tok-kw">const</span> testing = <a href="std.html">std</a>.<a href="std.testing.html">testing</a>;
<span class="tok-kw">const</span> mem = <a href="std.html">std</a>.<a href="std.mem.html">mem</a>;
<span class="tok-kw">const</span> window = <a href="std.mem.html">mem</a>.<a href="std.mem.html#std.mem.window">window</a>;

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> Error = <span class="tok-kw">error</span>{
    InvalidCharacter,
    InvalidPadding,
    NoSpaceLeft,
};

<span class="tok-kw">const</span> decoderWithIgnoreProto = *<span class="tok-kw">const</span> <span class="tok-kw">fn</span> (ignore: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) <a href="std.base64.Base64DecoderWithIgnore.html">Base64DecoderWithIgnore</a>;

<span class="tok-comment">/// Base64 codecs</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> Codecs = <span class="tok-kw">struct</span> {
    alphabet_chars: [<span class="tok-number">64</span>]<span class="tok-type">u8</span>,
    pad_char: ?<span class="tok-type">u8</span>,
    decoderWithIgnore: <a href="std.base64.html#std.base64.decoderWithIgnoreProto">decoderWithIgnoreProto</a>,
    Encoder: <a href="std.base64.Base64Encoder.html">Base64Encoder</a>,
    Decoder: <a href="std.base64.Base64Decoder.html">Base64Decoder</a>,
};

<span class="tok-comment">/// The Base64 alphabet defined in</span>
<span class="tok-comment">/// [RFC 4648 section 4](https://datatracker.ietf.org/doc/html/rfc4648#section-4).</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> standard_alphabet_chars = <span class="tok-str">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span>.*;
<span class="tok-kw">fn</span> <span class="tok-fn">standardBase64DecoderWithIgnore</span>(ignore: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) <a href="std.base64.Base64DecoderWithIgnore.html">Base64DecoderWithIgnore</a> {
    <span class="tok-kw">return</span> <a href="std.base64.Base64DecoderWithIgnore.html">Base64DecoderWithIgnore</a>.<a href="std.base64.Base64DecoderWithIgnore.html#std.base64.Base64DecoderWithIgnore.init">init</a>(<a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>, <span class="tok-str">'='</span>, ignore);
}

<span class="tok-comment">/// Standard Base64 codecs, with padding, as defined in</span>
<span class="tok-comment">/// [RFC 4648 section 4](https://datatracker.ietf.org/doc/html/rfc4648#section-4).</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> standard = <a href="std.base64.Codecs.html">Codecs</a>{
    .alphabet_chars = <a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>,
    .pad_char = <span class="tok-str">'='</span>,
    .decoderWithIgnore = <a href="std.base64.html#std.base64.standardBase64DecoderWithIgnore">standardBase64DecoderWithIgnore</a>,
    .Encoder = <a href="std.base64.Base64Encoder.html">Base64Encoder</a>.<a href="std.base64.Base64Encoder.html#std.base64.Base64Encoder.init">init</a>(<a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>, <span class="tok-str">'='</span>),
    .Decoder = <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.init">init</a>(<a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>, <span class="tok-str">'='</span>),
};

<span class="tok-comment">/// Standard Base64 codecs, without padding, as defined in</span>
<span class="tok-comment">/// [RFC 4648 section 3.2](https://datatracker.ietf.org/doc/html/rfc4648#section-3.2).</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> standard_no_pad = <a href="std.base64.Codecs.html">Codecs</a>{
    .alphabet_chars = <a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>,
    .pad_char = <span class="tok-null">null</span>,
    .decoderWithIgnore = <a href="std.base64.html#std.base64.standardBase64DecoderWithIgnore">standardBase64DecoderWithIgnore</a>,
    .Encoder = <a href="std.base64.Base64Encoder.html">Base64Encoder</a>.<a href="std.base64.Base64Encoder.html#std.base64.Base64Encoder.init">init</a>(<a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>, <span class="tok-null">null</span>),
    .Decoder = <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.init">init</a>(<a href="std.base64.html#std.base64.standard_alphabet_chars">standard_alphabet_chars</a>, <span class="tok-null">null</span>),
};

<span class="tok-comment">/// The URL-safe Base64 alphabet defined in</span>
<span class="tok-comment">/// [RFC 4648 section 5](https://datatracker.ietf.org/doc/html/rfc4648#section-5).</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> url_safe_alphabet_chars = <span class="tok-str">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_&quot;</span>.*;
<span class="tok-kw">fn</span> <span class="tok-fn">urlSafeBase64DecoderWithIgnore</span>(ignore: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) <a href="std.base64.Base64DecoderWithIgnore.html">Base64DecoderWithIgnore</a> {
    <span class="tok-kw">return</span> <a href="std.base64.Base64DecoderWithIgnore.html">Base64DecoderWithIgnore</a>.<a href="std.base64.Base64DecoderWithIgnore.html#std.base64.Base64DecoderWithIgnore.init">init</a>(<a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>, <span class="tok-null">null</span>, ignore);
}

<span class="tok-comment">/// URL-safe Base64 codecs, with padding, as defined in</span>
<span class="tok-comment">/// [RFC 4648 section 5](https://datatracker.ietf.org/doc/html/rfc4648#section-5).</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> url_safe = <a href="std.base64.Codecs.html">Codecs</a>{
    .alphabet_chars = <a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>,
    .pad_char = <span class="tok-str">'='</span>,
    .decoderWithIgnore = <a href="std.base64.html#std.base64.urlSafeBase64DecoderWithIgnore">urlSafeBase64DecoderWithIgnore</a>,
    .Encoder = <a href="std.base64.Base64Encoder.html">Base64Encoder</a>.<a href="std.base64.Base64Encoder.html#std.base64.Base64Encoder.init">init</a>(<a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>, <span class="tok-str">'='</span>),
    .Decoder = <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.init">init</a>(<a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>, <span class="tok-str">'='</span>),
};

<span class="tok-comment">/// URL-safe Base64 codecs, without padding, as defined in</span>
<span class="tok-comment">/// [RFC 4648 section 3.2](https://datatracker.ietf.org/doc/html/rfc4648#section-3.2).</span>
<span class="tok-kw">pub</span> <span class="tok-kw">const</span> url_safe_no_pad = <a href="std.base64.Codecs.html">Codecs</a>{
    .alphabet_chars = <a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>,
    .pad_char = <span class="tok-null">null</span>,
    .decoderWithIgnore = <a href="std.base64.html#std.base64.urlSafeBase64DecoderWithIgnore">urlSafeBase64DecoderWithIgnore</a>,
    .Encoder = <a href="std.base64.Base64Encoder.html">Base64Encoder</a>.<a href="std.base64.Base64Encoder.html#std.base64.Base64Encoder.init">init</a>(<a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>, <span class="tok-null">null</span>),
    .Decoder = <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.init">init</a>(<a href="std.base64.html#std.base64.url_safe_alphabet_chars">url_safe_alphabet_chars</a>, <span class="tok-null">null</span>),
};

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> Base64Encoder = <span class="tok-kw">struct</span> {
    alphabet_chars: [<span class="tok-number">64</span>]<span class="tok-type">u8</span>,
    pad_char: ?<span class="tok-type">u8</span>,

    <span class="tok-comment">/// A bunch of assertions, then simply pass the data right through.</span>
    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">init</span>(alphabet_chars: [<span class="tok-number">64</span>]<span class="tok-type">u8</span>, pad_char: ?<span class="tok-type">u8</span>) <a href="std.base64.Base64Encoder.html">Base64Encoder</a> {
        <a href="std.debug.html#std.debug.assert">assert</a>(alphabet_chars.len == <span class="tok-number">64</span>);
        <span class="tok-kw">var</span> char_in_alphabet = [_]<span class="tok-type">bool</span>{<span class="tok-null">false</span>} ** <span class="tok-number">256</span>;
        <span class="tok-kw">for</span> (alphabet_chars) |c| {
            <a href="std.debug.html#std.debug.assert">assert</a>(!char_in_alphabet[c]);
            <a href="std.debug.html#std.debug.assert">assert</a>(pad_char == <span class="tok-null">null</span> <span class="tok-kw">or</span> c != pad_char.?);
            char_in_alphabet[c] = <span class="tok-null">true</span>;
        }
        <span class="tok-kw">return</span> <a href="std.base64.Base64Encoder.html">Base64Encoder</a>{
            .alphabet_chars = alphabet_chars,
            .pad_char = pad_char,
        };
    }

    <span class="tok-comment">/// Compute the encoded length</span>
    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">calcSize</span>(encoder: *<span class="tok-kw">const</span> <a href="std.base64.Base64Encoder.html">Base64Encoder</a>, source_len: <span class="tok-type">usize</span>) <span class="tok-type">usize</span> {
        <span class="tok-kw">if</span> (encoder.pad_char != <span class="tok-null">null</span>) {
            <span class="tok-kw">return</span> <span class="tok-builtin">@divTrunc</span>(source_len + <span class="tok-number">2</span>, <span class="tok-number">3</span>) * <span class="tok-number">4</span>;
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">const</span> leftover = source_len % <span class="tok-number">3</span>;
            <span class="tok-kw">return</span> <span class="tok-builtin">@divTrunc</span>(source_len, <span class="tok-number">3</span>) * <span class="tok-number">4</span> + <span class="tok-builtin">@divTrunc</span>(leftover * <span class="tok-number">4</span> + <span class="tok-number">2</span>, <span class="tok-number">3</span>);
        }
    }<span class="tok-comment">

    // dest must be compatible with std.io.Writer's writeAll interface
    </span><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">encodeWriter</span>(encoder: *<span class="tok-kw">const</span> <a href="std.base64.Base64Encoder.html">Base64Encoder</a>, dest: <span class="tok-kw">anytype</span>, source: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {
        <span class="tok-kw">var</span> chunker = <a href="std.mem.html#std.mem.window">window</a>(<span class="tok-type">u8</span>, source, <span class="tok-number">3</span>, <span class="tok-number">3</span>);
        <span class="tok-kw">while</span> (chunker.next()) |chunk| {
            <span class="tok-kw">var</span> temp: [<span class="tok-number">5</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
            <span class="tok-kw">const</span> s = encoder.encode(&amp;temp, chunk);
            <span class="tok-kw">try</span> dest.writeAll(s);
        }
    }<span class="tok-comment">

    // destWriter must be compatible with std.io.Writer's writeAll interface
    // sourceReader must be compatible with std.io.Reader's read interface
    </span><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">encodeFromReaderToWriter</span>(encoder: *<span class="tok-kw">const</span> <a href="std.base64.Base64Encoder.html">Base64Encoder</a>, destWriter: <span class="tok-kw">anytype</span>, sourceReader: <span class="tok-kw">anytype</span>) !<span class="tok-type">void</span> {
        <span class="tok-kw">while</span> (<span class="tok-null">true</span>) {
            <span class="tok-kw">var</span> tempSource: [<span class="tok-number">3</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
            <span class="tok-kw">const</span> bytesRead = <span class="tok-kw">try</span> sourceReader.read(&amp;tempSource);
            <span class="tok-kw">if</span> (bytesRead == <span class="tok-number">0</span>) {
                <span class="tok-kw">break</span>;
            }

            <span class="tok-kw">var</span> temp: [<span class="tok-number">5</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
            <span class="tok-kw">const</span> s = encoder.encode(&amp;temp, tempSource[<span class="tok-number">0</span>..bytesRead]);
            <span class="tok-kw">try</span> destWriter.writeAll(s);
        }
    }

    <span class="tok-comment">/// dest.len must at least be what you get from ::calcSize.</span>
    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">encode</span>(encoder: *<span class="tok-kw">const</span> <a href="std.base64.Base64Encoder.html">Base64Encoder</a>, dest: []<span class="tok-type">u8</span>, source: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) []<span class="tok-kw">const</span> <span class="tok-type">u8</span> {
        <span class="tok-kw">const</span> out_len = encoder.calcSize(source.len);
        <a href="std.debug.html#std.debug.assert">assert</a>(dest.len &gt;= out_len);

        <span class="tok-kw">var</span> idx: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;
        <span class="tok-kw">var</span> out_idx: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;
        <span class="tok-kw">while</span> (idx + <span class="tok-number">15</span> &lt; source.len) : (idx += <span class="tok-number">12</span>) {
            <span class="tok-kw">const</span> bits = <a href="std.html">std</a>.<a href="std.mem.html">mem</a>.<a href="std.mem.html#std.mem.readInt">readInt</a>(<span class="tok-type">u128</span>, source[idx..][<span class="tok-number">0</span>..<span class="tok-number">16</span>], .big);
            <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (<span class="tok-number">0</span>..<span class="tok-number">16</span>) |i| {
                dest[out_idx + i] = encoder.alphabet_chars[<span class="tok-builtin">@truncate</span>((bits &gt;&gt; (<span class="tok-number">122</span> - i * <span class="tok-number">6</span>)) &amp; <span class="tok-number">0x3f</span>)];
            }
            out_idx += <span class="tok-number">16</span>;
        }
        <span class="tok-kw">while</span> (idx + <span class="tok-number">3</span> &lt; source.len) : (idx += <span class="tok-number">3</span>) {
            <span class="tok-kw">const</span> bits = <a href="std.html">std</a>.<a href="std.mem.html">mem</a>.<a href="std.mem.html#std.mem.readInt">readInt</a>(<span class="tok-type">u32</span>, source[idx..][<span class="tok-number">0</span>..<span class="tok-number">4</span>], .big);
            dest[out_idx] = encoder.alphabet_chars[(bits &gt;&gt; <span class="tok-number">26</span>) &amp; <span class="tok-number">0x3f</span>];
            dest[out_idx + <span class="tok-number">1</span>] = encoder.alphabet_chars[(bits &gt;&gt; <span class="tok-number">20</span>) &amp; <span class="tok-number">0x3f</span>];
            dest[out_idx + <span class="tok-number">2</span>] = encoder.alphabet_chars[(bits &gt;&gt; <span class="tok-number">14</span>) &amp; <span class="tok-number">0x3f</span>];
            dest[out_idx + <span class="tok-number">3</span>] = encoder.alphabet_chars[(bits &gt;&gt; <span class="tok-number">8</span>) &amp; <span class="tok-number">0x3f</span>];
            out_idx += <span class="tok-number">4</span>;
        }
        <span class="tok-kw">if</span> (idx + <span class="tok-number">2</span> &lt; source.len) {
            dest[out_idx] = encoder.alphabet_chars[source[idx] &gt;&gt; <span class="tok-number">2</span>];
            dest[out_idx + <span class="tok-number">1</span>] = encoder.alphabet_chars[((source[idx] &amp; <span class="tok-number">0x3</span>) &lt;&lt; <span class="tok-number">4</span>) | (source[idx + <span class="tok-number">1</span>] &gt;&gt; <span class="tok-number">4</span>)];
            dest[out_idx + <span class="tok-number">2</span>] = encoder.alphabet_chars[(source[idx + <span class="tok-number">1</span>] &amp; <span class="tok-number">0xf</span>) &lt;&lt; <span class="tok-number">2</span> | (source[idx + <span class="tok-number">2</span>] &gt;&gt; <span class="tok-number">6</span>)];
            dest[out_idx + <span class="tok-number">3</span>] = encoder.alphabet_chars[source[idx + <span class="tok-number">2</span>] &amp; <span class="tok-number">0x3f</span>];
            out_idx += <span class="tok-number">4</span>;
        } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (idx + <span class="tok-number">1</span> &lt; source.len) {
            dest[out_idx] = encoder.alphabet_chars[source[idx] &gt;&gt; <span class="tok-number">2</span>];
            dest[out_idx + <span class="tok-number">1</span>] = encoder.alphabet_chars[((source[idx] &amp; <span class="tok-number">0x3</span>) &lt;&lt; <span class="tok-number">4</span>) | (source[idx + <span class="tok-number">1</span>] &gt;&gt; <span class="tok-number">4</span>)];
            dest[out_idx + <span class="tok-number">2</span>] = encoder.alphabet_chars[(source[idx + <span class="tok-number">1</span>] &amp; <span class="tok-number">0xf</span>) &lt;&lt; <span class="tok-number">2</span>];
            out_idx += <span class="tok-number">3</span>;
        } <span class="tok-kw">else</span> <span class="tok-kw">if</span> (idx &lt; source.len) {
            dest[out_idx] = encoder.alphabet_chars[source[idx] &gt;&gt; <span class="tok-number">2</span>];
            dest[out_idx + <span class="tok-number">1</span>] = encoder.alphabet_chars[(source[idx] &amp; <span class="tok-number">0x3</span>) &lt;&lt; <span class="tok-number">4</span>];
            out_idx += <span class="tok-number">2</span>;
        }
        <span class="tok-kw">if</span> (encoder.pad_char) |pad_char| {
            <span class="tok-kw">for</span> (dest[out_idx..out_len]) |*pad| {
                pad.* = pad_char;
            }
        }
        <span class="tok-kw">return</span> dest[<span class="tok-number">0</span>..out_len];
    }
};

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> Base64Decoder = <span class="tok-kw">struct</span> {
    <span class="tok-kw">const</span> invalid_char: <span class="tok-type">u8</span> = <span class="tok-number">0xff</span>;
    <span class="tok-kw">const</span> invalid_char_tst: <span class="tok-type">u32</span> = <span class="tok-number">0xff000000</span>;

    <span class="tok-comment">/// e.g. 'A' =&gt; 0.</span>
    <span class="tok-comment">/// `invalid_char` for any value not in the 64 alphabet chars.</span>
    char_to_index: [<span class="tok-number">256</span>]<span class="tok-type">u8</span>,
    fast_char_to_index: [<span class="tok-number">4</span>][<span class="tok-number">256</span>]<span class="tok-type">u32</span>,
    pad_char: ?<span class="tok-type">u8</span>,

    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">init</span>(alphabet_chars: [<span class="tok-number">64</span>]<span class="tok-type">u8</span>, pad_char: ?<span class="tok-type">u8</span>) <a href="std.base64.Base64Decoder.html">Base64Decoder</a> {
        <span class="tok-kw">var</span> result = <a href="std.base64.Base64Decoder.html">Base64Decoder</a>{
            .char_to_index = [_]<span class="tok-type">u8</span>{<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.invalid_char">invalid_char</a>} ** <span class="tok-number">256</span>,
            .fast_char_to_index = .{[_]<span class="tok-type">u32</span>{<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.invalid_char_tst">invalid_char_tst</a>} ** <span class="tok-number">256</span>} ** <span class="tok-number">4</span>,
            .pad_char = pad_char,
        };

        <span class="tok-kw">var</span> char_in_alphabet = [_]<span class="tok-type">bool</span>{<span class="tok-null">false</span>} ** <span class="tok-number">256</span>;
        <span class="tok-kw">for</span> (alphabet_chars, <span class="tok-number">0</span>..) |c, i| {
            <a href="std.debug.html#std.debug.assert">assert</a>(!char_in_alphabet[c]);
            <a href="std.debug.html#std.debug.assert">assert</a>(pad_char == <span class="tok-null">null</span> <span class="tok-kw">or</span> c != pad_char.?);

            <span class="tok-kw">const</span> ci = <span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-builtin">@intCast</span>(i));
            result.fast_char_to_index[<span class="tok-number">0</span>][c] = ci &lt;&lt; <span class="tok-number">2</span>;
            result.fast_char_to_index[<span class="tok-number">1</span>][c] = (ci &gt;&gt; <span class="tok-number">4</span>) | ((ci &amp; <span class="tok-number">0x0f</span>) &lt;&lt; <span class="tok-number">12</span>);
            result.fast_char_to_index[<span class="tok-number">2</span>][c] = ((ci &amp; <span class="tok-number">0x3</span>) &lt;&lt; <span class="tok-number">22</span>) | ((ci &amp; <span class="tok-number">0x3c</span>) &lt;&lt; <span class="tok-number">6</span>);
            result.fast_char_to_index[<span class="tok-number">3</span>][c] = ci &lt;&lt; <span class="tok-number">16</span>;

            result.char_to_index[c] = <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-builtin">@intCast</span>(i));
            char_in_alphabet[c] = <span class="tok-null">true</span>;
        }
        <span class="tok-kw">return</span> result;
    }

    <span class="tok-comment">/// Return the maximum possible decoded size for a given input length - The actual length may be less if the input includes padding.</span>
    <span class="tok-comment">/// `InvalidPadding` is returned if the input length is not valid.</span>
    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">calcSizeUpperBound</span>(decoder: *<span class="tok-kw">const</span> <a href="std.base64.Base64Decoder.html">Base64Decoder</a>, source_len: <span class="tok-type">usize</span>) <a href="std.base64.html#std.base64.Error">Error</a>!<span class="tok-type">usize</span> {
        <span class="tok-kw">var</span> result = source_len / <span class="tok-number">4</span> * <span class="tok-number">3</span>;
        <span class="tok-kw">const</span> leftover = source_len % <span class="tok-number">4</span>;
        <span class="tok-kw">if</span> (decoder.pad_char != <span class="tok-null">null</span>) {
            <span class="tok-kw">if</span> (leftover % <span class="tok-number">4</span> != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidPadding;
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">if</span> (leftover % <span class="tok-number">4</span> == <span class="tok-number">1</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidPadding;
            result += leftover * <span class="tok-number">3</span> / <span class="tok-number">4</span>;
        }
        <span class="tok-kw">return</span> result;
    }

    <span class="tok-comment">/// Return the exact decoded size for a slice.</span>
    <span class="tok-comment">/// `InvalidPadding` is returned if the input length is not valid.</span>
    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">calcSizeForSlice</span>(decoder: *<span class="tok-kw">const</span> <a href="std.base64.Base64Decoder.html">Base64Decoder</a>, source: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) <a href="std.base64.html#std.base64.Error">Error</a>!<span class="tok-type">usize</span> {
        <span class="tok-kw">const</span> source_len = source.len;
        <span class="tok-kw">var</span> result = <span class="tok-kw">try</span> decoder.calcSizeUpperBound(source_len);
        <span class="tok-kw">if</span> (decoder.pad_char) |pad_char| {
            <span class="tok-kw">if</span> (source_len &gt;= <span class="tok-number">1</span> <span class="tok-kw">and</span> source[source_len - <span class="tok-number">1</span>] == pad_char) result -= <span class="tok-number">1</span>;
            <span class="tok-kw">if</span> (source_len &gt;= <span class="tok-number">2</span> <span class="tok-kw">and</span> source[source_len - <span class="tok-number">2</span>] == pad_char) result -= <span class="tok-number">1</span>;
        }
        <span class="tok-kw">return</span> result;
    }

    <span class="tok-comment">/// dest.len must be what you get from ::calcSize.</span>
    <span class="tok-comment">/// Invalid characters result in `error.InvalidCharacter`.</span>
    <span class="tok-comment">/// Invalid padding results in `error.InvalidPadding`.</span>
    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">decode</span>(decoder: *<span class="tok-kw">const</span> <a href="std.base64.Base64Decoder.html">Base64Decoder</a>, dest: []<span class="tok-type">u8</span>, source: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) <a href="std.base64.html#std.base64.Error">Error</a>!<span class="tok-type">void</span> {
        <span class="tok-kw">if</span> (decoder.pad_char != <span class="tok-null">null</span> <span class="tok-kw">and</span> source.len % <span class="tok-number">4</span> != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidPadding;
        <span class="tok-kw">var</span> dest_idx: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;
        <span class="tok-kw">var</span> fast_src_idx: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;
        <span class="tok-kw">var</span> acc: <span class="tok-type">u12</span> = <span class="tok-number">0</span>;
        <span class="tok-kw">var</span> acc_len: <span class="tok-type">u4</span> = <span class="tok-number">0</span>;
        <span class="tok-kw">var</span> leftover_idx: ?<span class="tok-type">usize</span> = <span class="tok-null">null</span>;
        <span class="tok-kw">while</span> (fast_src_idx + <span class="tok-number">16</span> &lt; source.len <span class="tok-kw">and</span> dest_idx + <span class="tok-number">15</span> &lt; dest.len) : ({
            fast_src_idx += <span class="tok-number">16</span>;
            dest_idx += <span class="tok-number">12</span>;
        }) {
            <span class="tok-kw">var</span> bits: <span class="tok-type">u128</span> = <span class="tok-number">0</span>;
            <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (<span class="tok-number">0</span>..<span class="tok-number">4</span>) |i| {
                <span class="tok-kw">var</span> new_bits: <span class="tok-type">u128</span> = decoder.fast_char_to_index[<span class="tok-number">0</span>][source[fast_src_idx + i * <span class="tok-number">4</span>]];
                new_bits |= decoder.fast_char_to_index[<span class="tok-number">1</span>][source[fast_src_idx + <span class="tok-number">1</span> + i * <span class="tok-number">4</span>]];
                new_bits |= decoder.fast_char_to_index[<span class="tok-number">2</span>][source[fast_src_idx + <span class="tok-number">2</span> + i * <span class="tok-number">4</span>]];
                new_bits |= decoder.fast_char_to_index[<span class="tok-number">3</span>][source[fast_src_idx + <span class="tok-number">3</span> + i * <span class="tok-number">4</span>]];
                <span class="tok-kw">if</span> ((new_bits &amp; <a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.invalid_char_tst">invalid_char_tst</a>) != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidCharacter;
                bits |= (new_bits &lt;&lt; (<span class="tok-number">24</span> * i));
            }
            <a href="std.html">std</a>.<a href="std.mem.html">mem</a>.<a href="std.mem.html#std.mem.writeInt">writeInt</a>(<span class="tok-type">u128</span>, dest[dest_idx..][<span class="tok-number">0</span>..<span class="tok-number">16</span>], bits, .little);
        }
        <span class="tok-kw">while</span> (fast_src_idx + <span class="tok-number">4</span> &lt; source.len <span class="tok-kw">and</span> dest_idx + <span class="tok-number">3</span> &lt; dest.len) : ({
            fast_src_idx += <span class="tok-number">4</span>;
            dest_idx += <span class="tok-number">3</span>;
        }) {
            <span class="tok-kw">var</span> bits = decoder.fast_char_to_index[<span class="tok-number">0</span>][source[fast_src_idx]];
            bits |= decoder.fast_char_to_index[<span class="tok-number">1</span>][source[fast_src_idx + <span class="tok-number">1</span>]];
            bits |= decoder.fast_char_to_index[<span class="tok-number">2</span>][source[fast_src_idx + <span class="tok-number">2</span>]];
            bits |= decoder.fast_char_to_index[<span class="tok-number">3</span>][source[fast_src_idx + <span class="tok-number">3</span>]];
            <span class="tok-kw">if</span> ((bits &amp; <a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.invalid_char_tst">invalid_char_tst</a>) != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidCharacter;
            <a href="std.html">std</a>.<a href="std.mem.html">mem</a>.<a href="std.mem.html#std.mem.writeInt">writeInt</a>(<span class="tok-type">u32</span>, dest[dest_idx..][<span class="tok-number">0</span>..<span class="tok-number">4</span>], bits, .little);
        }
        <span class="tok-kw">const</span> remaining = source[fast_src_idx..];
        <span class="tok-kw">for</span> (remaining, fast_src_idx..) |c, src_idx| {
            <span class="tok-kw">const</span> d = decoder.char_to_index[c];
            <span class="tok-kw">if</span> (d == <a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.invalid_char">invalid_char</a>) {
                <span class="tok-kw">if</span> (decoder.pad_char == <span class="tok-null">null</span> <span class="tok-kw">or</span> c != decoder.pad_char.?) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidCharacter;
                leftover_idx = src_idx;
                <span class="tok-kw">break</span>;
            }
            acc = (acc &lt;&lt; <span class="tok-number">6</span>) + d;
            acc_len += <span class="tok-number">6</span>;
            <span class="tok-kw">if</span> (acc_len &gt;= <span class="tok-number">8</span>) {
                acc_len -= <span class="tok-number">8</span>;
                dest[dest_idx] = <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-builtin">@truncate</span>(acc &gt;&gt; acc_len));
                dest_idx += <span class="tok-number">1</span>;
            }
        }
        <span class="tok-kw">if</span> (acc_len &gt; <span class="tok-number">4</span> <span class="tok-kw">or</span> (acc &amp; (<span class="tok-builtin">@as</span>(<span class="tok-type">u12</span>, <span class="tok-number">1</span>) &lt;&lt; acc_len) - <span class="tok-number">1</span>) != <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidPadding;
        }
        <span class="tok-kw">if</span> (leftover_idx == <span class="tok-null">null</span>) <span class="tok-kw">return</span>;
        <span class="tok-kw">const</span> leftover = source[leftover_idx.?..];
        <span class="tok-kw">if</span> (decoder.pad_char) |pad_char| {
            <span class="tok-kw">const</span> padding_len = acc_len / <span class="tok-number">2</span>;
            <span class="tok-kw">var</span> padding_chars: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;
            <span class="tok-kw">for</span> (leftover) |c| {
                <span class="tok-kw">if</span> (c != pad_char) {
                    <span class="tok-kw">return</span> <span class="tok-kw">if</span> (c == <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.invalid_char">invalid_char</a>) <span class="tok-kw">error</span>.InvalidCharacter <span class="tok-kw">else</span> <span class="tok-kw">error</span>.InvalidPadding;
                }
                padding_chars += <span class="tok-number">1</span>;
            }
            <span class="tok-kw">if</span> (padding_chars != padding_len) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidPadding;
        }
    }
};

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> Base64DecoderWithIgnore = <span class="tok-kw">struct</span> {
    decoder: <a href="std.base64.Base64Decoder.html">Base64Decoder</a>,
    char_is_ignored: [<span class="tok-number">256</span>]<span class="tok-type">bool</span>,

    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">init</span>(alphabet_chars: [<span class="tok-number">64</span>]<span class="tok-type">u8</span>, pad_char: ?<span class="tok-type">u8</span>, ignore_chars: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) <a href="std.base64.Base64DecoderWithIgnore.html">Base64DecoderWithIgnore</a> {
        <span class="tok-kw">var</span> result = <a href="std.base64.Base64DecoderWithIgnore.html">Base64DecoderWithIgnore</a>{
            .decoder = <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.init">init</a>(alphabet_chars, pad_char),
            .char_is_ignored = [_]<span class="tok-type">bool</span>{<span class="tok-null">false</span>} ** <span class="tok-number">256</span>,
        };
        <span class="tok-kw">for</span> (ignore_chars) |c| {
            <a href="std.debug.html#std.debug.assert">assert</a>(result.decoder.char_to_index[c] == <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.invalid_char">invalid_char</a>);
            <a href="std.debug.html#std.debug.assert">assert</a>(!result.char_is_ignored[c]);
            <a href="std.debug.html#std.debug.assert">assert</a>(result.decoder.pad_char != c);
            result.char_is_ignored[c] = <span class="tok-null">true</span>;
        }
        <span class="tok-kw">return</span> result;
    }

    <span class="tok-comment">/// Return the maximum possible decoded size for a given input length - The actual length may be less if the input includes padding.</span>
    <span class="tok-comment">/// `InvalidPadding` is returned if the input length is not valid.</span>
    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">calcSizeUpperBound</span>(decoder_with_ignore: *<span class="tok-kw">const</span> <a href="std.base64.Base64DecoderWithIgnore.html">Base64DecoderWithIgnore</a>, source_len: <span class="tok-type">usize</span>) <a href="std.base64.html#std.base64.Error">Error</a>!<span class="tok-type">usize</span> {
        <span class="tok-kw">var</span> result = source_len / <span class="tok-number">4</span> * <span class="tok-number">3</span>;
        <span class="tok-kw">if</span> (decoder_with_ignore.decoder.pad_char == <span class="tok-null">null</span>) {
            <span class="tok-kw">const</span> leftover = source_len % <span class="tok-number">4</span>;
            result += leftover * <span class="tok-number">3</span> / <span class="tok-number">4</span>;
        }
        <span class="tok-kw">return</span> result;
    }

    <span class="tok-comment">/// Invalid characters that are not ignored result in error.InvalidCharacter.</span>
    <span class="tok-comment">/// Invalid padding results in error.InvalidPadding.</span>
    <span class="tok-comment">/// Decoding more data than can fit in dest results in error.NoSpaceLeft. See also ::calcSizeUpperBound.</span>
    <span class="tok-comment">/// Returns the number of bytes written to dest.</span>
    <span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">decode</span>(decoder_with_ignore: *<span class="tok-kw">const</span> <a href="std.base64.Base64DecoderWithIgnore.html">Base64DecoderWithIgnore</a>, dest: []<span class="tok-type">u8</span>, source: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) <a href="std.base64.html#std.base64.Error">Error</a>!<span class="tok-type">usize</span> {
        <span class="tok-kw">const</span> decoder = &amp;decoder_with_ignore.decoder;
        <span class="tok-kw">var</span> acc: <span class="tok-type">u12</span> = <span class="tok-number">0</span>;
        <span class="tok-kw">var</span> acc_len: <span class="tok-type">u4</span> = <span class="tok-number">0</span>;
        <span class="tok-kw">var</span> dest_idx: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;
        <span class="tok-kw">var</span> leftover_idx: ?<span class="tok-type">usize</span> = <span class="tok-null">null</span>;
        <span class="tok-kw">for</span> (source, <span class="tok-number">0</span>..) |c, src_idx| {
            <span class="tok-kw">if</span> (decoder_with_ignore.char_is_ignored[c]) <span class="tok-kw">continue</span>;
            <span class="tok-kw">const</span> d = decoder.char_to_index[c];
            <span class="tok-kw">if</span> (d == <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.invalid_char">invalid_char</a>) {
                <span class="tok-kw">if</span> (decoder.pad_char == <span class="tok-null">null</span> <span class="tok-kw">or</span> c != decoder.pad_char.?) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidCharacter;
                leftover_idx = src_idx;
                <span class="tok-kw">break</span>;
            }
            acc = (acc &lt;&lt; <span class="tok-number">6</span>) + d;
            acc_len += <span class="tok-number">6</span>;
            <span class="tok-kw">if</span> (acc_len &gt;= <span class="tok-number">8</span>) {
                <span class="tok-kw">if</span> (dest_idx == dest.len) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.NoSpaceLeft;
                acc_len -= <span class="tok-number">8</span>;
                dest[dest_idx] = <span class="tok-builtin">@as</span>(<span class="tok-type">u8</span>, <span class="tok-builtin">@truncate</span>(acc &gt;&gt; acc_len));
                dest_idx += <span class="tok-number">1</span>;
            }
        }
        <span class="tok-kw">if</span> (acc_len &gt; <span class="tok-number">4</span> <span class="tok-kw">or</span> (acc &amp; (<span class="tok-builtin">@as</span>(<span class="tok-type">u12</span>, <span class="tok-number">1</span>) &lt;&lt; acc_len) - <span class="tok-number">1</span>) != <span class="tok-number">0</span>) {
            <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidPadding;
        }
        <span class="tok-kw">const</span> padding_len = acc_len / <span class="tok-number">2</span>;
        <span class="tok-kw">if</span> (leftover_idx == <span class="tok-null">null</span>) {
            <span class="tok-kw">if</span> (decoder.pad_char != <span class="tok-null">null</span> <span class="tok-kw">and</span> padding_len != <span class="tok-number">0</span>) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidPadding;
            <span class="tok-kw">return</span> dest_idx;
        }
        <span class="tok-kw">const</span> leftover = source[leftover_idx.?..];
        <span class="tok-kw">if</span> (decoder.pad_char) |pad_char| {
            <span class="tok-kw">var</span> padding_chars: <span class="tok-type">usize</span> = <span class="tok-number">0</span>;
            <span class="tok-kw">for</span> (leftover) |c| {
                <span class="tok-kw">if</span> (decoder_with_ignore.char_is_ignored[c]) <span class="tok-kw">continue</span>;
                <span class="tok-kw">if</span> (c != pad_char) {
                    <span class="tok-kw">return</span> <span class="tok-kw">if</span> (c == <a href="std.base64.Base64Decoder.html">Base64Decoder</a>.<a href="std.base64.Base64Decoder.html#std.base64.Base64Decoder.invalid_char">invalid_char</a>) <span class="tok-kw">error</span>.InvalidCharacter <span class="tok-kw">else</span> <span class="tok-kw">error</span>.InvalidPadding;
                }
                padding_chars += <span class="tok-number">1</span>;
            }
            <span class="tok-kw">if</span> (padding_chars != padding_len) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.InvalidPadding;
        }
        <span class="tok-kw">return</span> dest_idx;
    }
};

<span class="tok-kw">test</span> <span class="tok-str">&quot;base64&quot;</span> {
    <span class="tok-builtin">@setEvalBranchQuota</span>(<span class="tok-number">8000</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testBase64">testBase64</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(<a href="std.base64.html#std.base64.standard">standard</a>, <span class="tok-str">&quot;comptime&quot;</span>, <span class="tok-str">&quot;Y29tcHRpbWU=&quot;</span>);
}

<span class="tok-kw">test</span> <span class="tok-str">&quot;base64 padding dest overflow&quot;</span> {
    <span class="tok-kw">const</span> input = <span class="tok-str">&quot;foo&quot;</span>;

    <span class="tok-kw">var</span> expect: [<span class="tok-number">128</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
    <span class="tok-builtin">@memset</span>(&amp;expect, <span class="tok-number">0</span>);
    _ = <a href="std.base64.html#std.base64.url_safe">url_safe</a>.<a href="#">Encoder</a>.<a href="#">encode</a>(expect[<span class="tok-number">0</span>..<a href="std.base64.html#std.base64.url_safe">url_safe</a>.<a href="#">Encoder</a>.<a href="#">calcSize</a>(input.len)], input);

    <span class="tok-kw">var</span> got: [<span class="tok-number">128</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
    <span class="tok-builtin">@memset</span>(&amp;got, <span class="tok-number">0</span>);
    _ = <a href="std.base64.html#std.base64.url_safe">url_safe</a>.<a href="#">Encoder</a>.<a href="#">encode</a>(&amp;got, input);

    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqualSlices">expectEqualSlices</a>(<span class="tok-type">u8</span>, &amp;expect, &amp;got);
}

<span class="tok-kw">test</span> <span class="tok-str">&quot;base64 url_safe_no_pad&quot;</span> {
    <span class="tok-builtin">@setEvalBranchQuota</span>(<span class="tok-number">8000</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testBase64UrlSafeNoPad">testBase64UrlSafeNoPad</a>();
    <span class="tok-kw">try</span> <span class="tok-kw">comptime</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(<a href="std.base64.html#std.base64.url_safe_no_pad">url_safe_no_pad</a>, <span class="tok-str">&quot;comptime&quot;</span>, <span class="tok-str">&quot;Y29tcHRpbWU&quot;</span>);
}

<span class="tok-kw">fn</span> <span class="tok-fn">testBase64</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">const</span> codecs = <a href="std.base64.html#std.base64.standard">standard</a>;

    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;&quot;</span>, <span class="tok-str">&quot;&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;f&quot;</span>, <span class="tok-str">&quot;Zg==&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;fo&quot;</span>, <span class="tok-str">&quot;Zm8=&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foo&quot;</span>, <span class="tok-str">&quot;Zm9v&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foob&quot;</span>, <span class="tok-str">&quot;Zm9vYg==&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;fooba&quot;</span>, <span class="tok-str">&quot;Zm9vYmE=&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foobar&quot;</span>, <span class="tok-str">&quot;Zm9vYmFy&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foobarfoobarfoo&quot;</span>, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyZm9v&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foobarfoobarfoob&quot;</span>, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyZm9vYg==&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foobarfoobarfooba&quot;</span>, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyZm9vYmE=&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foobarfoobarfoobar&quot;</span>, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyZm9vYmFy&quot;</span>);

    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;&quot;</span>, <span class="tok-str">&quot; &quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;f&quot;</span>, <span class="tok-str">&quot;Z g= =&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;fo&quot;</span>, <span class="tok-str">&quot;    Zm8=&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;foo&quot;</span>, <span class="tok-str">&quot;Zm9v    &quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;foob&quot;</span>, <span class="tok-str">&quot;Zm9vYg = = &quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;fooba&quot;</span>, <span class="tok-str">&quot;Zm9v YmE=&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;foobar&quot;</span>, <span class="tok-str">&quot; Z m 9 v Y m F y &quot;</span>);<span class="tok-comment">

    // test getting some api errors
    </span><span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;A&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;AA&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;AAA&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;A..A&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;AA=A&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;AA/=&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;A/==&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;A===&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;====&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyA..A&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyAA=A&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyAA/=&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyA/==&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyA===&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;A..AZm9vYmFyZm9vYmFy&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;Zm9vYmFyZm9vAA=A&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;Zm9vYmFyZm9vAA/=&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;Zm9vYmFyZm9vA/==&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;Zm9vYmFyZm9vA===&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);

    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testNoSpaceLeftError">testNoSpaceLeftError</a>(codecs, <span class="tok-str">&quot;AA==&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testNoSpaceLeftError">testNoSpaceLeftError</a>(codecs, <span class="tok-str">&quot;AAA=&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testNoSpaceLeftError">testNoSpaceLeftError</a>(codecs, <span class="tok-str">&quot;AAAA&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testNoSpaceLeftError">testNoSpaceLeftError</a>(codecs, <span class="tok-str">&quot;AAAAAA==&quot;</span>);

    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testFourBytesDestNoSpaceLeftError">testFourBytesDestNoSpaceLeftError</a>(codecs, <span class="tok-str">&quot;AAAAAAAAAAAAAAAA&quot;</span>);
}

<span class="tok-kw">fn</span> <span class="tok-fn">testBase64UrlSafeNoPad</span>() !<span class="tok-type">void</span> {
    <span class="tok-kw">const</span> codecs = <a href="std.base64.html#std.base64.url_safe_no_pad">url_safe_no_pad</a>;

    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;&quot;</span>, <span class="tok-str">&quot;&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;f&quot;</span>, <span class="tok-str">&quot;Zg&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;fo&quot;</span>, <span class="tok-str">&quot;Zm8&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foo&quot;</span>, <span class="tok-str">&quot;Zm9v&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foob&quot;</span>, <span class="tok-str">&quot;Zm9vYg&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;fooba&quot;</span>, <span class="tok-str">&quot;Zm9vYmE&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foobar&quot;</span>, <span class="tok-str">&quot;Zm9vYmFy&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testAllApis">testAllApis</a>(codecs, <span class="tok-str">&quot;foobarfoobarfoobar&quot;</span>, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyZm9vYmFy&quot;</span>);

    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;&quot;</span>, <span class="tok-str">&quot; &quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;f&quot;</span>, <span class="tok-str">&quot;Z g &quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;fo&quot;</span>, <span class="tok-str">&quot;    Zm8&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;foo&quot;</span>, <span class="tok-str">&quot;Zm9v    &quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;foob&quot;</span>, <span class="tok-str">&quot;Zm9vYg   &quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;fooba&quot;</span>, <span class="tok-str">&quot;Zm9v YmE&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testDecodeIgnoreSpace">testDecodeIgnoreSpace</a>(codecs, <span class="tok-str">&quot;foobar&quot;</span>, <span class="tok-str">&quot; Z m 9 v Y m F y &quot;</span>);<span class="tok-comment">

    // test getting some api errors
    </span><span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;A&quot;</span>, <span class="tok-kw">error</span>.InvalidPadding);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;AAA=&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;A..A&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;AA=A&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;AA/=&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;A/==&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;A===&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;====&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;Zm9vYmFyZm9vYmFyA..A&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testError">testError</a>(codecs, <span class="tok-str">&quot;A..AZm9vYmFyZm9vYmFy&quot;</span>, <span class="tok-kw">error</span>.InvalidCharacter);

    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testNoSpaceLeftError">testNoSpaceLeftError</a>(codecs, <span class="tok-str">&quot;AA&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testNoSpaceLeftError">testNoSpaceLeftError</a>(codecs, <span class="tok-str">&quot;AAA&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testNoSpaceLeftError">testNoSpaceLeftError</a>(codecs, <span class="tok-str">&quot;AAAA&quot;</span>);
    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testNoSpaceLeftError">testNoSpaceLeftError</a>(codecs, <span class="tok-str">&quot;AAAAAA&quot;</span>);

    <span class="tok-kw">try</span> <a href="std.base64.html#std.base64.testFourBytesDestNoSpaceLeftError">testFourBytesDestNoSpaceLeftError</a>(codecs, <span class="tok-str">&quot;AAAAAAAAAAAAAAAA&quot;</span>);
}

<span class="tok-kw">fn</span> <span class="tok-fn">testAllApis</span>(codecs: <a href="std.base64.Codecs.html">Codecs</a>, expected_decoded: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, expected_encoded: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {<span class="tok-comment">
    // Base64Encoder
    </span>{<span class="tok-comment">
        // raw encode
        </span><span class="tok-kw">var</span> buffer: [<span class="tok-number">0x100</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
        <span class="tok-kw">const</span> encoded = codecs.Encoder.encode(&amp;buffer, expected_decoded);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqualSlices">expectEqualSlices</a>(<span class="tok-type">u8</span>, expected_encoded, encoded);<span class="tok-comment">

        // stream encode
        </span><span class="tok-kw">var</span> list = <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.bounded_array.html#std.bounded_array.BoundedArray">BoundedArray</a>(<span class="tok-type">u8</span>, <span class="tok-number">0x100</span>).init(<span class="tok-number">0</span>);
        <span class="tok-kw">try</span> codecs.Encoder.encodeWriter(list.writer(), expected_decoded);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqualSlices">expectEqualSlices</a>(<span class="tok-type">u8</span>, expected_encoded, list.slice());<span class="tok-comment">

        // reader to writer encode
        </span><span class="tok-kw">var</span> stream = <a href="std.html">std</a>.<a href="std.io.html">io</a>.<a href="std.io.fixed_buffer_stream.html#std.io.fixed_buffer_stream.fixedBufferStream">fixedBufferStream</a>(expected_decoded);
        list = <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.bounded_array.html#std.bounded_array.BoundedArray">BoundedArray</a>(<span class="tok-type">u8</span>, <span class="tok-number">0x100</span>).init(<span class="tok-number">0</span>);
        <span class="tok-kw">try</span> codecs.Encoder.encodeFromReaderToWriter(list.writer(), stream.reader());
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqualSlices">expectEqualSlices</a>(<span class="tok-type">u8</span>, expected_encoded, list.slice());
    }<span class="tok-comment">

    // Base64Decoder
    </span>{
        <span class="tok-kw">var</span> buffer: [<span class="tok-number">0x100</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
        <span class="tok-kw">const</span> decoded = buffer[<span class="tok-number">0</span>..<span class="tok-kw">try</span> codecs.Decoder.calcSizeForSlice(expected_encoded)];
        <span class="tok-kw">try</span> codecs.Decoder.decode(decoded, expected_encoded);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqualSlices">expectEqualSlices</a>(<span class="tok-type">u8</span>, expected_decoded, decoded);
    }<span class="tok-comment">

    // Base64DecoderWithIgnore
    </span>{
        <span class="tok-kw">const</span> decoder_ignore_nothing = codecs.decoderWithIgnore(<span class="tok-str">&quot;&quot;</span>);
        <span class="tok-kw">var</span> buffer: [<span class="tok-number">0x100</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
        <span class="tok-kw">const</span> decoded = buffer[<span class="tok-number">0</span>..<span class="tok-kw">try</span> decoder_ignore_nothing.calcSizeUpperBound(expected_encoded.len)];
        <span class="tok-kw">const</span> written = <span class="tok-kw">try</span> decoder_ignore_nothing.decode(decoded, expected_encoded);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expect">expect</a>(written &lt;= decoded.len);
        <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqualSlices">expectEqualSlices</a>(<span class="tok-type">u8</span>, expected_decoded, decoded[<span class="tok-number">0</span>..written]);
    }
}

<span class="tok-kw">fn</span> <span class="tok-fn">testDecodeIgnoreSpace</span>(codecs: <a href="std.base64.Codecs.html">Codecs</a>, expected_decoded: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, encoded: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {
    <span class="tok-kw">const</span> decoder_ignore_space = codecs.decoderWithIgnore(<span class="tok-str">&quot; &quot;</span>);
    <span class="tok-kw">var</span> buffer: [<span class="tok-number">0x100</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
    <span class="tok-kw">const</span> decoded = buffer[<span class="tok-number">0</span>..<span class="tok-kw">try</span> decoder_ignore_space.calcSizeUpperBound(encoded.len)];
    <span class="tok-kw">const</span> written = <span class="tok-kw">try</span> decoder_ignore_space.decode(decoded, encoded);
    <span class="tok-kw">try</span> <a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqualSlices">expectEqualSlices</a>(<span class="tok-type">u8</span>, expected_decoded, decoded[<span class="tok-number">0</span>..written]);
}

<span class="tok-kw">fn</span> <span class="tok-fn">testError</span>(codecs: <a href="std.base64.Codecs.html">Codecs</a>, encoded: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, expected_err: <span class="tok-type">anyerror</span>) !<span class="tok-type">void</span> {
    <span class="tok-kw">const</span> decoder_ignore_space = codecs.decoderWithIgnore(<span class="tok-str">&quot; &quot;</span>);
    <span class="tok-kw">var</span> buffer: [<span class="tok-number">0x100</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
    <span class="tok-kw">if</span> (codecs.Decoder.calcSizeForSlice(encoded)) |decoded_size| {
        <span class="tok-kw">const</span> decoded = buffer[<span class="tok-number">0</span>..decoded_size];
        <span class="tok-kw">if</span> (codecs.Decoder.decode(decoded, encoded)) |_| {
            <span class="tok-kw">return</span> <span class="tok-kw">error</span>.ExpectedError;
        } <span class="tok-kw">else</span> |err| <span class="tok-kw">if</span> (err != expected_err) <span class="tok-kw">return</span> err;
    } <span class="tok-kw">else</span> |err| <span class="tok-kw">if</span> (err != expected_err) <span class="tok-kw">return</span> err;

    <span class="tok-kw">if</span> (decoder_ignore_space.decode(buffer[<span class="tok-number">0</span>..], encoded)) |_| {
        <span class="tok-kw">return</span> <span class="tok-kw">error</span>.ExpectedError;
    } <span class="tok-kw">else</span> |err| <span class="tok-kw">if</span> (err != expected_err) <span class="tok-kw">return</span> err;
}

<span class="tok-kw">fn</span> <span class="tok-fn">testNoSpaceLeftError</span>(codecs: <a href="std.base64.Codecs.html">Codecs</a>, encoded: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {
    <span class="tok-kw">const</span> decoder_ignore_space = codecs.decoderWithIgnore(<span class="tok-str">&quot; &quot;</span>);
    <span class="tok-kw">var</span> buffer: [<span class="tok-number">0x100</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
    <span class="tok-kw">const</span> decoded = buffer[<span class="tok-number">0</span> .. (<span class="tok-kw">try</span> codecs.Decoder.calcSizeForSlice(encoded)) - <span class="tok-number">1</span>];
    <span class="tok-kw">if</span> (decoder_ignore_space.decode(decoded, encoded)) |_| {
        <span class="tok-kw">return</span> <span class="tok-kw">error</span>.ExpectedError;
    } <span class="tok-kw">else</span> |err| <span class="tok-kw">if</span> (err != <span class="tok-kw">error</span>.NoSpaceLeft) <span class="tok-kw">return</span> err;
}

<span class="tok-kw">fn</span> <span class="tok-fn">testFourBytesDestNoSpaceLeftError</span>(codecs: <a href="std.base64.Codecs.html">Codecs</a>, encoded: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {
    <span class="tok-kw">const</span> decoder_ignore_space = codecs.decoderWithIgnore(<span class="tok-str">&quot; &quot;</span>);
    <span class="tok-kw">var</span> buffer: [<span class="tok-number">0x100</span>]<span class="tok-type">u8</span> = <span class="tok-null">undefined</span>;
    <span class="tok-kw">const</span> decoded = buffer[<span class="tok-number">0</span>..<span class="tok-number">4</span>];
    <span class="tok-kw">if</span> (decoder_ignore_space.decode(decoded, encoded)) |_| {
        <span class="tok-kw">return</span> <span class="tok-kw">error</span>.ExpectedError;
    } <span class="tok-kw">else</span> |err| <span class="tok-kw">if</span> (err != <span class="tok-kw">error</span>.NoSpaceLeft) <span class="tok-kw">return</span> err;
}</code></pre></details></div></div></section>
    <div class="sectSearchResults hidden">
      <h2>Search Results</h2>
      <ul class="listSearchResults"></ul>
    </div>
    <div class="sectSearchNoResults hidden">
      <h2>No Results Found</h2>
      <p>Press escape to exit search and then '?' to see more options.</p>
    </div>
    <div id="helpDialog" class="hidden">
      <h1>Keyboard Shortcuts</h1>
      <dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd></dl>
      <dl><dt><kbd>Esc</kbd></dt><dd>Clear focus; close this dialog</dd></dl>
      <dl><dt><kbd>s</kbd></dt><dd>Focus the search field</dd></dl>
      <dl><dt><kbd>u</kbd></dt><dd>Go to source code</dd></dl>
      <dl><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd></dl>
      <dl><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd></dl>
      <dl><dt><kbd>⏎</kbd></dt><dd>Go to active search result</dd></dl>
    </div>
    <div id="errors" class="hidden">
      <h1>Errors</h1>
      <pre id="errorsText"></pre>
    </div>
    <script src="main.js"></script>
  </body>
</html>
