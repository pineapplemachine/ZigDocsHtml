<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zig Documentation</title>
    <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTMgMTQwIj48ZyBmaWxsPSIjRjdBNDFEIj48Zz48cG9seWdvbiBwb2ludHM9IjQ2LDIyIDI4LDQ0IDE5LDMwIi8+PHBvbHlnb24gcG9pbnRzPSI0NiwyMiAzMywzMyAyOCw0NCAyMiw0NCAyMiw5NSAzMSw5NSAyMCwxMDAgMTIsMTE3IDAsMTE3IDAsMjIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMzEsOTUgMTIsMTE3IDQsMTA2Ii8+PC9nPjxnPjxwb2x5Z29uIHBvaW50cz0iNTYsMjIgNjIsMzYgMzcsNDQiLz48cG9seWdvbiBwb2ludHM9IjU2LDIyIDExMSwyMiAxMTEsNDQgMzcsNDQgNTYsMzIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTE2LDk1IDk3LDExNyA5MCwxMDQiLz48cG9seWdvbiBwb2ludHM9IjExNiw5NSAxMDAsMTA0IDk3LDExNyA0MiwxMTcgNDIsOTUiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTUwLDAgNTIsMTE3IDMsMTQwIDEwMSwyMiIvPjwvZz48Zz48cG9seWdvbiBwb2ludHM9IjE0MSwyMiAxNDAsNDAgMTIyLDQ1Ii8+PHBvbHlnb24gcG9pbnRzPSIxNTMsMjIgMTUzLDExNyAxMDYsMTE3IDEyMCwxMDUgMTI1LDk1IDEzMSw5NSAxMzEsNDUgMTIyLDQ1IDEzMiwzNiAxNDEsMjIiIHNoYXBlLXJlbmRlcmluZz0iY3Jpc3BFZGdlcyIvPjxwb2x5Z29uIHBvaW50cz0iMTI1LDk1IDEzMCwxMTAgMTA2LDExNyIvPjwvZz48L2c+PC9zdmc+">
    <style type="text/css">
      *, *::before, *::after {
        box-sizing: border-box;
      }
      body {
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        font-size: 16px;
        color: #000000;
      }
      .hidden {
        display: none;
      }
      table {
        width: 100%;
      }
      a {
        color: #2A6286;
      }
      details summary {
        cursor: pointer;
      }
      pre {
        font-family: "Source Code Pro",monospace;
        font-size: 1rem;
        background-color: #F5F5F5;
        padding: 1rem;
        margin: 0;
        overflow-x: auto;
      }
      :not(pre) > code {
        white-space: break-spaces;
      }
      code, code a {
        font-family: "Source Code Pro", monospace;
        font-size: 0.9rem;
      }
      code a {
        color: #000000;
      }
      .listFields > div, .listParams > div {
        margin-bottom: 1rem;
      }
      .declHeader a {
        font-size: 0.7rem;
        padding-left: 1rem;
      }
      .declHeader .declHeaderIdentifier {
        padding-left: 0.75rem;
      }
      .fieldDocs {
        border: 1px solid #F5F5F5;
        border-top: 0px;
        padding: 1px 1rem;
      }

      #logo {
        width: 8rem;
        padding: 0.5rem 1rem;
      }

      #navWrap {
        width: -moz-available;
        width: -webkit-fill-available;
        width: stretch;
        margin-left: 11rem;
      }

      #search {
        width: 100%;
      }

      nav {
        width: 10rem;
        float: left;
      }
      nav h2 {
        font-size: 1.2rem;
        text-decoration: underline;
        margin: 0;
        padding: 0.5rem 0;
        text-align: center;
      }
      nav p {
        margin: 0;
        padding: 0;
        text-align: center;
      }
      section {
        clear: both;
        padding-top: 1rem;
      }
      section .declHeader {
        font-size: 1.3rem;
        border-bottom: 1px dashed;
        margin: 0 0;
      }
      section .sectionHeader {
        font-size: 1.3rem;
        margin: 0.5rem 0;
        padding: 0;
        border-bottom: 1px solid;
      }
      #listNav {
        list-style-type: none;
        margin: 0.5rem 0 0 0;
        padding: 0;
        overflow: hidden;
        background-color: #f1f1f1;
      }
      #listNav li {
        float:left;
      }
      #listNav li a {
        display: block;
        color: #000;
        text-align: center;
        padding: .5rem .8rem;
        text-decoration: none;
      }
      #listNav li a:hover {
        background-color: #555;
        color: #fff;
      }
      #listNav li a.active {
        background-color: #FFBB4D;
        color: #000;
      }
      .sectSource {
        margin-bottom: 2rem;
      }

      #helpDialog {
        width: 21rem;
        height: 21rem;
        position: fixed;
        top: 0;
        left: 0;
        background-color: #333;
        color: #fff;
        border: 1px solid #fff;
      }
      #helpDialog h1 {
        text-align: center;
        font-size: 1.5rem;
      }
      #helpDialog dt, #helpDialog dd {
        display: inline;
        margin: 0 0.2rem;
      }
      kbd {
        color: #000;
        background-color: #fafbfc;
        border-color: #d1d5da;
        border-bottom-color: #c6cbd1;
        box-shadow-color: #c6cbd1;
        display: inline-block;
        padding: 0.3rem 0.2rem;
        font: 1.2rem monospace;
        line-height: 0.8rem;
        vertical-align: middle;
        border: solid 1px;
        border-radius: 3px;
        box-shadow: inset 0 -1px 0;
        cursor: default;
      }

      #errors {
        background-color: #faa;
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        max-height: min(20rem, 50vh);
        padding: 0.5rem;
        overflow: auto;
      }
      #errors h1 {
        font-size: 1.5rem;
      }
      #errors pre {
        background-color: #fcc;
      }
      
      .decl .decl {
        padding-left: 1rem;
        border-left: 4px solid;
        border-color: #555;
      }

      .listSearchResults li.selected {
        background-color: #93e196;
      }

      .tableFnErrors dt {
        font-weight: bold;
      }

      dl > div {
          padding: 0.5rem;
          border: 1px solid #c0c0c0;
          margin-top: 0.5rem;
      }

      td, th {
        text-align: unset;
        vertical-align: top;
        margin: 0;
        padding: 0.5rem;
        max-width: 20rem;
        text-overflow: ellipsis;
        overflow-x: hidden;
      }

      ul.columns {
        column-width: 20rem;
      }

      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #0086b3;
      }
      .tok-comment {
          color: #777;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #008080;
      }
      .tok-number {
          color: #008080;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }

      @media (prefers-color-scheme: dark) {
        body {
          background-color: #111;
          color: #bbb;
        }
        pre {
          background-color: #222;
          color: #ccc;
        }
        a {
          color: #88f;
        }
        code a {
          color: #ccc;
        }
        .fieldDocs {
          border-color:#2A2A2A;
        }
        #listNav {
          background-color: #333;
        }
        #listNav li a {
          color: #fff;
        }
        #listNav li a:hover {
          background-color: #555;
          color: #fff;
        }
        #listNav li a.active {
          background-color: #FFBB4D;
          color: #000;
        }
        .listSearchResults li.selected {
          background-color: #000;
        }
        .listSearchResults li.selected a {
          color: #fff;
        }
        #errors {
          background-color: #800;
          color: #fff;
        }
        #errors pre {
          background-color: #a00;
          color: #fff;
        }
        dl > div {
          border-color: #373737;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #B1A0F8;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
      }
    </style>
  </head>
  <body>
    <nav>
      <a class="logo" href="#">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 140">
        <g fill="#F7A41D">
          <g>
            <polygon points="46,22 28,44 19,30"/>
            <polygon points="46,22 33,33 28,44 22,44 22,95 31,95 20,100 12,117 0,117 0,22" shape-rendering="crispEdges"/>
            <polygon points="31,95 12,117 4,106"/>
          </g>
          <g>
            <polygon points="56,22 62,36 37,44"/>
            <polygon points="56,22 111,22 111,44 37,44 56,32" shape-rendering="crispEdges"/>
            <polygon points="116,95 97,117 90,104"/>
            <polygon points="116,95 100,104 97,117 42,117 42,95" shape-rendering="crispEdges"/>
            <polygon points="150,0 52,117 3,140 101,22"/>
          </g>
          <g>
            <polygon points="141,22 140,40 122,45"/>
            <polygon points="153,22 153,117 106,117 120,105 125,95 131,95 131,45 122,45 132,36 141,22" shape-rendering="crispEdges"/>
            <polygon points="125,95 130,110 106,117"/>
          </g>
        </g>
        <style>
        #text { fill: #121212 }
        @media (prefers-color-scheme: dark) { #text { fill: #f2f2f2 } }
        </style>
        <g id="text">
          <g>
            <polygon points="260,22 260,37 229,40 177,40 177,22" shape-rendering="crispEdges"/>
            <polygon points="260,37 207,99 207,103 176,103 229,40 229,37"/>
            <polygon points="261,99 261,117 176,117 176,103 206,99" shape-rendering="crispEdges"/>
          </g>
          <rect x="272" y="22" shape-rendering="crispEdges" width="22" height="95"/>
          <g>
            <polygon points="394,67 394,106 376,106 376,81 360,70 346,67" shape-rendering="crispEdges"/>
            <polygon points="360,68 376,81 346,67"/>
            <path d="M394,106c-10.2,7.3-24,12-37.7,12c-29,0-51.1-20.8-51.1-48.3c0-27.3,22.5-48.1,52-48.1    c14.3,0,29.2,5.5,38.9,14l-13,15c-7.1-6.3-16.8-10-25.9-10c-17,0-30.2,12.9-30.2,29.5c0,16.8,13.3,29.6,30.3,29.6    c5.7,0,12.8-2.3,19-5.5L394,106z"/>
          </g>
        </g>
        </svg>
      </a>
    </nav>
    <div id="navWrap">
      <input disabled type="search" id="search" autocomplete="off" spellcheck="false" placeholder="`s` to search, `?` to see more options">
      <div id="sectNav"><ul id="listNav"><li><a href="#" class="">std</a></li><li><a href="std.html" class="">Build</a></li><li><a href="std.Build.html" class="">Step</a></li><li><a href="std.Build.Step.Options.html" class="active">Options</a></li></ul></div>
    </div>
    <section><div class="decl"><h1 id="std.Build.Step.Options" class="declHeader"><span class="declHeaderCategory">struct</span><span class="declHeaderIdentifier">std.Build.Step.Options</span><a href="#src.zig-std.Build.Step.Options">[src]</a></h1><div class="sectFields"><h2 class="sectionHeader">Fields</h2><div class="listFields"><div><pre><code>step: <a href="std.Build.Step.html">Step</a></code></pre></div><div><pre><code>generated_file: <a href="std.Build.GeneratedFile.html">GeneratedFile</a></code></pre></div><div><pre><code>contents: <a href="std.html">std</a>.<a href="std.array_list.html#std.array_list.ArrayList">ArrayList</a>(<span class="tok-type">u8</span>)</code></pre></div><div><pre><code>args: <a href="std.html">std</a>.<a href="std.array_list.html#std.array_list.ArrayList">ArrayList</a>(<a href="std.Build.Step.Options.Arg.html">Arg</a>)</code></pre></div><div><pre><code>encountered_types: <a href="std.html">std</a>.<a href="std.hash_map.html#std.hash_map.StringHashMap">StringHashMap</a>(<span class="tok-type">void</span>)</code></pre></div></div></div><div class="sectValues"><h2 class="sectionHeader">Values</h2><div class="listValues"><div class="decl"><h2 id="std.Build.Step.Options.base_id" class="declHeader"><span class="declHeaderCategory">Constant</span><span class="declHeaderIdentifier">base_id</span><a href="#src.zig-std.Build.Step.Options.base_id">[src]</a></h2><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.Build.Step.Options.base_id">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">const</span> base_id: <a href="std.Build.Step.html">Step</a>.<a href="std.Build.Step.Id.html">Id</a> = .options</code></pre></details></div></div></div></div><div class="sectFns"><h2 class="sectionHeader">Functions</h2><div class="listFns"><div class="decl"><h2 id="std.Build.Step.Options.create" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">create</span><a href="#src.zig-std.Build.Step.Options.create">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">create</span>(owner: *<a href="std.html">std</a>.<a href="std.Build.html">Build</a>) *<a href="std.Build.Step.Options.html">Options</a></code></pre></div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>owner: *<a href="std.html">std</a>.<a href="std.Build.html">Build</a></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.Build.Step.Options.create">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">create</span>(owner: *<a href="std.html">std</a>.<a href="std.Build.html">Build</a>) *<a href="std.Build.Step.Options.html">Options</a> {
    <span class="tok-kw">const</span> options = owner.allocator.create(<a href="std.Build.Step.Options.html">Options</a>) <span class="tok-kw">catch</span> <span class="tok-builtin">@panic</span>(<span class="tok-str">&quot;OOM&quot;</span>);
    options.* = .{
        .step = <a href="std.Build.Step.html">Step</a>.<a href="std.Build.Step.html#std.Build.Step.init">init</a>(.{
            .id = <a href="std.Build.Step.Options.html#std.Build.Step.Options.base_id">base_id</a>,
            .name = <span class="tok-str">&quot;options&quot;</span>,
            .owner = owner,
            .makeFn = <a href="std.Build.Step.Options.html#std.Build.Step.Options.make">make</a>,
        }),
        .generated_file = <span class="tok-null">undefined</span>,
        .contents = <a href="std.html">std</a>.<a href="std.array_list.html#std.array_list.ArrayList">ArrayList</a>(<span class="tok-type">u8</span>).init(owner.allocator),
        .args = <a href="std.html">std</a>.<a href="std.array_list.html#std.array_list.ArrayList">ArrayList</a>(<a href="std.Build.Step.Options.Arg.html">Arg</a>).init(owner.allocator),
        .encountered_types = <a href="std.html">std</a>.<a href="std.hash_map.html#std.hash_map.StringHashMap">StringHashMap</a>(<span class="tok-type">void</span>).init(owner.allocator),
    };
    options.generated_file = .{ .step = &amp;options.step };

    <span class="tok-kw">return</span> options;
}</code></pre></details></div></div><div class="decl"><h2 id="std.Build.Step.Options.addOption" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">addOption</span><a href="#src.zig-std.Build.Step.Options.addOption">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">addOption</span>(options: *<a href="std.Build.Step.Options.html">Options</a>, <span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, value: T) <span class="tok-type">void</span></code></pre></div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>options: *<a href="std.Build.Step.Options.html">Options</a></code></pre></div><div><pre><code>T: <span class="tok-type">type</span></code></pre></div><div><pre><code>name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span></code></pre></div><div><pre><code>value: T</code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.Build.Step.Options.addOption">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">addOption</span>(options: *<a href="std.Build.Step.Options.html">Options</a>, <span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, value: T) <span class="tok-type">void</span> {
    <span class="tok-kw">return</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.addOptionFallible">addOptionFallible</a>(options, T, name, value) <span class="tok-kw">catch</span> <span class="tok-builtin">@panic</span>(<span class="tok-str">&quot;unhandled error&quot;</span>);
}</code></pre></details></div></div><div class="decl"><h2 id="std.Build.Step.Options.addOptionPath" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">addOptionPath</span><a href="#src.zig-std.Build.Step.Options.addOptionPath">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">addOptionPath</span>( options: *<a href="std.Build.Step.Options.html">Options</a>, name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, path: <a href="std.Build.LazyPath.html">LazyPath</a>, ) <span class="tok-type">void</span></code></pre></div><div class="tldDocs"><p>The value is the path in the cache dir.
Adds a dependency automatically.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>options: *<a href="std.Build.Step.Options.html">Options</a></code></pre></div><div><pre><code>name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span></code></pre></div><div><pre><code>path: <a href="std.Build.LazyPath.html">LazyPath</a></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.Build.Step.Options.addOptionPath">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">addOptionPath</span>(
    options: *<a href="std.Build.Step.Options.html">Options</a>,
    name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>,
    path: <a href="std.Build.LazyPath.html">LazyPath</a>,
) <span class="tok-type">void</span> {
    options.args.append(.{
        .name = options.step.owner.dupe(name),
        .path = path.dupe(options.step.owner),
    }) <span class="tok-kw">catch</span> <span class="tok-builtin">@panic</span>(<span class="tok-str">&quot;OOM&quot;</span>);
    path.addStepDependencies(&amp;options.step);
}</code></pre></details></div></div><div class="decl"><h2 id="std.Build.Step.Options.createModule" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">createModule</span><a href="#src.zig-std.Build.Step.Options.createModule">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">createModule</span>(options: *<a href="std.Build.Step.Options.html">Options</a>) *<a href="std.html">std</a>.<a href="std.Build.html">Build</a>.<a href="std.Build.Module.html">Module</a></code></pre></div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>options: *<a href="std.Build.Step.Options.html">Options</a></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.Build.Step.Options.createModule">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">createModule</span>(options: *<a href="std.Build.Step.Options.html">Options</a>) *<a href="std.html">std</a>.<a href="std.Build.html">Build</a>.<a href="std.Build.Module.html">Module</a> {
    <span class="tok-kw">return</span> options.step.owner.createModule(.{
        .root_source_file = options.getOutput(),
    });
}</code></pre></details></div></div><div class="decl"><h2 id="std.Build.Step.Options.getOutput" class="declHeader"><span class="declHeaderCategory">Function</span><span class="declHeaderIdentifier">getOutput</span><a href="#src.zig-std.Build.Step.Options.getOutput">[src]</a></h2><div class="fnProto"><pre><code class="fnProtoCode"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">getOutput</span>(options: *<a href="std.Build.Step.Options.html">Options</a>) <a href="std.Build.LazyPath.html">LazyPath</a></code></pre></div><div class="tldDocs"><p>Returns the main artifact of this Build Step which is a Zig source file
generated from the key-value pairs of the Options.</p>
</div><div class="sectParams"><h3 class="sectionHeader">Parameters</h3><div class="listParams"><div><pre><code>options: *<a href="std.Build.Step.Options.html">Options</a></code></pre></div></div></div><div class="sectSource"><h3 class="sectionHeader" id="src.zig-std.Build.Step.Options.getOutput">Source Code</h3><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">getOutput</span>(options: *<a href="std.Build.Step.Options.html">Options</a>) <a href="std.Build.LazyPath.html">LazyPath</a> {
    <span class="tok-kw">return</span> .{ .generated = .{ .file = &amp;options.generated_file } };
}</code></pre></details></div></div></div></div><div class="sectSource"><h2 class="sectionHeader" id="src.zig-std.Build.Step.Options">Source Code</h2><details><summary>Source code</summary><pre><code class="sourceText"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);
<span class="tok-kw">const</span> builtin = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;builtin&quot;</span>);
<span class="tok-kw">const</span> fs = <a href="std.html">std</a>.<a href="std.fs.html">fs</a>;
<span class="tok-kw">const</span> Step = <a href="std.html">std</a>.<a href="std.Build.html">Build</a>.<a href="std.Build.Step.html">Step</a>;
<span class="tok-kw">const</span> GeneratedFile = <a href="std.html">std</a>.<a href="std.Build.html">Build</a>.<a href="std.Build.GeneratedFile.html">GeneratedFile</a>;
<span class="tok-kw">const</span> LazyPath = <a href="std.html">std</a>.<a href="std.Build.html">Build</a>.<a href="std.Build.LazyPath.html">LazyPath</a>;

<span class="tok-kw">const</span> Options = <span class="tok-builtin">@This</span>();

<span class="tok-kw">pub</span> <span class="tok-kw">const</span> base_id: <a href="std.Build.Step.html">Step</a>.<a href="std.Build.Step.Id.html">Id</a> = .options;

step: <a href="std.Build.Step.html">Step</a>,
generated_file: <a href="std.Build.GeneratedFile.html">GeneratedFile</a>,

contents: <a href="std.html">std</a>.<a href="std.array_list.html#std.array_list.ArrayList">ArrayList</a>(<span class="tok-type">u8</span>),
args: <a href="std.html">std</a>.<a href="std.array_list.html#std.array_list.ArrayList">ArrayList</a>(<a href="std.Build.Step.Options.Arg.html">Arg</a>),
encountered_types: <a href="std.html">std</a>.<a href="std.hash_map.html#std.hash_map.StringHashMap">StringHashMap</a>(<span class="tok-type">void</span>),

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">create</span>(owner: *<a href="std.html">std</a>.<a href="std.Build.html">Build</a>) *<a href="std.Build.Step.Options.html">Options</a> {
    <span class="tok-kw">const</span> options = owner.allocator.create(<a href="std.Build.Step.Options.html">Options</a>) <span class="tok-kw">catch</span> <span class="tok-builtin">@panic</span>(<span class="tok-str">&quot;OOM&quot;</span>);
    options.* = .{
        .step = <a href="std.Build.Step.html">Step</a>.<a href="std.Build.Step.html#std.Build.Step.init">init</a>(.{
            .id = <a href="std.Build.Step.Options.html#std.Build.Step.Options.base_id">base_id</a>,
            .name = <span class="tok-str">&quot;options&quot;</span>,
            .owner = owner,
            .makeFn = <a href="std.Build.Step.Options.html#std.Build.Step.Options.make">make</a>,
        }),
        .generated_file = <span class="tok-null">undefined</span>,
        .contents = <a href="std.html">std</a>.<a href="std.array_list.html#std.array_list.ArrayList">ArrayList</a>(<span class="tok-type">u8</span>).init(owner.allocator),
        .args = <a href="std.html">std</a>.<a href="std.array_list.html#std.array_list.ArrayList">ArrayList</a>(<a href="std.Build.Step.Options.Arg.html">Arg</a>).init(owner.allocator),
        .encountered_types = <a href="std.html">std</a>.<a href="std.hash_map.html#std.hash_map.StringHashMap">StringHashMap</a>(<span class="tok-type">void</span>).init(owner.allocator),
    };
    options.generated_file = .{ .step = &amp;options.step };

    <span class="tok-kw">return</span> options;
}

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">addOption</span>(options: *<a href="std.Build.Step.Options.html">Options</a>, <span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, value: T) <span class="tok-type">void</span> {
    <span class="tok-kw">return</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.addOptionFallible">addOptionFallible</a>(options, T, name, value) <span class="tok-kw">catch</span> <span class="tok-builtin">@panic</span>(<span class="tok-str">&quot;unhandled error&quot;</span>);
}

<span class="tok-kw">fn</span> <span class="tok-fn">addOptionFallible</span>(options: *<a href="std.Build.Step.Options.html">Options</a>, <span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>, value: T) !<span class="tok-type">void</span> {
    <span class="tok-kw">const</span> out = options.contents.writer();
    <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printType">printType</a>(options, out, T, value, <span class="tok-number">0</span>, name);
}

<span class="tok-kw">fn</span> <span class="tok-fn">printType</span>(options: *<a href="std.Build.Step.Options.html">Options</a>, out: <span class="tok-kw">anytype</span>, <span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, value: T, indent: <span class="tok-type">u8</span>, name: ?[]<span class="tok-kw">const</span> <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {
    <span class="tok-kw">switch</span> (T) {
        []<span class="tok-kw">const</span> []<span class="tok-kw">const</span> <span class="tok-type">u8</span> =&gt; {
            <span class="tok-kw">if</span> (name) |payload| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: []const []const u8 = &quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(payload)});
            }

            <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;&amp;[_][]const u8{\n&quot;</span>);

            <span class="tok-kw">for</span> (value) |slice| {
                <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;    \&quot;{}\&quot;,\n&quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtEscapes">fmtEscapes</a>(slice)});
            }

            <span class="tok-kw">if</span> (name != <span class="tok-null">null</span>) {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;};\n&quot;</span>);
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;},\n&quot;</span>);
            }

            <span class="tok-kw">return</span>;
        },
        []<span class="tok-kw">const</span> <span class="tok-type">u8</span> =&gt; {
            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: []const u8 = \&quot;{}\&quot;;&quot;</span>, .{ <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some), <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtEscapes">fmtEscapes</a>(value) });
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;\&quot;{}\&quot;,&quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtEscapes">fmtEscapes</a>(value)});
            }
            <span class="tok-kw">return</span> out.writeAll(<span class="tok-str">&quot;\n&quot;</span>);
        },
        [:<span class="tok-number">0</span>]<span class="tok-kw">const</span> <span class="tok-type">u8</span> =&gt; {
            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: [:0]const u8 = \&quot;{}\&quot;;&quot;</span>, .{ <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some), <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtEscapes">fmtEscapes</a>(value) });
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;\&quot;{}\&quot;,&quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtEscapes">fmtEscapes</a>(value)});
            }
            <span class="tok-kw">return</span> out.writeAll(<span class="tok-str">&quot;\n&quot;</span>);
        },
        ?[]<span class="tok-kw">const</span> <span class="tok-type">u8</span> =&gt; {
            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: ?[]const u8 = &quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some)});
            }

            <span class="tok-kw">if</span> (value) |payload| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;\&quot;{}\&quot;&quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtEscapes">fmtEscapes</a>(payload)});
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;null&quot;</span>);
            }

            <span class="tok-kw">if</span> (name != <span class="tok-null">null</span>) {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;;\n&quot;</span>);
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;,\n&quot;</span>);
            }
            <span class="tok-kw">return</span>;
        },
        ?[:<span class="tok-number">0</span>]<span class="tok-kw">const</span> <span class="tok-type">u8</span> =&gt; {
            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: ?[:0]const u8 = &quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some)});
            }

            <span class="tok-kw">if</span> (value) |payload| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;\&quot;{}\&quot;&quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtEscapes">fmtEscapes</a>(payload)});
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;null&quot;</span>);
            }

            <span class="tok-kw">if</span> (name != <span class="tok-null">null</span>) {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;;\n&quot;</span>);
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;,\n&quot;</span>);
            }
            <span class="tok-kw">return</span>;
        },
        <a href="std.html">std</a>.<a href="std.SemanticVersion.html">SemanticVersion</a> =&gt; {
            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: @import(\&quot;std\&quot;).SemanticVersion = &quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some)});
            }

            <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;.{\n&quot;</span>);
            <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
            <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;    .major = {d},\n&quot;</span>, .{value.major});
            <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
            <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;    .minor = {d},\n&quot;</span>, .{value.minor});
            <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
            <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;    .patch = {d},\n&quot;</span>, .{value.patch});

            <span class="tok-kw">if</span> (value.pre) |some| {
                <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;    .pre = \&quot;{}\&quot;,\n&quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtEscapes">fmtEscapes</a>(some)});
            }
            <span class="tok-kw">if</span> (value.build) |some| {
                <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;    .build = \&quot;{}\&quot;,\n&quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtEscapes">fmtEscapes</a>(some)});
            }

            <span class="tok-kw">if</span> (name != <span class="tok-null">null</span>) {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;};\n&quot;</span>);
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;},\n&quot;</span>);
            }
            <span class="tok-kw">return</span>;
        },
        <span class="tok-kw">else</span> =&gt; {},
    }

    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .array =&gt; {
            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: {s} = &quot;</span>, .{ <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some), <span class="tok-builtin">@typeName</span>(T) });
            }

            <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;{s} {{\n&quot;</span>, .{<span class="tok-builtin">@typeName</span>(T)});
            <span class="tok-kw">for</span> (value) |item| {
                <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent + <span class="tok-number">4</span>);
                <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printType">printType</a>(options, out, <span class="tok-builtin">@TypeOf</span>(item), item, indent + <span class="tok-number">4</span>, <span class="tok-null">null</span>);
            }
            <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
            <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;}&quot;</span>);

            <span class="tok-kw">if</span> (name != <span class="tok-null">null</span>) {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;;\n&quot;</span>);
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;,\n&quot;</span>);
            }
            <span class="tok-kw">return</span>;
        },
        .pointer =&gt; |p| {
            <span class="tok-kw">if</span> (p.size != .slice) {
                <span class="tok-builtin">@compileError</span>(<span class="tok-str">&quot;Non-slice pointers are not yet supported in build options&quot;</span>);
            }

            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: {s} = &quot;</span>, .{ <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some), <span class="tok-builtin">@typeName</span>(T) });
            }

            <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;&amp;[_]{s} {{\n&quot;</span>, .{<span class="tok-builtin">@typeName</span>(p.child)});
            <span class="tok-kw">for</span> (value) |item| {
                <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent + <span class="tok-number">4</span>);
                <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printType">printType</a>(options, out, <span class="tok-builtin">@TypeOf</span>(item), item, indent + <span class="tok-number">4</span>, <span class="tok-null">null</span>);
            }
            <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
            <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;}&quot;</span>);

            <span class="tok-kw">if</span> (name != <span class="tok-null">null</span>) {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;;\n&quot;</span>);
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;,\n&quot;</span>);
            }
            <span class="tok-kw">return</span>;
        },
        .optional =&gt; {
            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: {s} = &quot;</span>, .{ <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some), <span class="tok-builtin">@typeName</span>(T) });
            }

            <span class="tok-kw">if</span> (value) |inner| {
                <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printType">printType</a>(options, out, <span class="tok-builtin">@TypeOf</span>(inner), inner, indent + <span class="tok-number">4</span>, <span class="tok-null">null</span>);<span class="tok-comment">
                // Pop the '\n' and ',' chars
                </span>_ = options.contents.pop();
                _ = options.contents.pop();
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;null&quot;</span>);
            }

            <span class="tok-kw">if</span> (name != <span class="tok-null">null</span>) {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;;\n&quot;</span>);
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;,\n&quot;</span>);
            }
            <span class="tok-kw">return</span>;
        },
        .<span class="tok-type">void</span>,
        .<span class="tok-type">bool</span>,
        .int,
        .<span class="tok-type">comptime_int</span>,
        .float,
        .<span class="tok-null">null</span>,
        =&gt; {
            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: {s} = {any};\n&quot;</span>, .{ <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some), <span class="tok-builtin">@typeName</span>(T), value });
            } <span class="tok-kw">else</span> {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;{any},\n&quot;</span>, .{value});
            }
            <span class="tok-kw">return</span>;
        },
        .@&quot;enum&quot; =&gt; |info| {
            <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printEnum">printEnum</a>(options, out, T, info, indent);

            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: {} = .{p_};\n&quot;</span>, .{
                    <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some),
                    <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(<span class="tok-builtin">@typeName</span>(T)),
                    <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(<span class="tok-builtin">@tagName</span>(value)),
                });
            }
            <span class="tok-kw">return</span>;
        },
        .@&quot;struct&quot; =&gt; |info| {
            <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printStruct">printStruct</a>(options, out, T, info, indent);

            <span class="tok-kw">if</span> (name) |some| {
                <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {}: {} = &quot;</span>, .{
                    <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(some),
                    <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(<span class="tok-builtin">@typeName</span>(T)),
                });
                <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printStructValue">printStructValue</a>(options, out, info, value, indent);
            }
            <span class="tok-kw">return</span>;
        },
        <span class="tok-kw">else</span> =&gt; <span class="tok-builtin">@compileError</span>(<a href="std.html">std</a>.<a href="std.fmt.html">fmt</a>.<a href="std.fmt.html#std.fmt.comptimePrint">comptimePrint</a>(<span class="tok-str">&quot;`{s}` are not yet supported as build options&quot;</span>, .{<span class="tok-builtin">@tagName</span>(<span class="tok-builtin">@typeInfo</span>(T))})),
    }
}

<span class="tok-kw">fn</span> <span class="tok-fn">printUserDefinedType</span>(options: *<a href="std.Build.Step.Options.html">Options</a>, out: <span class="tok-kw">anytype</span>, <span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, indent: <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {
    <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(T)) {
        .@&quot;enum&quot; =&gt; |info| {
            <span class="tok-kw">return</span> <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printEnum">printEnum</a>(options, out, T, info, indent);
        },
        .@&quot;struct&quot; =&gt; |info| {
            <span class="tok-kw">return</span> <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printStruct">printStruct</a>(options, out, T, info, indent);
        },
        <span class="tok-kw">else</span> =&gt; {},
    }
}

<span class="tok-kw">fn</span> <span class="tok-fn">printEnum</span>(options: *<a href="std.Build.Step.Options.html">Options</a>, out: <span class="tok-kw">anytype</span>, <span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, <span class="tok-kw">comptime</span> val: <a href="std.html">std</a>.<a href="std.builtin.html">builtin</a>.<a href="std.builtin.Type.html">Type</a>.<a href="std.builtin.Type.Enum.html">Enum</a>, indent: <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {
    <span class="tok-kw">const</span> gop = <span class="tok-kw">try</span> options.encountered_types.getOrPut(<span class="tok-builtin">@typeName</span>(T));
    <span class="tok-kw">if</span> (gop.found_existing) <span class="tok-kw">return</span>;

    <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
    <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {} = enum ({s}) {{\n&quot;</span>, .{ <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(<span class="tok-builtin">@typeName</span>(T)), <span class="tok-builtin">@typeName</span>(val.tag_type) });

    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (val.fields) |field| {
        <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
        <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;    {p} = {d},\n&quot;</span>, .{ <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(field.name), field.value });
    }

    <span class="tok-kw">if</span> (!val.is_exhaustive) {
        <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
        <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;    _,\n&quot;</span>);
    }

    <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
    <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;};\n&quot;</span>);
}

<span class="tok-kw">fn</span> <span class="tok-fn">printStruct</span>(options: *<a href="std.Build.Step.Options.html">Options</a>, out: <span class="tok-kw">anytype</span>, <span class="tok-kw">comptime</span> T: <span class="tok-type">type</span>, <span class="tok-kw">comptime</span> val: <a href="std.html">std</a>.<a href="std.builtin.html">builtin</a>.<a href="std.builtin.Type.html">Type</a>.<a href="std.builtin.Type.Struct.html">Struct</a>, indent: <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {
    <span class="tok-kw">const</span> gop = <span class="tok-kw">try</span> options.encountered_types.getOrPut(<span class="tok-builtin">@typeName</span>(T));
    <span class="tok-kw">if</span> (gop.found_existing) <span class="tok-kw">return</span>;

    <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
    <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;pub const {} = &quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(<span class="tok-builtin">@typeName</span>(T))});

    <span class="tok-kw">switch</span> (val.layout) {
        .@&quot;extern&quot; =&gt; <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;extern struct&quot;</span>),
        .@&quot;packed&quot; =&gt; <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;packed struct&quot;</span>),
        <span class="tok-kw">else</span> =&gt; <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;struct&quot;</span>),
    }

    <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot; {\n&quot;</span>);

    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (val.fields) |field| {
        <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);

        <span class="tok-kw">const</span> type_name = <span class="tok-builtin">@typeName</span>(field.<span class="tok-type">type</span>);<span class="tok-comment">

        // If the type name doesn't contains a '.' the type is from zig builtins.
        </span><span class="tok-kw">if</span> (<a href="std.html">std</a>.<a href="std.mem.html">mem</a>.<a href="std.mem.html#std.mem.containsAtLeast">containsAtLeast</a>(<span class="tok-type">u8</span>, type_name, <span class="tok-number">1</span>, <span class="tok-str">&quot;.&quot;</span>)) {
            <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;    {p_}: {}&quot;</span>, .{ <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(field.name), <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(type_name) });
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;    {p_}: {s}&quot;</span>, .{ <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(field.name), type_name });
        }

        <span class="tok-kw">if</span> (field.defaultValue()) |default_value| {
            <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot; = &quot;</span>);
            <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(default_value))) {
                .@&quot;enum&quot; =&gt; <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;.{s},\n&quot;</span>, .{<span class="tok-builtin">@tagName</span>(default_value)}),
                .@&quot;struct&quot; =&gt; |info| {
                    <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printStructValue">printStructValue</a>(options, out, info, default_value, indent + <span class="tok-number">4</span>);
                },
                <span class="tok-kw">else</span> =&gt; <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printType">printType</a>(options, out, <span class="tok-builtin">@TypeOf</span>(default_value), default_value, indent, <span class="tok-null">null</span>),
            }
        } <span class="tok-kw">else</span> {
            <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;,\n&quot;</span>);
        }
    }<span class="tok-comment">

    // TODO: write declarations

    </span><span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
    <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;};\n&quot;</span>);

    <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (val.fields) |field| {
        <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printUserDefinedType">printUserDefinedType</a>(options, out, field.<span class="tok-type">type</span>, <span class="tok-number">0</span>);
    }
}

<span class="tok-kw">fn</span> <span class="tok-fn">printStructValue</span>(options: *<a href="std.Build.Step.Options.html">Options</a>, out: <span class="tok-kw">anytype</span>, <span class="tok-kw">comptime</span> struct_val: <a href="std.html">std</a>.<a href="std.builtin.html">builtin</a>.<a href="std.builtin.Type.html">Type</a>.<a href="std.builtin.Type.Struct.html">Struct</a>, val: <span class="tok-kw">anytype</span>, indent: <span class="tok-type">u8</span>) !<span class="tok-type">void</span> {
    <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;.{\n&quot;</span>);

    <span class="tok-kw">if</span> (struct_val.is_tuple) {
        <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (struct_val.fields) |field| {
            <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
            <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printType">printType</a>(options, out, <span class="tok-builtin">@TypeOf</span>(<span class="tok-builtin">@field</span>(val, field.name)), <span class="tok-builtin">@field</span>(val, field.name), indent, <span class="tok-null">null</span>);
        }
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">inline</span> <span class="tok-kw">for</span> (struct_val.fields) |field| {
            <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
            <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;    .{p_} = &quot;</span>, .{<a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.html#std.zig.fmtId">fmtId</a>(field.name)});

            <span class="tok-kw">const</span> field_name = <span class="tok-builtin">@field</span>(val, field.name);
            <span class="tok-kw">switch</span> (<span class="tok-builtin">@typeInfo</span>(<span class="tok-builtin">@TypeOf</span>(field_name))) {
                .@&quot;enum&quot; =&gt; <span class="tok-kw">try</span> out.print(<span class="tok-str">&quot;.{s},\n&quot;</span>, .{<span class="tok-builtin">@tagName</span>(field_name)}),
                .@&quot;struct&quot; =&gt; |struct_info| {
                    <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printStructValue">printStructValue</a>(options, out, struct_info, field_name, indent + <span class="tok-number">4</span>);
                },
                <span class="tok-kw">else</span> =&gt; <span class="tok-kw">try</span> <a href="std.Build.Step.Options.html#std.Build.Step.Options.printType">printType</a>(options, out, <span class="tok-builtin">@TypeOf</span>(field_name), field_name, indent, <span class="tok-null">null</span>),
            }
        }
    }

    <span class="tok-kw">if</span> (indent == <span class="tok-number">0</span>) {
        <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;};\n&quot;</span>);
    } <span class="tok-kw">else</span> {
        <span class="tok-kw">try</span> out.writeByteNTimes(<span class="tok-str">' '</span>, indent);
        <span class="tok-kw">try</span> out.writeAll(<span class="tok-str">&quot;},\n&quot;</span>);
    }
}

<span class="tok-comment">/// The value is the path in the cache dir.</span>
<span class="tok-comment">/// Adds a dependency automatically.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">addOptionPath</span>(
    options: *<a href="std.Build.Step.Options.html">Options</a>,
    name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>,
    path: <a href="std.Build.LazyPath.html">LazyPath</a>,
) <span class="tok-type">void</span> {
    options.args.append(.{
        .name = options.step.owner.dupe(name),
        .path = path.dupe(options.step.owner),
    }) <span class="tok-kw">catch</span> <span class="tok-builtin">@panic</span>(<span class="tok-str">&quot;OOM&quot;</span>);
    path.addStepDependencies(&amp;options.step);
}

<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">createModule</span>(options: *<a href="std.Build.Step.Options.html">Options</a>) *<a href="std.html">std</a>.<a href="std.Build.html">Build</a>.<a href="std.Build.Module.html">Module</a> {
    <span class="tok-kw">return</span> options.step.owner.createModule(.{
        .root_source_file = options.getOutput(),
    });
}

<span class="tok-comment">/// Returns the main artifact of this Build Step which is a Zig source file</span>
<span class="tok-comment">/// generated from the key-value pairs of the Options.</span>
<span class="tok-kw">pub</span> <span class="tok-kw">fn</span> <span class="tok-fn">getOutput</span>(options: *<a href="std.Build.Step.Options.html">Options</a>) <a href="std.Build.LazyPath.html">LazyPath</a> {
    <span class="tok-kw">return</span> .{ .generated = .{ .file = &amp;options.generated_file } };
}

<span class="tok-kw">fn</span> <span class="tok-fn">make</span>(step: *<a href="std.Build.Step.html">Step</a>, make_options: <a href="std.Build.Step.html">Step</a>.<a href="std.Build.Step.MakeOptions.html">MakeOptions</a>) !<span class="tok-type">void</span> {<span class="tok-comment">
    // This step completes so quickly that no progress reporting is necessary.
    </span>_ = make_options;

    <span class="tok-kw">const</span> b = step.owner;
    <span class="tok-kw">const</span> options: *<a href="std.Build.Step.Options.html">Options</a> = <span class="tok-builtin">@fieldParentPtr</span>(<span class="tok-str">&quot;step&quot;</span>, step);

    <span class="tok-kw">for</span> (options.args.items) |item| {
        options.addOption(
            []<span class="tok-kw">const</span> <span class="tok-type">u8</span>,
            item.name,
            item.path.getPath2(b, step),
        );
    }
    <span class="tok-kw">if</span> (!step.inputs.populated()) <span class="tok-kw">for</span> (options.args.items) |item| {
        <span class="tok-kw">try</span> step.addWatchInput(item.path);
    };

    <span class="tok-kw">const</span> basename = <span class="tok-str">&quot;options.zig&quot;</span>;<span class="tok-comment">

    // Hash contents to file name.
    </span><span class="tok-kw">var</span> hash = b.graph.cache.hash;<span class="tok-comment">
    // Random bytes to make unique. Refresh this with new random bytes when
    // implementation is modified in a non-backwards-compatible way.
    </span>hash.add(<span class="tok-builtin">@as</span>(<span class="tok-type">u32</span>, <span class="tok-number">0xad95e922</span>));
    hash.addBytes(options.contents.items);
    <span class="tok-kw">const</span> sub_path = <span class="tok-str">&quot;c&quot;</span> ++ <a href="std.fs.html">fs</a>.<a href="std.fs.path.html">path</a>.<a href="std.fs.path.html#std.fs.path.sep_str">sep_str</a> ++ hash.final() ++ <a href="std.fs.html">fs</a>.<a href="std.fs.path.html">path</a>.<a href="std.fs.path.html#std.fs.path.sep_str">sep_str</a> ++ basename;

    options.generated_file.path = <span class="tok-kw">try</span> b.cache_root.join(b.allocator, &amp;.{sub_path});<span class="tok-comment">

    // Optimize for the hot path. Stat the file, and if it already exists,
    // cache hit.
    </span><span class="tok-kw">if</span> (b.cache_root.handle.access(sub_path, .{})) |_| {<span class="tok-comment">
        // This is the hot path, success.
        </span>step.result_cached = <span class="tok-null">true</span>;
        <span class="tok-kw">return</span>;
    } <span class="tok-kw">else</span> |outer_err| <span class="tok-kw">switch</span> (outer_err) {
        <span class="tok-kw">error</span>.FileNotFound =&gt; {
            <span class="tok-kw">const</span> sub_dirname = <a href="std.fs.html">fs</a>.<a href="std.fs.path.html">path</a>.<a href="std.fs.path.html#std.fs.path.dirname">dirname</a>(sub_path).?;
            b.cache_root.handle.makePath(sub_dirname) <span class="tok-kw">catch</span> |e| {
                <span class="tok-kw">return</span> step.fail(<span class="tok-str">&quot;unable to make path '{}{s}': {s}&quot;</span>, .{
                    b.cache_root, sub_dirname, <span class="tok-builtin">@errorName</span>(e),
                });
            };

            <span class="tok-kw">const</span> rand_int = <a href="std.html">std</a>.<a href="std.crypto.html">crypto</a>.<a href="std.crypto.tlcsprng.html#std.crypto.tlcsprng.interface">random</a>.<a href="#">int</a>(<span class="tok-type">u64</span>);
            <span class="tok-kw">const</span> tmp_sub_path = <span class="tok-str">&quot;tmp&quot;</span> ++ <a href="std.fs.html">fs</a>.<a href="std.fs.path.html">path</a>.<a href="std.fs.path.html#std.fs.path.sep_str">sep_str</a> ++
                <a href="std.html">std</a>.<a href="std.fmt.html">fmt</a>.<a href="std.fmt.html#std.fmt.hex">hex</a>(rand_int) ++ <a href="std.fs.html">fs</a>.<a href="std.fs.path.html">path</a>.<a href="std.fs.path.html#std.fs.path.sep_str">sep_str</a> ++
                basename;
            <span class="tok-kw">const</span> tmp_sub_path_dirname = <a href="std.fs.html">fs</a>.<a href="std.fs.path.html">path</a>.<a href="std.fs.path.html#std.fs.path.dirname">dirname</a>(tmp_sub_path).?;

            b.cache_root.handle.makePath(tmp_sub_path_dirname) <span class="tok-kw">catch</span> |err| {
                <span class="tok-kw">return</span> step.fail(<span class="tok-str">&quot;unable to make temporary directory '{}{s}': {s}&quot;</span>, .{
                    b.cache_root, tmp_sub_path_dirname, <span class="tok-builtin">@errorName</span>(err),
                });
            };

            b.cache_root.handle.writeFile(.{ .sub_path = tmp_sub_path, .data = options.contents.items }) <span class="tok-kw">catch</span> |err| {
                <span class="tok-kw">return</span> step.fail(<span class="tok-str">&quot;unable to write options to '{}{s}': {s}&quot;</span>, .{
                    b.cache_root, tmp_sub_path, <span class="tok-builtin">@errorName</span>(err),
                });
            };

            b.cache_root.handle.rename(tmp_sub_path, sub_path) <span class="tok-kw">catch</span> |err| <span class="tok-kw">switch</span> (err) {
                <span class="tok-kw">error</span>.PathAlreadyExists =&gt; {<span class="tok-comment">
                    // Other process beat us to it. Clean up the temp file.
                    </span>b.cache_root.handle.deleteFile(tmp_sub_path) <span class="tok-kw">catch</span> |e| {
                        <span class="tok-kw">try</span> step.addError(<span class="tok-str">&quot;warning: unable to delete temp file '{}{s}': {s}&quot;</span>, .{
                            b.cache_root, tmp_sub_path, <span class="tok-builtin">@errorName</span>(e),
                        });
                    };
                    step.result_cached = <span class="tok-null">true</span>;
                    <span class="tok-kw">return</span>;
                },
                <span class="tok-kw">else</span> =&gt; {
                    <span class="tok-kw">return</span> step.fail(<span class="tok-str">&quot;unable to rename options from '{}{s}' to '{}{s}': {s}&quot;</span>, .{
                        b.cache_root,    tmp_sub_path,
                        b.cache_root,    sub_path,
                        <span class="tok-builtin">@errorName</span>(err),
                    });
                },
            };
        },
        <span class="tok-kw">else</span> =&gt; |e| <span class="tok-kw">return</span> step.fail(<span class="tok-str">&quot;unable to access options file '{}{s}': {s}&quot;</span>, .{
            b.cache_root, sub_path, <span class="tok-builtin">@errorName</span>(e),
        }),
    }
}

<span class="tok-kw">const</span> Arg = <span class="tok-kw">struct</span> {
    name: []<span class="tok-kw">const</span> <span class="tok-type">u8</span>,
    path: <a href="std.Build.LazyPath.html">LazyPath</a>,
};

<span class="tok-kw">test</span> Options {
    <span class="tok-kw">if</span> (<a href="builtin.html">builtin</a>.<a href="builtin.html#builtin.os">os</a>.<a href="#">tag</a> == .wasi) <span class="tok-kw">return</span> <span class="tok-kw">error</span>.SkipZigTest;

    <span class="tok-kw">var</span> arena = <a href="std.html">std</a>.<a href="std.heap.html">heap</a>.<a href="std.heap.arena_allocator.ArenaAllocator.html">ArenaAllocator</a>.<a href="std.heap.arena_allocator.ArenaAllocator.html#std.heap.arena_allocator.ArenaAllocator.init">init</a>(<a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.allocator">allocator</a>);
    <span class="tok-kw">defer</span> arena.deinit();

    <span class="tok-kw">var</span> graph: <a href="std.html">std</a>.<a href="std.Build.html">Build</a>.<a href="std.Build.Graph.html">Graph</a> = .{
        .arena = arena.allocator(),
        .cache = .{
            .gpa = arena.allocator(),
            .manifest_dir = <a href="std.html">std</a>.<a href="std.fs.html">fs</a>.<a href="std.fs.html#std.fs.cwd">cwd</a>(),
        },
        .zig_exe = <span class="tok-str">&quot;test&quot;</span>,
        .env_map = <a href="std.html">std</a>.<a href="std.process.html">process</a>.<a href="std.process.EnvMap.html">EnvMap</a>.<a href="std.process.EnvMap.html#std.process.EnvMap.init">init</a>(arena.allocator()),
        .global_cache_root = .{ .path = <span class="tok-str">&quot;test&quot;</span>, .handle = <a href="std.html">std</a>.<a href="std.fs.html">fs</a>.<a href="std.fs.html#std.fs.cwd">cwd</a>() },
        .host = .{
            .query = .{},
            .result = <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.system.html">system</a>.<a href="std.zig.system.html#std.zig.system.resolveTargetQuery">resolveTargetQuery</a>(.{}),
        },
        .zig_lib_directory = <a href="std.html">std</a>.<a href="std.Build.html">Build</a>.<a href="std.Build.Cache.html">Cache</a>.<a href="std.Build.Cache.Directory.html">Directory</a>.<a href="std.Build.Cache.Directory.html#std.Build.Cache.Directory.cwd">cwd</a>(),
    };

    <span class="tok-kw">var</span> builder = <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.Build.html">Build</a>.<a href="std.Build.html#std.Build.create">create</a>(
        &amp;graph,
        .{ .path = <span class="tok-str">&quot;test&quot;</span>, .handle = <a href="std.html">std</a>.<a href="std.fs.html">fs</a>.<a href="std.fs.html#std.fs.cwd">cwd</a>() },
        .{ .path = <span class="tok-str">&quot;test&quot;</span>, .handle = <a href="std.html">std</a>.<a href="std.fs.html">fs</a>.<a href="std.fs.html#std.fs.cwd">cwd</a>() },
        &amp;.{},
    );

    <span class="tok-kw">const</span> options = builder.addOptions();

    <span class="tok-kw">const</span> KeywordEnum = <span class="tok-kw">enum</span> {
        @&quot;0.8.1&quot;,
    };

    <span class="tok-kw">const</span> NormalEnum = <span class="tok-kw">enum</span> {
        foo,
        bar,
    };

    <span class="tok-kw">const</span> nested_array = [<span class="tok-number">2</span>][<span class="tok-number">2</span>]<span class="tok-type">u16</span>{
        [<span class="tok-number">2</span>]<span class="tok-type">u16</span>{ <span class="tok-number">300</span>, <span class="tok-number">200</span> },
        [<span class="tok-number">2</span>]<span class="tok-type">u16</span>{ <span class="tok-number">300</span>, <span class="tok-number">200</span> },
    };
    <span class="tok-kw">const</span> nested_slice: []<span class="tok-kw">const</span> []<span class="tok-kw">const</span> <span class="tok-type">u16</span> = &amp;[_][]<span class="tok-kw">const</span> <span class="tok-type">u16</span>{ &amp;nested_array[<span class="tok-number">0</span>], &amp;nested_array[<span class="tok-number">1</span>] };

    <span class="tok-kw">const</span> NormalStruct = <span class="tok-kw">struct</span> {
        hello: ?[]<span class="tok-kw">const</span> <span class="tok-type">u8</span>,
        world: <span class="tok-type">bool</span> = <span class="tok-null">true</span>,
    };

    <span class="tok-kw">const</span> NestedStruct = <span class="tok-kw">struct</span> {
        normal_struct: NormalStruct,
        normal_enum: NormalEnum = .foo,
    };

    options.addOption(<span class="tok-type">usize</span>, <span class="tok-str">&quot;option1&quot;</span>, <span class="tok-number">1</span>);
    options.addOption(?<span class="tok-type">usize</span>, <span class="tok-str">&quot;option2&quot;</span>, <span class="tok-null">null</span>);
    options.addOption(?<span class="tok-type">usize</span>, <span class="tok-str">&quot;option3&quot;</span>, <span class="tok-number">3</span>);
    options.addOption(<span class="tok-type">comptime_int</span>, <span class="tok-str">&quot;option4&quot;</span>, <span class="tok-number">4</span>);
    options.addOption([]<span class="tok-kw">const</span> <span class="tok-type">u8</span>, <span class="tok-str">&quot;string&quot;</span>, <span class="tok-str">&quot;zigisthebest&quot;</span>);
    options.addOption(?[]<span class="tok-kw">const</span> <span class="tok-type">u8</span>, <span class="tok-str">&quot;optional_string&quot;</span>, <span class="tok-null">null</span>);
    options.addOption([<span class="tok-number">2</span>][<span class="tok-number">2</span>]<span class="tok-type">u16</span>, <span class="tok-str">&quot;nested_array&quot;</span>, nested_array);
    options.addOption([]<span class="tok-kw">const</span> []<span class="tok-kw">const</span> <span class="tok-type">u16</span>, <span class="tok-str">&quot;nested_slice&quot;</span>, nested_slice);
    options.addOption(KeywordEnum, <span class="tok-str">&quot;keyword_enum&quot;</span>, .@&quot;0.8.1&quot;);
    options.addOption(<a href="std.html">std</a>.<a href="std.SemanticVersion.html">SemanticVersion</a>, <span class="tok-str">&quot;semantic_version&quot;</span>, <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.SemanticVersion.html">SemanticVersion</a>.<a href="std.SemanticVersion.html#std.SemanticVersion.parse">parse</a>(<span class="tok-str">&quot;0.1.2-foo+bar&quot;</span>));
    options.addOption(NormalEnum, <span class="tok-str">&quot;normal1_enum&quot;</span>, NormalEnum.foo);
    options.addOption(NormalEnum, <span class="tok-str">&quot;normal2_enum&quot;</span>, NormalEnum.bar);
    options.addOption(NormalStruct, <span class="tok-str">&quot;normal1_struct&quot;</span>, NormalStruct{
        .hello = <span class="tok-str">&quot;foo&quot;</span>,
    });
    options.addOption(NormalStruct, <span class="tok-str">&quot;normal2_struct&quot;</span>, NormalStruct{
        .hello = <span class="tok-null">null</span>,
        .world = <span class="tok-null">false</span>,
    });
    options.addOption(NestedStruct, <span class="tok-str">&quot;nested_struct&quot;</span>, NestedStruct{
        .normal_struct = .{ .hello = <span class="tok-str">&quot;bar&quot;</span> },
    });

    <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.testing.html">testing</a>.<a href="std.testing.html#std.testing.expectEqualStrings">expectEqualStrings</a>(
        <span class="tok-str">\\pub const option1: usize = 1;</span>
        <span class="tok-str">\\pub const option2: ?usize = null;</span>
        <span class="tok-str">\\pub const option3: ?usize = 3;</span>
        <span class="tok-str">\\pub const option4: comptime_int = 4;</span>
        <span class="tok-str">\\pub const string: []const u8 = &quot;zigisthebest&quot;;</span>
        <span class="tok-str">\\pub const optional_string: ?[]const u8 = null;</span>
        <span class="tok-str">\\pub const nested_array: [2][2]u16 = [2][2]u16 {</span>
        <span class="tok-str">\\    [2]u16 {</span>
        <span class="tok-str">\\        300,</span>
        <span class="tok-str">\\        200,</span>
        <span class="tok-str">\\    },</span>
        <span class="tok-str">\\    [2]u16 {</span>
        <span class="tok-str">\\        300,</span>
        <span class="tok-str">\\        200,</span>
        <span class="tok-str">\\    },</span>
        <span class="tok-str">\\};</span>
        <span class="tok-str">\\pub const nested_slice: []const []const u16 = &amp;[_][]const u16 {</span>
        <span class="tok-str">\\    &amp;[_]u16 {</span>
        <span class="tok-str">\\        300,</span>
        <span class="tok-str">\\        200,</span>
        <span class="tok-str">\\    },</span>
        <span class="tok-str">\\    &amp;[_]u16 {</span>
        <span class="tok-str">\\        300,</span>
        <span class="tok-str">\\        200,</span>
        <span class="tok-str">\\    },</span>
        <span class="tok-str">\\};</span>
        <span class="tok-str">\\pub const @&quot;Build.Step.Options.decltest.Options.KeywordEnum&quot; = enum (u0) {</span>
        <span class="tok-str">\\    @&quot;0.8.1&quot; = 0,</span>
        <span class="tok-str">\\};</span>
        <span class="tok-str">\\pub const keyword_enum: @&quot;Build.Step.Options.decltest.Options.KeywordEnum&quot; = .@&quot;0.8.1&quot;;</span>
        <span class="tok-str">\\pub const semantic_version: @import(&quot;std&quot;).SemanticVersion = .{</span>
        <span class="tok-str">\\    .major = 0,</span>
        <span class="tok-str">\\    .minor = 1,</span>
        <span class="tok-str">\\    .patch = 2,</span>
        <span class="tok-str">\\    .pre = &quot;foo&quot;,</span>
        <span class="tok-str">\\    .build = &quot;bar&quot;,</span>
        <span class="tok-str">\\};</span>
        <span class="tok-str">\\pub const @&quot;Build.Step.Options.decltest.Options.NormalEnum&quot; = enum (u1) {</span>
        <span class="tok-str">\\    foo = 0,</span>
        <span class="tok-str">\\    bar = 1,</span>
        <span class="tok-str">\\};</span>
        <span class="tok-str">\\pub const normal1_enum: @&quot;Build.Step.Options.decltest.Options.NormalEnum&quot; = .foo;</span>
        <span class="tok-str">\\pub const normal2_enum: @&quot;Build.Step.Options.decltest.Options.NormalEnum&quot; = .bar;</span>
        <span class="tok-str">\\pub const @&quot;Build.Step.Options.decltest.Options.NormalStruct&quot; = struct {</span>
        <span class="tok-str">\\    hello: ?[]const u8,</span>
        <span class="tok-str">\\    world: bool = true,</span>
        <span class="tok-str">\\};</span>
        <span class="tok-str">\\pub const normal1_struct: @&quot;Build.Step.Options.decltest.Options.NormalStruct&quot; = .{</span>
        <span class="tok-str">\\    .hello = &quot;foo&quot;,</span>
        <span class="tok-str">\\    .world = true,</span>
        <span class="tok-str">\\};</span>
        <span class="tok-str">\\pub const normal2_struct: @&quot;Build.Step.Options.decltest.Options.NormalStruct&quot; = .{</span>
        <span class="tok-str">\\    .hello = null,</span>
        <span class="tok-str">\\    .world = false,</span>
        <span class="tok-str">\\};</span>
        <span class="tok-str">\\pub const @&quot;Build.Step.Options.decltest.Options.NestedStruct&quot; = struct {</span>
        <span class="tok-str">\\    normal_struct: @&quot;Build.Step.Options.decltest.Options.NormalStruct&quot;,</span>
        <span class="tok-str">\\    normal_enum: @&quot;Build.Step.Options.decltest.Options.NormalEnum&quot; = .foo,</span>
        <span class="tok-str">\\};</span>
        <span class="tok-str">\\pub const nested_struct: @&quot;Build.Step.Options.decltest.Options.NestedStruct&quot; = .{</span>
        <span class="tok-str">\\    .normal_struct = .{</span>
        <span class="tok-str">\\        .hello = &quot;bar&quot;,</span>
        <span class="tok-str">\\        .world = true,</span>
        <span class="tok-str">\\    },</span>
        <span class="tok-str">\\    .normal_enum = .foo,</span>
        <span class="tok-str">\\};</span>
        <span class="tok-str">\\</span>
    , options.contents.items);

    _ = <span class="tok-kw">try</span> <a href="std.html">std</a>.<a href="std.zig.html">zig</a>.<a href="std.zig.Ast.html">Ast</a>.<a href="std.zig.Ast.html#std.zig.Ast.parse">parse</a>(arena.allocator(), <span class="tok-kw">try</span> options.contents.toOwnedSliceSentinel(<span class="tok-number">0</span>), .zig);
}</code></pre></details></div></div></section>
    <div class="sectSearchResults hidden">
      <h2>Search Results</h2>
      <ul class="listSearchResults"></ul>
    </div>
    <div class="sectSearchNoResults hidden">
      <h2>No Results Found</h2>
      <p>Press escape to exit search and then '?' to see more options.</p>
    </div>
    <div id="helpDialog" class="hidden">
      <h1>Keyboard Shortcuts</h1>
      <dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd></dl>
      <dl><dt><kbd>Esc</kbd></dt><dd>Clear focus; close this dialog</dd></dl>
      <dl><dt><kbd>s</kbd></dt><dd>Focus the search field</dd></dl>
      <dl><dt><kbd>u</kbd></dt><dd>Go to source code</dd></dl>
      <dl><dt><kbd></kbd></dt><dd>Move up in search results</dd></dl>
      <dl><dt><kbd></kbd></dt><dd>Move down in search results</dd></dl>
      <dl><dt><kbd></kbd></dt><dd>Go to active search result</dd></dl>
    </div>
    <div id="errors" class="hidden">
      <h1>Errors</h1>
      <pre id="errorsText"></pre>
    </div>
    <script src="main.js"></script>
  </body>
</html>
